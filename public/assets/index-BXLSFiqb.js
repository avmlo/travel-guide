â€¢ Hotels to stay`;u(K=>[...K,{role:"assistant",content:k,destinations:T}])}catch{u(T=>[...T,{role:"assistant",content:"Sorry, I encountered an error. Please try again!"}])}finally{b(!1)}},j=_=>{_.key==="Enter"&&!_.shiftKey&&(_.preventDefault(),w())},D=_=>{y(`/destination/${_}`),n(!1),u([])};return s?a?c.jsxDEV("div",{"data-loc":"client/src/components/ChatGPTStyleAI.tsx:162",className:"fixed bottom-6 left-1/2 -translate-x-1/2 z-50",children:c.jsxDEV("button",{"data-loc":"client/src/components/ChatGPTStyleAI.tsx:163",onClick:()=>o(!1),className:"px-6 py-3 bg-gradient-to-r from-purple-600 to-blue-600 text-white rounded-full shadow-lg hover:shadow-xl transition-all flex items-center gap-2",children:[c.jsxDEV(ZS,{"data-loc":"client/src/components/ChatGPTStyleAI.tsx:167",className:"w-5 h-5"},void 0,!1,{fileName:"/home/ubuntu/travel-guide/client/src/components/ChatGPTStyleAI.tsx",lineNumber:167,columnNumber:11},this),c.jsxDEV("span",{"data-loc":"client/src/components/ChatGPTStyleAI.tsx:168",className:"font-medium",children:"Travel Assistant"},void 0,!1,{fileName:"/home/ubuntu/travel-guide/client/src/components/ChatGPTStyleAI.tsx",lineNumber:168,columnNumber:11},this),c.jsxDEV("button",{"data-loc":"client/src/components/ChatGPTStyleAI.tsx:169",onClick:_=>{_.stopPropagation(),n(!1),o(!1)},className:"ml-2 hover:bg-white/20 rounded-full p-1",children:c.jsxDEV(Di,{"data-loc":"client/src/components/ChatGPTStyleAI.tsx:177",className:"w-4 h-4"},void 0,!1,{fileName:"/home/ubuntu/travel-guide/client/src/components/ChatGPTStyleAI.tsx",lineNumber:177,columnNumber:13},this)},void 0,!1,{fileName:"/home/ubuntu/travel-guide/client/src/components/ChatGPTStyleAI.tsx",lineNumber:169,columnNumber:11},this)]},void 0,!0,{fileName:"/home/ubuntu/travel-guide/client/src/components/ChatGPTStyleAI.tsx",lineNumber:163,columnNumber:9},this)},void 0,!1,{fileName:"/home/ubuntu/travel-guide/client/src/components/ChatGPTStyleAI.tsx",lineNumber:162,columnNumber:7},this):c.jsxDEV("div",{"data-loc":"client/src/components/ChatGPTStyleAI.tsx:185",className:"fixed bottom-6 left-1/2 -translate-x-1/2 z-50 w-full max-w-3xl px-4",children:[l.length>0&&c.jsxDEV("div",{"data-loc":"client/src/components/ChatGPTStyleAI.tsx:188",className:"mb-4 max-h-[32rem] overflow-y-auto rounded-2xl p-4 space-y-4",style:{background:"rgba(255, 255, 255, 0.8)",backdropFilter:"blur(10px)",WebkitBackdropFilter:"blur(10px)",border:"1px solid rgba(255, 255, 255, 0.2)",boxShadow:"0 8px 32px 0 rgba(31, 38, 135, 0.15)"},children:[l.map((_,C)=>c.jsxDEV("div",{"data-loc":"client/src/components/ChatGPTStyleAI.tsx:199",className:"space-y-3",children:[c.jsxDEV("div",{"data-loc":"client/src/components/ChatGPTStyleAI.tsx:200",className:`flex ${_.role==="user"?"justify-end":"justify-start"}`,children:c.jsxDEV("div",{"data-loc":"client/src/components/ChatGPTStyleAI.tsx:201",className:`max-w-[80%] px-4 py-2 rounded-2xl ${_.role==="user"?"bg-gradient-to-r from-purple-600 to-blue-600 text-white":"bg-white/90 text-gray-800 border border-gray-200"}`,children:c.jsxDEV("div",{"data-loc":"client/src/components/ChatGPTStyleAI.tsx:208",className:"text-sm whitespace-pre-wrap",children:_.content},void 0,!1,{fileName:"/home/ubuntu/travel-guide/client/src/components/ChatGPTStyleAI.tsx",lineNumber:208,columnNumber:19},this)},void 0,!1,{fileName:"/home/ubuntu/travel-guide/client/src/components/ChatGPTStyleAI.tsx",lineNumber:201,columnNumber:17},this)},void 0,!1,{fileName:"/home/ubuntu/travel-guide/client/src/components/ChatGPTStyleAI.tsx",lineNumber:200,columnNumber:15},this),_.destinations&&_.destinations.length>0&&c.jsxDEV("div",{"data-loc":"client/src/components/ChatGPTStyleAI.tsx:214",className:"grid grid-cols-2 sm:grid-cols-3 gap-3",children:_.destinations.map(k=>c.jsxDEV("button",{"data-loc":"client/src/components/ChatGPTStyleAI.tsx:216",onClick:()=>D(k.slug),className:"bg-white rounded-xl overflow-hidden shadow-sm hover:shadow-md transition-all group text-left",children:[c.jsxDEV("div",{"data-loc":"client/src/components/ChatGPTStyleAI.tsx:221",className:"aspect-square relative overflow-hidden",children:[c.jsxDEV("img",{"data-loc":"client/src/components/ChatGPTStyleAI.tsx:222",src:k.image_url,alt:k.name,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-300"},void 0,!1,{fileName:"/home/ubuntu/travel-guide/client/src/components/ChatGPTStyleAI.tsx",lineNumber:222,columnNumber:25},this),k.michelin_stars&&c.jsxDEV("div",{"data-loc":"client/src/components/ChatGPTStyleAI.tsx:228",className:"absolute top-2 right-2 bg-black/70 text-white px-2 py-1 rounded-full text-xs flex items-center gap-1",children:[c.jsxDEV(Rs,{"data-loc":"client/src/components/ChatGPTStyleAI.tsx:229",className:"w-3 h-3 fill-yellow-400 text-yellow-400"},void 0,!1,{fileName:"/home/ubuntu/travel-guide/client/src/components/ChatGPTStyleAI.tsx",lineNumber:229,columnNumber:29},this),k.michelin_stars]},void 0,!0,{fileName:"/home/ubuntu/travel-guide/client/src/components/ChatGPTStyleAI.tsx",lineNumber:228,columnNumber:27},this)]},void 0,!0,{fileName:"/home/ubuntu/travel-guide/client/src/components/ChatGPTStyleAI.tsx",lineNumber:221,columnNumber:23},this),c.jsxDEV("div",{"data-loc":"client/src/components/ChatGPTStyleAI.tsx:234",className:"p-3",children:[c.jsxDEV("h3",{"data-loc":"client/src/components/ChatGPTStyleAI.tsx:235",className:"font-medium text-sm text-gray-900 line-clamp-1 group-hover:text-purple-600 transition-colors",children:k.name},void 0,!1,{fileName:"/home/ubuntu/travel-guide/client/src/components/ChatGPTStyleAI.tsx",lineNumber:235,columnNumber:25},this),c.jsxDEV("div",{"data-loc":"client/src/components/ChatGPTStyleAI.tsx:238",className:"flex items-center gap-1 mt-1 text-xs text-gray-500",children:[c.jsxDEV(ks,{"data-loc":"client/src/components/ChatGPTStyleAI.tsx:239",className:"w-3 h-3"},void 0,!1,{fileName:"/home/ubuntu/travel-guide/client/src/components/ChatGPTStyleAI.tsx",lineNumber:239,columnNumber:27},this),c.jsxDEV("span",{"data-loc":"client/src/components/ChatGPTStyleAI.tsx:240",children:k.city},void 0,!1,{fileName:"/home/ubuntu/travel-guide/client/src/components/ChatGPTStyleAI.tsx",lineNumber:240,columnNumber:27},this)]},void 0,!0,{fileName:"/home/ubuntu/travel-guide/client/src/components/ChatGPTStyleAI.tsx",lineNumber:238,columnNumber:25},this)]},void 0,!0,{fileName:"/home/ubuntu/travel-guide/client/src/components/ChatGPTStyleAI.tsx",lineNumber:234,columnNumber:23},this)]},k.slug,!0,{fileName:"/home/ubuntu/travel-guide/client/src/components/ChatGPTStyleAI.tsx",lineNumber:216,columnNumber:21},this))},void 0,!1,{fileName:"/home/ubuntu/travel-guide/client/src/components/ChatGPTStyleAI.tsx",lineNumber:214,columnNumber:17},this)]},C,!0,{fileName:"/home/ubuntu/travel-guide/client/src/components/ChatGPTStyleAI.tsx",lineNumber:199,columnNumber:13},this)),p&&c.jsxDEV("div",{"data-loc":"client/src/components/ChatGPTStyleAI.tsx:250",className:"flex justify-start",children:c.jsxDEV("div",{"data-loc":"client/src/components/ChatGPTStyleAI.tsx:251",className:"bg-white/90 text-gray-800 border border-gray-200 px-4 py-2 rounded-2xl",children:c.jsxDEV("div",{"data-loc":"client/src/components/ChatGPTStyleAI.tsx:252",className:"flex gap-1",children:[c.jsxDEV("div",{"data-loc":"client/src/components/ChatGPTStyleAI.tsx:253",className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce",style:{animationDelay:"0ms"}},void 0,!1,{fileName:"/home/ubuntu/travel-guide/client/src/components/ChatGPTStyleAI.tsx",lineNumber:253,columnNumber:19},this),c.jsxDEV("div",{"data-loc":"client/src/components/ChatGPTStyleAI.tsx:254",className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce",style:{animationDelay:"150ms"}},void 0,!1,{fileName:"/home/ubuntu/travel-guide/client/src/components/ChatGPTStyleAI.tsx",lineNumber:254,columnNumber:19},this),c.jsxDEV("div",{"data-loc":"client/src/components/ChatGPTStyleAI.tsx:255",className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce",style:{animationDelay:"300ms"}},void 0,!1,{fileName:"/home/ubuntu/travel-guide/client/src/components/ChatGPTStyleAI.tsx",lineNumber:255,columnNumber:19},this)]},void 0,!0,{fileName:"/home/ubuntu/travel-guide/client/src/components/ChatGPTStyleAI.tsx",lineNumber:252,columnNumber:17},this)},void 0,!1,{fileName:"/home/ubuntu/travel-guide/client/src/components/ChatGPTStyleAI.tsx",lineNumber:251,columnNumber:15},this)},void 0,!1,{fileName:"/home/ubuntu/travel-guide/client/src/components/ChatGPTStyleAI.tsx",lineNumber:250,columnNumber:13},this),c.jsxDEV("div",{"data-loc":"client/src/components/ChatGPTStyleAI.tsx:260",ref:N},void 0,!1,{fileName:"/home/ubuntu/travel-guide/client/src/components/ChatGPTStyleAI.tsx",lineNumber:260,columnNumber:11},this)]},void 0,!0,{fileName:"/home/ubuntu/travel-guide/client/src/components/ChatGPTStyleAI.tsx",lineNumber:188,columnNumber:9},this),c.jsxDEV("div",{"data-loc":"client/src/components/ChatGPTStyleAI.tsx:265",className:"rounded-full p-2 flex items-center gap-2",style:{background:"rgba(255, 255, 255, 0.8)",backdropFilter:"blur(10px)",WebkitBackdropFilter:"blur(10px)",border:"1px solid rgba(255, 255, 255, 0.2)",boxShadow:"0 8px 32px 0 rgba(31, 38, 135, 0.2)"},children:[c.jsxDEV("button",{"data-loc":"client/src/components/ChatGPTStyleAI.tsx:275",onClick:()=>o(!0),className:"p-2 hover:bg-gray-100 rounded-full transition-colors flex-shrink-0",children:c.jsxDEV(q3,{"data-loc":"client/src/components/ChatGPTStyleAI.tsx:279",className:"w-5 h-5 text-gray-600"},void 0,!1,{fileName:"/home/ubuntu/travel-guide/client/src/components/ChatGPTStyleAI.tsx",lineNumber:279,columnNumber:11},this)},void 0,!1,{fileName:"/home/ubuntu/travel-guide/client/src/components/ChatGPTStyleAI.tsx",lineNumber:275,columnNumber:9},this),c.jsxDEV("input",{"data-loc":"client/src/components/ChatGPTStyleAI.tsx:282",type:"text",value:f,onChange:_=>h(_.target.value),onKeyPress:j,placeholder:"Ask about destinations...",className:"flex-1 bg-transparent border-none outline-none px-2 text-gray-800 placeholder-gray-400"},void 0,!1,{fileName:"/home/ubuntu/travel-guide/client/src/components/ChatGPTStyleAI.tsx",lineNumber:282,columnNumber:9},this),l.length===0&&c.jsxDEV("div",{"data-loc":"client/src/components/ChatGPTStyleAI.tsx:292",className:"hidden md:flex gap-2 flex-shrink-0",children:["Paris restaurants","Tokyo hotels","Michelin stars"].map(_=>c.jsxDEV("button",{"data-loc":"client/src/components/ChatGPTStyleAI.tsx:294",onClick:()=>h(_),className:"px-3 py-1 bg-gray-100 hover:bg-gray-200 rounded-full text-xs text-gray-600 transition-colors",children:_},_,!1,{fileName:"/home/ubuntu/travel-guide/client/src/components/ChatGPTStyleAI.tsx",lineNumber:294,columnNumber:15},this))},void 0,!1,{fileName:"/home/ubuntu/travel-guide/client/src/components/ChatGPTStyleAI.tsx",lineNumber:292,columnNumber:11},this),c.jsxDEV("button",{"data-loc":"client/src/components/ChatGPTStyleAI.tsx:305",onClick:w,disabled:!f.trim(),className:"p-2 bg-gradient-to-r from-purple-600 to-blue-600 text-white rounded-full hover:shadow-lg transition-all disabled:opacity-50 disabled:cursor-not-allowed flex-shrink-0",children:c.jsxDEV(h7,{"data-loc":"client/src/components/ChatGPTStyleAI.tsx:310",className:"w-5 h-5"},void 0,!1,{fileName:"/home/ubuntu/travel-guide/client/src/components/ChatGPTStyleAI.tsx",lineNumber:310,columnNumber:11},this)},void 0,!1,{fileName:"/home/ubuntu/travel-guide/client/src/components/ChatGPTStyleAI.tsx",lineNumber:305,columnNumber:9},this),c.jsxDEV("button",{"data-loc":"client/src/components/ChatGPTStyleAI.tsx:313",onClick:()=>{n(!1),u([])},className:"p-2 hover:bg-gray-100 rounded-full transition-colors flex-shrink-0",children:c.jsxDEV(Di,{"data-loc":"client/src/components/ChatGPTStyleAI.tsx:320",className:"w-5 h-5 text-gray-600"},void 0,!1,{fileName:"/home/ubuntu/travel-guide/client/src/components/ChatGPTStyleAI.tsx",lineNumber:320,columnNumber:11},this)},void 0,!1,{fileName:"/home/ubuntu/travel-guide/client/src/components/ChatGPTStyleAI.tsx",lineNumber:313,columnNumber:9},this)]},void 0,!0,{fileName:"/home/ubuntu/travel-guide/client/src/components/ChatGPTStyleAI.tsx",lineNumber:265,columnNumber:7},this)]},void 0,!0,{fileName:"/home/ubuntu/travel-guide/client/src/components/ChatGPTStyleAI.tsx",lineNumber:185,columnNumber:5},this):c.jsxDEV("button",{"data-loc":"client/src/components/ChatGPTStyleAI.tsx:150",onClick:()=>n(!0),className:"fixed bottom-6 left-1/2 -translate-x-1/2 z-50 px-6 py-3 bg-gradient-to-r from-purple-600 to-blue-600 text-white rounded-full shadow-lg hover:shadow-xl transition-all flex items-center gap-2 group",children:[c.jsxDEV(ZS,{"data-loc":"client/src/components/ChatGPTStyleAI.tsx:154",className:"w-5 h-5 group-hover:animate-pulse"},void 0,!1,{fileName:"/home/ubuntu/travel-guide/client/src/components/ChatGPTStyleAI.tsx",lineNumber:154,columnNumber:9},this),c.jsxDEV("span",{"data-loc":"client/src/components/ChatGPTStyleAI.tsx:155",className:"font-medium",children:"Ask AI Travel Assistant"},void 0,!1,{fileName:"/home/ubuntu/travel-guide/client/src/components/ChatGPTStyleAI.tsx",lineNumber:155,columnNumber:9},this)]},void 0,!0,{fileName:"/home/ubuntu/travel-guide/client/src/components/ChatGPTStyleAI.tsx",lineNumber:150,columnNumber:7},this)}const P0={taipei:"Taiwan",taichung:"Taiwan",tainan:"Taiwan",kaohsiung:"Taiwan",tokyo:"Japan",kyoto:"Japan",osaka:"Japan",fukuoka:"Japan",sapporo:"Japan",nagoya:"Japan",kobe:"Japan",yokohama:"Japan",nara:"Japan",hiroshima:"Japan","new-york":"USA","los-angeles":"USA","san-francisco":"USA",chicago:"USA",miami:"USA",seattle:"USA",boston:"USA",portland:"USA",austin:"USA",denver:"USA","las-vegas":"USA","washington-dc":"USA",philadelphia:"USA","san-diego":"USA",nashville:"USA","new-orleans":"USA",london:"UK",edinburgh:"UK",manchester:"UK",liverpool:"UK",bristol:"UK",oxford:"UK",cambridge:"UK",paris:"France",lyon:"France",marseille:"France",nice:"France",bordeaux:"France",cannes:"France",rome:"Italy",milan:"Italy",florence:"Italy",venice:"Italy",naples:"Italy",bologna:"Italy",turin:"Italy",barcelona:"Spain",madrid:"Spain",seville:"Spain",valencia:"Spain",bilbao:"Spain","san-sebastian":"Spain",berlin:"Germany",munich:"Germany",hamburg:"Germany",frankfurt:"Germany",cologne:"Germany",dresden:"Germany",amsterdam:"Netherlands",rotterdam:"Netherlands","the-hague":"Netherlands",utrecht:"Netherlands",zurich:"Switzerland",geneva:"Switzerland",basel:"Switzerland",bern:"Switzerland",lausanne:"Switzerland",vienna:"Austria",salzburg:"Austria",innsbruck:"Austria",brussels:"Belgium",bruges:"Belgium",antwerp:"Belgium",ghent:"Belgium",copenhagen:"Denmark",aarhus:"Denmark",stockholm:"Sweden",gothenburg:"Sweden",malmo:"Sweden",oslo:"Norway",bergen:"Norway",helsinki:"Finland",reykjavik:"Iceland",lisbon:"Portugal",porto:"Portugal",athens:"Greece",santorini:"Greece",mykonos:"Greece",istanbul:"Turkey",ankara:"Turkey",dubai:"UAE","abu-dhabi":"UAE",singapore:"Singapore","hong-kong":"Hong Kong",seoul:"South Korea",busan:"South Korea",beijing:"China",shanghai:"China",guangzhou:"China",shenzhen:"China",chengdu:"China",hangzhou:"China",bangkok:"Thailand","chiang-mai":"Thailand",phuket:"Thailand","kuala-lumpur":"Malaysia",penang:"Malaysia",bali:"Indonesia",jakarta:"Indonesia",hanoi:"Vietnam","ho-chi-minh-city":"Vietnam",manila:"Philippines",sydney:"Australia",melbourne:"Australia",brisbane:"Australia",perth:"Australia",adelaide:"Australia",auckland:"New Zealand",wellington:"New Zealand",queenstown:"New Zealand",toronto:"Canada",vancouver:"Canada",montreal:"Canada",calgary:"Canada",ottawa:"Canada","mexico-city":"Mexico",cancun:"Mexico",guadalajara:"Mexico","sao-paulo":"Brazil","rio-de-janeiro":"Brazil","buenos-aires":"Argentina","cape-town":"South Africa",johannesburg:"South Africa",marrakech:"Morocco",casablanca:"Morocco",cairo:"Egypt"},hh=["Taiwan","Japan","USA","UK","France","Italy","Spain","Germany","Netherlands","Switzerland","Austria","Belgium","Denmark","Sweden","Norway","Finland","Iceland","Portugal","Greece","Turkey","UAE","Singapore","Hong Kong","South Korea","China","Thailand","Malaysia","Indonesia","Vietnam","Philippines","Australia","New Zealand","Canada","Mexico","Brazil","Argentina","South Africa","Morocco","Egypt"];function P8(s){return s.split("-").map(n=>n.charAt(0).toUpperCase()+n.slice(1)).join(" ")}function M8(){Zt();const[s,n]=O.useState([]),[a,o]=O.useState(!0),[l,u]=O.useState(""),[f,h]=O.useState(""),[p,b]=O.useState(""),[N,y]=O.useState(40),[x,w]=O.useState(null),[j,D]=O.useState(!1),[_,C]=O.useState(!1),[k,T]=O.useState([]),[K,F]=O.useState([]),[U,z]=O.useState(null),[R,Q]=O.useState(!1);O.useEffect(()=>{async function W(){const{data:{session:ee}}=await fe.auth.getSession();if(z(ee?.user||null),ee?.user){const{data:Y}=await fe.from("saved_places").select("destination_slug").eq("user_id",ee.user.id);Y&&T(Y.map(xe=>xe.destination_slug));const{data:de}=await fe.from("visited_places").select("destination_slug").eq("user_id",ee.user.id);de&&F(de.map(xe=>xe.destination_slug))}}W();const{data:{subscription:B}}=fe.auth.onAuthStateChange(()=>{W()});return()=>B.unsubscribe()},[]),O.useEffect(()=>{async function W(){try{const{data:B,error:ee}=await fe.from("destinations").select("*").order("name");if(ee)throw ee;const Y=(B||[]).map(de=>({name:de.name,slug:de.slug,city:de.city,category:de.category,content:de.content||de.description||"",mainImage:de.image||"",michelinStars:de.michelin_stars||0,crown:de.crown||!1,brand:"",cardTags:"",lat:0,long:0,myRating:0,reviewed:!1,subline:""}));n(Y)}catch(B){console.error("Error loading destinations:",B)}finally{o(!1)}}W()},[]);const q=O.useMemo(()=>{const W=new Set(s.map(ee=>ee.city).filter(Boolean));return Array.from(W).sort((ee,Y)=>{const de=P0[ee]||"Other",xe=P0[Y]||"Other",V=hh.indexOf(de),le=hh.indexOf(xe);return de===xe?ee.localeCompare(Y):V===-1&&le===-1?de.localeCompare(xe):V===-1?1:le===-1?-1:V-le})},[s]),re=O.useMemo(()=>s.filter(W=>{const B=l===""||W.name.toLowerCase().includes(l.toLowerCase())||W.content.toLowerCase().includes(l.toLowerCase())||W.city.toLowerCase().includes(l.toLowerCase())||W.category.toLowerCase().includes(l.toLowerCase()),ee=!f||W.city===f,Y=!p||W.category===p;return B&&ee&&Y}),[s,l,f,p]),ne=re.slice(0,N),oe=N<re.length;O.useEffect(()=>{y(40)},[l,f,p]);const X=W=>{w(W),D(!0)};return _||q.slice(0,20),a?c.jsxDEV(T8,{"data-loc":"client/src/pages/Home.tsx:181"},void 0,!1,{fileName:"/home/ubuntu/travel-guide/client/src/pages/Home.tsx",lineNumber:181,columnNumber:12},this):c.jsxDEV("div",{"data-loc":"client/src/pages/Home.tsx:185",className:"min-h-screen bg-white dark:bg-gray-950 transition-colors duration-300",children:[c.jsxDEV(on,{"data-loc":"client/src/pages/Home.tsx:186"},void 0,!1,{fileName:"/home/ubuntu/travel-guide/client/src/pages/Home.tsx",lineNumber:186,columnNumber:7},this),c.jsxDEV("main",{"data-loc":"client/src/pages/Home.tsx:189",className:"px-6 md:px-10 py-12 dark:text-white",children:c.jsxDEV("div",{"data-loc":"client/src/pages/Home.tsx:190",className:"max-w-[1920px] mx-auto",children:[c.jsxDEV("div",{"data-loc":"client/src/pages/Home.tsx:192",className:"mb-8",children:c.jsxDEV("button",{"data-loc":"client/src/pages/Home.tsx:193",onClick:()=>Q(!0),className:"relative max-w-[500px] w-full text-left",children:c.jsxDEV("div",{"data-loc":"client/src/pages/Home.tsx:197",className:"flex items-center gap-3 px-4 py-3 bg-[#efefef] dark:bg-gray-800 rounded-lg hover:bg-gray-200 dark:hover:bg-gray-700 transition-colors",children:[c.jsxDEV(qu,{"data-loc":"client/src/pages/Home.tsx:198",className:"h-4 w-4 text-gray-400"},void 0,!1,{fileName:"/home/ubuntu/travel-guide/client/src/pages/Home.tsx",lineNumber:198,columnNumber:17},this),c.jsxDEV("span",{"data-loc":"client/src/pages/Home.tsx:199",className:"text-gray-500 dark:text-gray-400",children:["Search ",s.length," items..."]},void 0,!0,{fileName:"/home/ubuntu/travel-guide/client/src/pages/Home.tsx",lineNumber:199,columnNumber:17},this)]},void 0,!0,{fileName:"/home/ubuntu/travel-guide/client/src/pages/Home.tsx",lineNumber:197,columnNumber:15},this)},void 0,!1,{fileName:"/home/ubuntu/travel-guide/client/src/pages/Home.tsx",lineNumber:193,columnNumber:13},this)},void 0,!1,{fileName:"/home/ubuntu/travel-guide/client/src/pages/Home.tsx",lineNumber:192,columnNumber:11},this),c.jsxDEV("div",{"data-loc":"client/src/pages/Home.tsx:205",className:"mb-8",children:[c.jsxDEV("div",{"data-loc":"client/src/pages/Home.tsx:206",className:"mb-3",children:c.jsxDEV("h2",{"data-loc":"client/src/pages/Home.tsx:207",className:"text-xs font-bold uppercase",children:"Categories"},void 0,!1,{fileName:"/home/ubuntu/travel-guide/client/src/pages/Home.tsx",lineNumber:207,columnNumber:15},this)},void 0,!1,{fileName:"/home/ubuntu/travel-guide/client/src/pages/Home.tsx",lineNumber:206,columnNumber:13},this),c.jsxDEV("div",{"data-loc":"client/src/pages/Home.tsx:209",className:"flex flex-wrap gap-2",children:[{emoji:"ðŸŒ",label:"All",value:""},{emoji:"ðŸ½ï¸",label:"Eat & Drink",value:"Eat & Drink"},{emoji:"ðŸ¨",label:"Stay",value:"Stay"},{emoji:"ðŸ›ï¸",label:"Space",value:"Space"},{emoji:"âœ¨",label:"Other",value:"Other"}].map(W=>c.jsxDEV("button",{"data-loc":"client/src/pages/Home.tsx:217",onClick:()=>b(W.value),className:`px-4 py-2 rounded-full text-sm font-medium transition-all ${p===W.value?"bg-black text-white dark:bg-white dark:text-black":"bg-gray-100 text-gray-700 hover:bg-gray-200 dark:bg-gray-800 dark:text-gray-300 dark:hover:bg-gray-700"}`,children:[c.jsxDEV("span",{"data-loc":"client/src/pages/Home.tsx:226",className:"mr-1.5",children:W.emoji},void 0,!1,{fileName:"/home/ubuntu/travel-guide/client/src/pages/Home.tsx",lineNumber:226,columnNumber:19},this),W.label]},W.value,!0,{fileName:"/home/ubuntu/travel-guide/client/src/pages/Home.tsx",lineNumber:217,columnNumber:17},this))},void 0,!1,{fileName:"/home/ubuntu/travel-guide/client/src/pages/Home.tsx",lineNumber:209,columnNumber:13},this)]},void 0,!0,{fileName:"/home/ubuntu/travel-guide/client/src/pages/Home.tsx",lineNumber:205,columnNumber:11},this),c.jsxDEV("div",{"data-loc":"client/src/pages/Home.tsx:234",className:"mb-8",children:[c.jsxDEV("div",{"data-loc":"client/src/pages/Home.tsx:235",className:"mb-3",children:c.jsxDEV("h2",{"data-loc":"client/src/pages/Home.tsx:236",className:"text-xs font-bold uppercase",children:"Places"},void 0,!1,{fileName:"/home/ubuntu/travel-guide/client/src/pages/Home.tsx",lineNumber:236,columnNumber:15},this)},void 0,!1,{fileName:"/home/ubuntu/travel-guide/client/src/pages/Home.tsx",lineNumber:235,columnNumber:13},this),c.jsxDEV("div",{"data-loc":"client/src/pages/Home.tsx:238",className:"flex flex-wrap gap-x-4 gap-y-2 text-xs",children:[c.jsxDEV("button",{"data-loc":"client/src/pages/Home.tsx:239",onClick:()=>h(""),className:`transition-colors ${f?"font-medium text-black/30 dark:text-gray-500 hover:text-black/60 dark:hover:text-gray-300":"font-medium text-black dark:text-white"}`,children:"All"},void 0,!1,{fileName:"/home/ubuntu/travel-guide/client/src/pages/Home.tsx",lineNumber:239,columnNumber:15},this),(_?q:q.slice(0,20)).map(W=>c.jsxDEV("button",{"data-loc":"client/src/pages/Home.tsx:248",onClick:()=>h(W===f?"":W),className:`transition-colors ${f===W?"font-medium text-black dark:text-white":"font-medium text-black/30 dark:text-gray-500 hover:text-black/60 dark:hover:text-gray-300"}`,children:P8(W)},W,!1,{fileName:"/home/ubuntu/travel-guide/client/src/pages/Home.tsx",lineNumber:248,columnNumber:17},this)),q.length>20&&c.jsxDEV("button",{"data-loc":"client/src/pages/Home.tsx:259",onClick:()=>C(!_),className:"font-medium text-black/30 dark:text-gray-500 hover:text-black/60 dark:hover:text-gray-300 transition-colors",children:_?"- Show Less":"+ Show More"},void 0,!1,{fileName:"/home/ubuntu/travel-guide/client/src/pages/Home.tsx",lineNumber:259,columnNumber:17},this)]},void 0,!0,{fileName:"/home/ubuntu/travel-guide/client/src/pages/Home.tsx",lineNumber:238,columnNumber:13},this)]},void 0,!0,{fileName:"/home/ubuntu/travel-guide/client/src/pages/Home.tsx",lineNumber:234,columnNumber:11},this),c.jsxDEV("div",{"data-loc":"client/src/pages/Home.tsx:270",className:"mb-6",children:c.jsxDEV("p",{"data-loc":"client/src/pages/Home.tsx:271",className:"text-sm text-gray-500 dark:text-gray-400",children:[re.length," ",re.length===1?"destination":"destinations"]},void 0,!0,{fileName:"/home/ubuntu/travel-guide/client/src/pages/Home.tsx",lineNumber:271,columnNumber:13},this)},void 0,!1,{fileName:"/home/ubuntu/travel-guide/client/src/pages/Home.tsx",lineNumber:270,columnNumber:11},this),re.length===0?c.jsxDEV("div",{"data-loc":"client/src/pages/Home.tsx:278",className:"text-center py-20",children:[c.jsxDEV("p",{"data-loc":"client/src/pages/Home.tsx:279",className:"text-xl text-gray-400 mb-6",children:"No destinations found."},void 0,!1,{fileName:"/home/ubuntu/travel-guide/client/src/pages/Home.tsx",lineNumber:279,columnNumber:15},this),c.jsxDEV(wa,{"data-loc":"client/src/pages/Home.tsx:282",onClick:()=>{u(""),h("")},children:"Clear filters"},void 0,!1,{fileName:"/home/ubuntu/travel-guide/client/src/pages/Home.tsx",lineNumber:282,columnNumber:15},this)]},void 0,!0,{fileName:"/home/ubuntu/travel-guide/client/src/pages/Home.tsx",lineNumber:278,columnNumber:13},this):c.jsxDEV(c.Fragment,{children:[c.jsxDEV("div",{"data-loc":"client/src/pages/Home.tsx:293",className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 xl:grid-cols-6 2xl:grid-cols-7 gap-4 md:gap-6 animate-in fade-in duration-500",children:ne.map((W,B)=>c.jsxDEV(Rh,{"data-loc":"client/src/pages/Home.tsx:295",destination:W,colorIndex:B,onClick:()=>X(W),isSaved:k.includes(W.slug),isVisited:K.includes(W.slug)},W.slug,!1,{fileName:"/home/ubuntu/travel-guide/client/src/pages/Home.tsx",lineNumber:295,columnNumber:19},this))},void 0,!1,{fileName:"/home/ubuntu/travel-guide/client/src/pages/Home.tsx",lineNumber:293,columnNumber:15},this),oe&&c.jsxDEV("div",{"data-loc":"client/src/pages/Home.tsx:307",className:"flex justify-center mt-12",children:c.jsxDEV("button",{"data-loc":"client/src/pages/Home.tsx:308",onClick:()=>y(W=>W+40),className:"px-8 py-3 border border-gray-300 dark:border-gray-700 rounded-full text-sm font-medium text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-800 hover:border-gray-400 dark:hover:border-gray-600 transition-all",children:"Load More"},void 0,!1,{fileName:"/home/ubuntu/travel-guide/client/src/pages/Home.tsx",lineNumber:308,columnNumber:19},this)},void 0,!1,{fileName:"/home/ubuntu/travel-guide/client/src/pages/Home.tsx",lineNumber:307,columnNumber:17},this)]},void 0,!0,{fileName:"/home/ubuntu/travel-guide/client/src/pages/Home.tsx",lineNumber:292,columnNumber:13},this)]},void 0,!0,{fileName:"/home/ubuntu/travel-guide/client/src/pages/Home.tsx",lineNumber:190,columnNumber:9},this)},void 0,!1,{fileName:"/home/ubuntu/travel-guide/client/src/pages/Home.tsx",lineNumber:189,columnNumber:7},this),c.jsxDEV(fn,{"data-loc":"client/src/pages/Home.tsx:321"},void 0,!1,{fileName:"/home/ubuntu/travel-guide/client/src/pages/Home.tsx",lineNumber:321,columnNumber:7},this),c.jsxDEV(_8,{"data-loc":"client/src/pages/Home.tsx:324"},void 0,!1,{fileName:"/home/ubuntu/travel-guide/client/src/pages/Home.tsx",lineNumber:324,columnNumber:7},this),c.jsxDEV(C8,{"data-loc":"client/src/pages/Home.tsx:327",isOpen:R,onClose:()=>Q(!1),destinations:s,onSelectDestination:W=>{w(W),D(!0)}},void 0,!1,{fileName:"/home/ubuntu/travel-guide/client/src/pages/Home.tsx",lineNumber:327,columnNumber:7},this),x&&c.jsxDEV(Ro,{"data-loc":"client/src/pages/Home.tsx:339",destination:x,isOpen:j,onClose:()=>{D(!1),w(null)}},void 0,!1,{fileName:"/home/ubuntu/travel-guide/client/src/pages/Home.tsx",lineNumber:339,columnNumber:9},this),c.jsxDEV(V8,{"data-loc":"client/src/pages/Home.tsx:350"},void 0,!1,{fileName:"/home/ubuntu/travel-guide/client/src/pages/Home.tsx",lineNumber:350,columnNumber:7},this)]},void 0,!0,{fileName:"/home/ubuntu/travel-guide/client/src/pages/Home.tsx",lineNumber:185,columnNumber:5},this)}function L8({destinationSlug:s,destinationName:n,existingReview:a,onSuccess:o,onCancel:l}){const[u,f]=O.useState(a?.rating||0),[h,p]=O.useState(0),[b,N]=O.useState(a?.title||""),[y,x]=O.useState(a?.content||""),[w,j]=O.useState(a?.visit_date||""),[D,_]=O.useState(a?.photos||[]),[C,k]=O.useState(!1),[T,K]=O.useState(!1),F=async R=>{const Q=R.target.files;if(!(!Q||Q.length===0)){if(D.length+Q.length>5){Oe.error("Maximum 5 photos allowed");return}k(!0);try{const q=[];for(const re of Array.from(Q)){const ne=re.name.split(".").pop(),X=`review-photos/${`${Math.random()}.${ne}`}`,{error:W}=await fe.storage.from("review-photos").upload(X,re);if(W)throw W;const{data:B}=fe.storage.from("review-photos").getPublicUrl(X);q.push(B.publicUrl)}_([...D,...q]),Oe.success("Photos uploaded successfully")}catch(q){console.error("Error uploading photos:",q),Oe.error("Failed to upload photos")}finally{k(!1)}}},U=R=>{_(D.filter((Q,q)=>q!==R))},z=async R=>{if(R.preventDefault(),u===0){Oe.error("Please select a rating");return}if(!y.trim()){Oe.error("Please write a review");return}K(!0);try{const{data:{user:Q}}=await fe.auth.getUser();if(!Q){Oe.error("Please sign in to write a review");return}const q={user_id:Q.id,destination_slug:s,rating:u,title:b.trim()||null,content:y.trim(),photos:D,visit_date:w||null};if(a){const{error:re}=await fe.from("reviews").update(q).eq("id",a.id);if(re)throw re;Oe.success("Review updated successfully")}else{const{error:re}=await fe.from("reviews").insert(q);if(re)throw re;Oe.success("Review posted successfully")}o()}catch(Q){console.error("Error submitting review:",Q),Oe.error(Q.message||"Failed to submit review")}finally{K(!1)}};return c.jsxDEV("div",{"data-loc":"client/src/components/ReviewForm.tsx:147",className:"bg-white border border-gray-200 p-6 rounded-lg",children:[c.jsxDEV("div",{"data-loc":"client/src/components/ReviewForm.tsx:148",className:"flex items-center justify-between mb-6",children:[c.jsxDEV("h3",{"data-loc":"client/src/components/ReviewForm.tsx:149",className:"text-xl font-semibold",children:a?"Edit Your Review":"Write a Review"},void 0,!1,{fileName:"/home/ubuntu/travel-guide/client/src/components/ReviewForm.tsx",lineNumber:149,columnNumber:9},this),c.jsxDEV("button",{"data-loc":"client/src/components/ReviewForm.tsx:152",onClick:l,className:"text-gray-400 hover:text-gray-600",children:c.jsxDEV(Di,{"data-loc":"client/src/components/ReviewForm.tsx:156",className:"h-5 w-5"},void 0,!1,{fileName:"/home/ubuntu/travel-guide/client/src/components/ReviewForm.tsx",lineNumber:156,columnNumber:11},this)},void 0,!1,{fileName:"/home/ubuntu/travel-guide/client/src/components/ReviewForm.tsx",lineNumber:152,columnNumber:9},this)]},void 0,!0,{fileName:"/home/ubuntu/travel-guide/client/src/components/ReviewForm.tsx",lineNumber:148,columnNumber:7},this),c.jsxDEV("form",{"data-loc":"client/src/components/ReviewForm.tsx:160",onSubmit:z,className:"space-y-6",children:[c.jsxDEV("div",{"data-loc":"client/src/components/ReviewForm.tsx:162",children:[c.jsxDEV("label",{"data-loc":"client/src/components/ReviewForm.tsx:163",className:"block text-sm font-medium text-gray-700 mb-2",children:"Rating *"},void 0,!1,{fileName:"/home/ubuntu/travel-guide/client/src/components/ReviewForm.tsx",lineNumber:163,columnNumber:11},this),c.jsxDEV("div",{"data-loc":"client/src/components/ReviewForm.tsx:166",className:"flex gap-1",children:[1,2,3,4,5].map(R=>c.jsxDEV("button",{"data-loc":"client/src/components/ReviewForm.tsx:168",type:"button",onClick:()=>f(R),onMouseEnter:()=>p(R),onMouseLeave:()=>p(0),className:"focus:outline-none",children:c.jsxDEV(Rs,{"data-loc":"client/src/components/ReviewForm.tsx:176",className:`h-8 w-8 transition-colors ${R<=(h||u)?"fill-yellow-400 text-yellow-400":"text-gray-300"}`},void 0,!1,{fileName:"/home/ubuntu/travel-guide/client/src/components/ReviewForm.tsx",lineNumber:176,columnNumber:17},this)},R,!1,{fileName:"/home/ubuntu/travel-guide/client/src/components/ReviewForm.tsx",lineNumber:168,columnNumber:15},this))},void 0,!1,{fileName:"/home/ubuntu/travel-guide/client/src/components/ReviewForm.tsx",lineNumber:166,columnNumber:11},this)]},void 0,!0,{fileName:"/home/ubuntu/travel-guide/client/src/components/ReviewForm.tsx",lineNumber:162,columnNumber:9},this),c.jsxDEV("div",{"data-loc":"client/src/components/ReviewForm.tsx:189",children:[c.jsxDEV("label",{"data-loc":"client/src/components/ReviewForm.tsx:190",className:"block text-sm font-medium text-gray-700 mb-2",children:"Title (optional)"},void 0,!1,{fileName:"/home/ubuntu/travel-guide/client/src/components/ReviewForm.tsx",lineNumber:190,columnNumber:11},this),c.jsxDEV("input",{"data-loc":"client/src/components/ReviewForm.tsx:193",type:"text",value:b,onChange:R=>N(R.target.value),placeholder:"Sum up your experience",className:"w-full px-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-black",maxLength:100},void 0,!1,{fileName:"/home/ubuntu/travel-guide/client/src/components/ReviewForm.tsx",lineNumber:193,columnNumber:11},this)]},void 0,!0,{fileName:"/home/ubuntu/travel-guide/client/src/components/ReviewForm.tsx",lineNumber:189,columnNumber:9},this),c.jsxDEV("div",{"data-loc":"client/src/components/ReviewForm.tsx:204",children:[c.jsxDEV("label",{"data-loc":"client/src/components/ReviewForm.tsx:205",className:"block text-sm font-medium text-gray-700 mb-2",children:"Your Review *"},void 0,!1,{fileName:"/home/ubuntu/travel-guide/client/src/components/ReviewForm.tsx",lineNumber:205,columnNumber:11},this),c.jsxDEV("textarea",{"data-loc":"client/src/components/ReviewForm.tsx:208",value:y,onChange:R=>x(R.target.value),placeholder:"Share your experience at this place...",rows:6,className:"w-full px-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-black resize-none",required:!0},void 0,!1,{fileName:"/home/ubuntu/travel-guide/client/src/components/ReviewForm.tsx",lineNumber:208,columnNumber:11},this)]},void 0,!0,{fileName:"/home/ubuntu/travel-guide/client/src/components/ReviewForm.tsx",lineNumber:204,columnNumber:9},this),c.jsxDEV("div",{"data-loc":"client/src/components/ReviewForm.tsx:219",children:[c.jsxDEV("label",{"data-loc":"client/src/components/ReviewForm.tsx:220",className:"block text-sm font-medium text-gray-700 mb-2",children:"Visit Date (optional)"},void 0,!1,{fileName:"/home/ubuntu/travel-guide/client/src/components/ReviewForm.tsx",lineNumber:220,columnNumber:11},this),c.jsxDEV("input",{"data-loc":"client/src/components/ReviewForm.tsx:223",type:"date",value:w,onChange:R=>j(R.target.value),max:new Date().toISOString().split("T")[0],className:"px-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-black"},void 0,!1,{fileName:"/home/ubuntu/travel-guide/client/src/components/ReviewForm.tsx",lineNumber:223,columnNumber:11},this)]},void 0,!0,{fileName:"/home/ubuntu/travel-guide/client/src/components/ReviewForm.tsx",lineNumber:219,columnNumber:9},this),c.jsxDEV("div",{"data-loc":"client/src/components/ReviewForm.tsx:233",children:[c.jsxDEV("label",{"data-loc":"client/src/components/ReviewForm.tsx:234",className:"block text-sm font-medium text-gray-700 mb-2",children:"Photos (optional, max 5)"},void 0,!1,{fileName:"/home/ubuntu/travel-guide/client/src/components/ReviewForm.tsx",lineNumber:234,columnNumber:11},this),D.length>0&&c.jsxDEV("div",{"data-loc":"client/src/components/ReviewForm.tsx:239",className:"grid grid-cols-3 gap-3 mb-3",children:D.map((R,Q)=>c.jsxDEV("div",{"data-loc":"client/src/components/ReviewForm.tsx:241",className:"relative group",children:[c.jsxDEV("img",{"data-loc":"client/src/components/ReviewForm.tsx:242",src:R,alt:`Review photo ${Q+1}`,className:"w-full h-24 object-cover rounded-md"},void 0,!1,{fileName:"/home/ubuntu/travel-guide/client/src/components/ReviewForm.tsx",lineNumber:242,columnNumber:19},this),c.jsxDEV("button",{"data-loc":"client/src/components/ReviewForm.tsx:247",type:"button",onClick:()=>U(Q),className:"absolute top-1 right-1 bg-black/70 text-white p-1 rounded-full opacity-0 group-hover:opacity-100 transition-opacity",children:c.jsxDEV(Di,{"data-loc":"client/src/components/ReviewForm.tsx:252",className:"h-3 w-3"},void 0,!1,{fileName:"/home/ubuntu/travel-guide/client/src/components/ReviewForm.tsx",lineNumber:252,columnNumber:21},this)},void 0,!1,{fileName:"/home/ubuntu/travel-guide/client/src/components/ReviewForm.tsx",lineNumber:247,columnNumber:19},this)]},Q,!0,{fileName:"/home/ubuntu/travel-guide/client/src/components/ReviewForm.tsx",lineNumber:241,columnNumber:17},this))},void 0,!1,{fileName:"/home/ubuntu/travel-guide/client/src/components/ReviewForm.tsx",lineNumber:239,columnNumber:13},this),D.length<5&&c.jsxDEV("label",{"data-loc":"client/src/components/ReviewForm.tsx:260",className:"flex items-center justify-center gap-2 px-4 py-3 border-2 border-dashed border-gray-300 rounded-md hover:border-gray-400 cursor-pointer transition-colors",children:[c.jsxDEV(N7,{"data-loc":"client/src/components/ReviewForm.tsx:261",className:"h-5 w-5 text-gray-400"},void 0,!1,{fileName:"/home/ubuntu/travel-guide/client/src/components/ReviewForm.tsx",lineNumber:261,columnNumber:15},this),c.jsxDEV("span",{"data-loc":"client/src/components/ReviewForm.tsx:262",className:"text-sm text-gray-600",children:C?"Uploading...":"Upload Photos"},void 0,!1,{fileName:"/home/ubuntu/travel-guide/client/src/components/ReviewForm.tsx",lineNumber:262,columnNumber:15},this),c.jsxDEV("input",{"data-loc":"client/src/components/ReviewForm.tsx:265",type:"file",accept:"image/*",multiple:!0,onChange:F,disabled:C,className:"hidden"},void 0,!1,{fileName:"/home/ubuntu/travel-guide/client/src/components/ReviewForm.tsx",lineNumber:265,columnNumber:15},this)]},void 0,!0,{fileName:"/home/ubuntu/travel-guide/client/src/components/ReviewForm.tsx",lineNumber:260,columnNumber:13},this)]},void 0,!0,{fileName:"/home/ubuntu/travel-guide/client/src/components/ReviewForm.tsx",lineNumber:233,columnNumber:9},this),c.jsxDEV("div",{"data-loc":"client/src/components/ReviewForm.tsx:278",className:"flex gap-3 pt-4",children:[c.jsxDEV("button",{"data-loc":"client/src/components/ReviewForm.tsx:279",type:"submit",disabled:T||C,className:"flex-1 px-6 py-3 bg-black text-white rounded-md hover:bg-gray-800 transition-colors disabled:bg-gray-400 disabled:cursor-not-allowed",children:T?"Submitting...":a?"Update Review":"Post Review"},void 0,!1,{fileName:"/home/ubuntu/travel-guide/client/src/components/ReviewForm.tsx",lineNumber:279,columnNumber:11},this),c.jsxDEV("button",{"data-loc":"client/src/components/ReviewForm.tsx:286",type:"button",onClick:l,className:"px-6 py-3 border border-gray-300 rounded-md hover:bg-gray-50 transition-colors",children:"Cancel"},void 0,!1,{fileName:"/home/ubuntu/travel-guide/client/src/components/ReviewForm.tsx",lineNumber:286,columnNumber:11},this)]},void 0,!0,{fileName:"/home/ubuntu/travel-guide/client/src/components/ReviewForm.tsx",lineNumber:278,columnNumber:9},this)]},void 0,!0,{fileName:"/home/ubuntu/travel-guide/client/src/components/ReviewForm.tsx",lineNumber:160,columnNumber:7},this)]},void 0,!0,{fileName:"/home/ubuntu/travel-guide/client/src/components/ReviewForm.tsx",lineNumber:147,columnNumber:5},this)}function U8({destinationSlug:s,destinationName:n}){const[a,o]=O.useState([]),[l,u]=O.useState(!0),[f,h]=O.useState(null),[p,b]=O.useState(!1),[N,y]=O.useState(null),[x,w]=O.useState(new Set),[j,D]=O.useState(0);O.useEffect(()=>{async function R(){const{data:{user:Q}}=await fe.auth.getUser();h(Q)}R()},[]),O.useEffect(()=>{_()},[s]),O.useEffect(()=>{f&&C()},[f,a]);const _=async()=>{try{const{data:R,error:Q}=await fe.from("reviews").select(`
