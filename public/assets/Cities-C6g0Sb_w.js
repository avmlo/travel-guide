import{a as E,r as u,j as t,H as V,b as w,s as D,U as A,V as o}from"./index-Bbf6GYnP.js";function O(m){return m.split("-").map(l=>l.charAt(0).toUpperCase()+l.slice(1)).join(" ")}function B(){const[,m]=E(),[l,C]=u.useState([]),[v,y]=u.useState(!0),[c,h]=u.useState("");if(u.useEffect(()=>{async function e(){const{data:s,error:r}=await D.from("destinations").select("city");if(!r&&s){const n=s.reduce((i,a)=>(i[a.city]=(i[a.city]||0)+1,i),{}),j=Object.entries(n).map(([i,a])=>({city:i,count:a,country:A[i]||"Other"})).sort((i,a)=>{const x=i.country,p=a.country,b=o.indexOf(x),g=o.indexOf(p);return x===p?a.count-i.count:b===-1&&g===-1?x.localeCompare(p):b===-1?1:g===-1?-1:b-g});C(j)}y(!1)}e()},[]),v)return t.jsxDEV("div",{"data-loc":"client/src/pages/Cities.tsx:80",className:"min-h-screen bg-white dark:bg-gray-950 flex items-center justify-center transition-colors duration-300",children:t.jsxDEV("div",{"data-loc":"client/src/pages/Cities.tsx:81",className:"text-xs font-bold uppercase text-black/60 dark:text-white/60",children:"Loading..."},void 0,!1,{fileName:"/home/ubuntu/travel-guide/client/src/pages/Cities.tsx",lineNumber:81,columnNumber:9},this)},void 0,!1,{fileName:"/home/ubuntu/travel-guide/client/src/pages/Cities.tsx",lineNumber:80,columnNumber:7},this);const k=Array.from(new Set(l.map(e=>e.country))).sort((e,s)=>{const r=o.indexOf(e),n=o.indexOf(s);return r===-1&&n===-1?e.localeCompare(s):r===-1?1:n===-1?-1:r-n}),d=c?l.filter(e=>e.country===c):l,N=d.length,f=d.reduce((e,s)=>e+s.count,0);return t.jsxDEV("div",{"data-loc":"client/src/pages/Cities.tsx:105",className:"min-h-screen bg-white dark:bg-gray-950 transition-colors duration-300",children:[t.jsxDEV(V,{"data-loc":"client/src/pages/Cities.tsx:106"},void 0,!1,{fileName:"/home/ubuntu/travel-guide/client/src/pages/Cities.tsx",lineNumber:106,columnNumber:7},this),t.jsxDEV("main",{"data-loc":"client/src/pages/Cities.tsx:109",className:"px-6 md:px-10 py-12 dark:text-white",children:t.jsxDEV("div",{"data-loc":"client/src/pages/Cities.tsx:110",className:"max-w-[1920px] mx-auto",children:[t.jsxDEV("div",{"data-loc":"client/src/pages/Cities.tsx:112",className:"mb-12",children:[t.jsxDEV("h1",{"data-loc":"client/src/pages/Cities.tsx:113",className:"text-[clamp(24px,5vw,48px)] font-bold uppercase leading-none tracking-tight mb-4 text-black dark:text-white",children:"Cities"},void 0,!1,{fileName:"/home/ubuntu/travel-guide/client/src/pages/Cities.tsx",lineNumber:113,columnNumber:13},this),t.jsxDEV("p",{"data-loc":"client/src/pages/Cities.tsx:116",className:"text-xs font-bold uppercase text-black/60 dark:text-white/60",children:[N," ",N===1?"city":"cities"," Â· ",f," ",f===1?"place":"places"]},void 0,!0,{fileName:"/home/ubuntu/travel-guide/client/src/pages/Cities.tsx",lineNumber:116,columnNumber:13},this)]},void 0,!0,{fileName:"/home/ubuntu/travel-guide/client/src/pages/Cities.tsx",lineNumber:112,columnNumber:11},this),t.jsxDEV("div",{"data-loc":"client/src/pages/Cities.tsx:122",className:"mb-8",children:[t.jsxDEV("div",{"data-loc":"client/src/pages/Cities.tsx:123",className:"mb-3",children:t.jsxDEV("h2",{"data-loc":"client/src/pages/Cities.tsx:124",className:"text-xs font-bold uppercase text-black dark:text-white",children:"Countries"},void 0,!1,{fileName:"/home/ubuntu/travel-guide/client/src/pages/Cities.tsx",lineNumber:124,columnNumber:15},this)},void 0,!1,{fileName:"/home/ubuntu/travel-guide/client/src/pages/Cities.tsx",lineNumber:123,columnNumber:13},this),t.jsxDEV("div",{"data-loc":"client/src/pages/Cities.tsx:126",className:"flex flex-wrap gap-x-4 gap-y-2",children:[t.jsxDEV("button",{"data-loc":"client/src/pages/Cities.tsx:127",onClick:()=>h(""),className:`text-xs font-bold uppercase transition-opacity ${c?"text-black/30 dark:text-white/30 hover:opacity-60":"text-black dark:text-white"}`,children:"ALL"},void 0,!1,{fileName:"/home/ubuntu/travel-guide/client/src/pages/Cities.tsx",lineNumber:127,columnNumber:15},this),k.map(e=>t.jsxDEV("button",{"data-loc":"client/src/pages/Cities.tsx:136",onClick:()=>h(e===c?"":e),className:`text-xs font-bold uppercase transition-opacity ${c===e?"text-black dark:text-white":"text-black/30 dark:text-white/30 hover:opacity-60"}`,children:e},e,!1,{fileName:"/home/ubuntu/travel-guide/client/src/pages/Cities.tsx",lineNumber:136,columnNumber:17},this))]},void 0,!0,{fileName:"/home/ubuntu/travel-guide/client/src/pages/Cities.tsx",lineNumber:126,columnNumber:13},this)]},void 0,!0,{fileName:"/home/ubuntu/travel-guide/client/src/pages/Cities.tsx",lineNumber:122,columnNumber:11},this),t.jsxDEV("div",{"data-loc":"client/src/pages/Cities.tsx:150",className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 xl:grid-cols-6 2xl:grid-cols-7 gap-4 md:gap-6",children:d.map(e=>t.jsxDEV("button",{"data-loc":"client/src/pages/Cities.tsx:152",onClick:()=>m(`/city/${e.city}`),className:"aspect-square border border-gray-200 dark:border-gray-800 hover:opacity-60 transition-opacity text-left group bg-white dark:bg-gray-900 flex flex-col justify-between p-4",children:[t.jsxDEV("div",{"data-loc":"client/src/pages/Cities.tsx:157",children:[t.jsxDEV("p",{"data-loc":"client/src/pages/Cities.tsx:158",className:"text-[10px] font-bold uppercase mb-2 text-black/40 dark:text-white/40",children:e.country},void 0,!1,{fileName:"/home/ubuntu/travel-guide/client/src/pages/Cities.tsx",lineNumber:158,columnNumber:19},this),t.jsxDEV("h3",{"data-loc":"client/src/pages/Cities.tsx:161",className:"text-sm font-bold uppercase text-black dark:text-white leading-tight",children:O(e.city)},void 0,!1,{fileName:"/home/ubuntu/travel-guide/client/src/pages/Cities.tsx",lineNumber:161,columnNumber:19},this)]},void 0,!0,{fileName:"/home/ubuntu/travel-guide/client/src/pages/Cities.tsx",lineNumber:157,columnNumber:17},this),t.jsxDEV("p",{"data-loc":"client/src/pages/Cities.tsx:165",className:"text-xs text-black/60 dark:text-white/60 mt-auto",children:[e.count," ",e.count===1?"place":"places"]},void 0,!0,{fileName:"/home/ubuntu/travel-guide/client/src/pages/Cities.tsx",lineNumber:165,columnNumber:17},this)]},e.city,!0,{fileName:"/home/ubuntu/travel-guide/client/src/pages/Cities.tsx",lineNumber:152,columnNumber:15},this))},void 0,!1,{fileName:"/home/ubuntu/travel-guide/client/src/pages/Cities.tsx",lineNumber:150,columnNumber:11},this)]},void 0,!0,{fileName:"/home/ubuntu/travel-guide/client/src/pages/Cities.tsx",lineNumber:110,columnNumber:9},this)},void 0,!1,{fileName:"/home/ubuntu/travel-guide/client/src/pages/Cities.tsx",lineNumber:109,columnNumber:7},this),t.jsxDEV(w,{"data-loc":"client/src/pages/Cities.tsx:174"},void 0,!1,{fileName:"/home/ubuntu/travel-guide/client/src/pages/Cities.tsx",lineNumber:174,columnNumber:7},this)]},void 0,!0,{fileName:"/home/ubuntu/travel-guide/client/src/pages/Cities.tsx",lineNumber:105,columnNumber:5},this)}export{B as default};
