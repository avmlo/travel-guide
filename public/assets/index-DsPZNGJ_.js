function bN(e,t){for(var a=0;a<t.length;a++){const r=t[a];if(typeof r!="string"&&!Array.isArray(r)){for(const l in r)if(l!=="default"&&!(l in e)){const c=Object.getOwnPropertyDescriptor(r,l);c&&Object.defineProperty(e,l,c.get?c:{enumerable:!0,get:()=>r[l]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))r(l);new MutationObserver(l=>{for(const c of l)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&r(d)}).observe(document,{childList:!0,subtree:!0});function a(l){const c={};return l.integrity&&(c.integrity=l.integrity),l.referrerPolicy&&(c.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?c.credentials="include":l.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function r(l){if(l.ep)return;l.ep=!0;const c=a(l);fetch(l.href,c)}})();function sm(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function nw(e){if(Object.prototype.hasOwnProperty.call(e,"__esModule"))return e;var t=e.default;if(typeof t=="function"){var a=function r(){var l=!1;try{l=this instanceof r}catch{}return l?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};a.prototype=t.prototype}else a={};return Object.defineProperty(a,"__esModule",{value:!0}),Object.keys(e).forEach(function(r){var l=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(a,r,l.get?l:{enumerable:!0,get:function(){return e[r]}})}),a}var _h={exports:{}},Fo={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var B0;function wN(){if(B0)return Fo;B0=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function a(r,l,c){var d=null;if(c!==void 0&&(d=""+c),l.key!==void 0&&(d=""+l.key),"key"in l){c={};for(var f in l)f!=="key"&&(c[f]=l[f])}else c=l;return l=c.ref,{$$typeof:e,type:r,key:d,ref:l!==void 0?l:null,props:c}}return Fo.Fragment=t,Fo.jsx=a,Fo.jsxs=a,Fo}var H0;function jN(){return H0||(H0=1,_h.exports=wN()),_h.exports}var i=jN(),wr=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},SN={setTimeout:(e,t)=>setTimeout(e,t),clearTimeout:e=>clearTimeout(e),setInterval:(e,t)=>setInterval(e,t),clearInterval:e=>clearInterval(e)},_N=class{#t=SN;#e=!1;setTimeoutProvider(e){this.#t=e}setTimeout(e,t){return this.#t.setTimeout(e,t)}clearTimeout(e){this.#t.clearTimeout(e)}setInterval(e,t){return this.#t.setInterval(e,t)}clearInterval(e){this.#t.clearInterval(e)}},hr=new _N;function NN(e){setTimeout(e,0)}var gr=typeof window>"u"||"Deno"in globalThis;function Ft(){}function kN(e,t){return typeof e=="function"?e(t):e}function cp(e){return typeof e=="number"&&e>=0&&e!==1/0}function rw(e,t){return Math.max(e+(t||0)-Date.now(),0)}function jn(e,t){return typeof e=="function"?e(t):e}function Ms(e,t){return typeof e=="function"?e(t):e}function $0(e,t){const{type:a="all",exact:r,fetchStatus:l,predicate:c,queryKey:d,stale:f}=e;if(d){if(r){if(t.queryHash!==am(d,t.options))return!1}else if(!nl(t.queryKey,d))return!1}if(a!=="all"){const p=t.isActive();if(a==="active"&&!p||a==="inactive"&&p)return!1}return!(typeof f=="boolean"&&t.isStale()!==f||l&&l!==t.state.fetchStatus||c&&!c(t))}function F0(e,t){const{exact:a,status:r,predicate:l,mutationKey:c}=e;if(c){if(!t.options.mutationKey)return!1;if(a){if(Sn(t.options.mutationKey)!==Sn(c))return!1}else if(!nl(t.options.mutationKey,c))return!1}return!(r&&t.state.status!==r||l&&!l(t))}function am(e,t){return(t?.queryKeyHashFn||Sn)(e)}function Sn(e){return JSON.stringify(e,(t,a)=>up(a)?Object.keys(a).sort().reduce((r,l)=>(r[l]=a[l],r),{}):a)}function nl(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?Object.keys(t).every(a=>nl(e[a],t[a])):!1}var EN=Object.prototype.hasOwnProperty;function nm(e,t){if(e===t)return e;const a=G0(e)&&G0(t);if(!a&&!(up(e)&&up(t)))return t;const l=(a?e:Object.keys(e)).length,c=a?t:Object.keys(t),d=c.length,f=a?new Array(d):{};let p=0;for(let m=0;m<d;m++){const y=a?m:c[m],x=e[y],v=t[y];if(x===v){f[y]=x,(a?m<l:EN.call(e,y))&&p++;continue}if(x===null||v===null||typeof x!="object"||typeof v!="object"){f[y]=v;continue}const b=nm(x,v);f[y]=b,b===x&&p++}return l===d&&p===l?e:f}function rl(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(const a in e)if(e[a]!==t[a])return!1;return!0}function G0(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function up(e){if(!V0(e))return!1;const t=e.constructor;if(t===void 0)return!0;const a=t.prototype;return!(!V0(a)||!a.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function V0(e){return Object.prototype.toString.call(e)==="[object Object]"}function AN(e){return new Promise(t=>{hr.setTimeout(t,e)})}function dp(e,t,a){return typeof a.structuralSharing=="function"?a.structuralSharing(e,t):a.structuralSharing!==!1?nm(e,t):t}function CN(e,t,a=0){const r=[...e,t];return a&&r.length>a?r.slice(1):r}function TN(e,t,a=0){const r=[t,...e];return a&&r.length>a?r.slice(0,-1):r}var ws=Symbol();function iw(e,t){return!e.queryFn&&t?.initialPromise?()=>t.initialPromise:!e.queryFn||e.queryFn===ws?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}function ow(e,t){return typeof e=="function"?e(...t):!!e}var ON=class extends wr{#t;#e;#s;constructor(){super(),this.#s=e=>{if(!gr&&window.addEventListener){const t=()=>e();return window.addEventListener("visibilitychange",t,!1),()=>{window.removeEventListener("visibilitychange",t)}}}}onSubscribe(){this.#e||this.setEventListener(this.#s)}onUnsubscribe(){this.hasListeners()||(this.#e?.(),this.#e=void 0)}setEventListener(e){this.#s=e,this.#e?.(),this.#e=e(t=>{typeof t=="boolean"?this.setFocused(t):this.onFocus()})}setFocused(e){this.#t!==e&&(this.#t=e,this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(t=>{t(e)})}isFocused(){return typeof this.#t=="boolean"?this.#t:globalThis.document?.visibilityState!=="hidden"}},rm=new ON;function fp(){let e,t;const a=new Promise((l,c)=>{e=l,t=c});a.status="pending",a.catch(()=>{});function r(l){Object.assign(a,l),delete a.resolve,delete a.reject}return a.resolve=l=>{r({status:"fulfilled",value:l}),e(l)},a.reject=l=>{r({status:"rejected",reason:l}),t(l)},a}var DN=NN;function RN(){let e=[],t=0,a=f=>{f()},r=f=>{f()},l=DN;const c=f=>{t?e.push(f):l(()=>{a(f)})},d=()=>{const f=e;e=[],f.length&&l(()=>{r(()=>{f.forEach(p=>{a(p)})})})};return{batch:f=>{let p;t++;try{p=f()}finally{t--,t||d()}return p},batchCalls:f=>(...p)=>{c(()=>{f(...p)})},schedule:c,setNotifyFunction:f=>{a=f},setBatchNotifyFunction:f=>{r=f},setScheduler:f=>{l=f}}}var lt=RN(),PN=class extends wr{#t=!0;#e;#s;constructor(){super(),this.#s=e=>{if(!gr&&window.addEventListener){const t=()=>e(!0),a=()=>e(!1);return window.addEventListener("online",t,!1),window.addEventListener("offline",a,!1),()=>{window.removeEventListener("online",t),window.removeEventListener("offline",a)}}}}onSubscribe(){this.#e||this.setEventListener(this.#s)}onUnsubscribe(){this.hasListeners()||(this.#e?.(),this.#e=void 0)}setEventListener(e){this.#s=e,this.#e?.(),this.#e=e(this.setOnline.bind(this))}setOnline(e){this.#t!==e&&(this.#t=e,this.listeners.forEach(a=>{a(e)}))}isOnline(){return this.#t}},ju=new PN;function MN(e){return Math.min(1e3*2**e,3e4)}function lw(e){return(e??"online")==="online"?ju.isOnline():!0}var hp=class extends Error{constructor(e){super("CancelledError"),this.revert=e?.revert,this.silent=e?.silent}};function cw(e){let t=!1,a=0,r;const l=fp(),c=()=>l.status!=="pending",d=w=>{if(!c()){const _=new hp(w);v(_),e.onCancel?.(_)}},f=()=>{t=!0},p=()=>{t=!1},m=()=>rm.isFocused()&&(e.networkMode==="always"||ju.isOnline())&&e.canRun(),y=()=>lw(e.networkMode)&&e.canRun(),x=w=>{c()||(r?.(),l.resolve(w))},v=w=>{c()||(r?.(),l.reject(w))},b=()=>new Promise(w=>{r=_=>{(c()||m())&&w(_)},e.onPause?.()}).then(()=>{r=void 0,c()||e.onContinue?.()}),N=()=>{if(c())return;let w;const _=a===0?e.initialPromise:void 0;try{w=_??e.fn()}catch(E){w=Promise.reject(E)}Promise.resolve(w).then(x).catch(E=>{if(c())return;const T=e.retry??(gr?0:3),A=e.retryDelay??MN,I=typeof A=="function"?A(a,E):A,M=T===!0||typeof T=="number"&&a<T||typeof T=="function"&&T(a,E);if(t||!M){v(E);return}a++,e.onFail?.(a,E),AN(I).then(()=>m()?void 0:b()).then(()=>{t?v(E):N()})})};return{promise:l,status:()=>l.status,cancel:d,continue:()=>(r?.(),l),cancelRetry:f,continueRetry:p,canStart:y,start:()=>(y()?N():b().then(N),l)}}var uw=class{#t;destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),cp(this.gcTime)&&(this.#t=hr.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(gr?1/0:300*1e3))}clearGcTimeout(){this.#t&&(hr.clearTimeout(this.#t),this.#t=void 0)}},LN=class extends uw{#t;#e;#s;#n;#a;#r;#o;constructor(e){super(),this.#o=!1,this.#r=e.defaultOptions,this.setOptions(e.options),this.observers=[],this.#n=e.client,this.#s=this.#n.getQueryCache(),this.queryKey=e.queryKey,this.queryHash=e.queryHash,this.#t=Q0(this.options),this.state=e.state??this.#t,this.scheduleGc()}get meta(){return this.options.meta}get promise(){return this.#a?.promise}setOptions(e){if(this.options={...this.#r,...e},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const t=Q0(this.options);t.data!==void 0&&(this.setData(t.data,{updatedAt:t.dataUpdatedAt,manual:!0}),this.#t=t)}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&this.#s.remove(this)}setData(e,t){const a=dp(this.state.data,e,this.options);return this.#i({data:a,type:"success",dataUpdatedAt:t?.updatedAt,manual:t?.manual}),a}setState(e,t){this.#i({type:"setState",state:e,setStateOptions:t})}cancel(e){const t=this.#a?.promise;return this.#a?.cancel(e),t?t.then(Ft).catch(Ft):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.#t)}isActive(){return this.observers.some(e=>Ms(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===ws||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(e=>jn(e.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(e=0){return this.state.data===void 0?!0:e==="static"?!1:this.state.isInvalidated?!0:!rw(this.state.dataUpdatedAt,e)}onFocus(){this.observers.find(t=>t.shouldFetchOnWindowFocus())?.refetch({cancelRefetch:!1}),this.#a?.continue()}onOnline(){this.observers.find(t=>t.shouldFetchOnReconnect())?.refetch({cancelRefetch:!1}),this.#a?.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),this.#s.notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(t=>t!==e),this.observers.length||(this.#a&&(this.#o?this.#a.cancel({revert:!0}):this.#a.cancelRetry()),this.scheduleGc()),this.#s.notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||this.#i({type:"invalidate"})}async fetch(e,t){if(this.state.fetchStatus!=="idle"&&this.#a?.status()!=="rejected"){if(this.state.data!==void 0&&t?.cancelRefetch)this.cancel({silent:!0});else if(this.#a)return this.#a.continueRetry(),this.#a.promise}if(e&&this.setOptions(e),!this.options.queryFn){const f=this.observers.find(p=>p.options.queryFn);f&&this.setOptions(f.options)}const a=new AbortController,r=f=>{Object.defineProperty(f,"signal",{enumerable:!0,get:()=>(this.#o=!0,a.signal)})},l=()=>{const f=iw(this.options,t),m=(()=>{const y={client:this.#n,queryKey:this.queryKey,meta:this.meta};return r(y),y})();return this.#o=!1,this.options.persister?this.options.persister(f,m,this):f(m)},d=(()=>{const f={fetchOptions:t,options:this.options,queryKey:this.queryKey,client:this.#n,state:this.state,fetchFn:l};return r(f),f})();this.options.behavior?.onFetch(d,this),this.#e=this.state,(this.state.fetchStatus==="idle"||this.state.fetchMeta!==d.fetchOptions?.meta)&&this.#i({type:"fetch",meta:d.fetchOptions?.meta}),this.#a=cw({initialPromise:t?.initialPromise,fn:d.fetchFn,onCancel:f=>{f instanceof hp&&f.revert&&this.setState({...this.#e,fetchStatus:"idle"}),a.abort()},onFail:(f,p)=>{this.#i({type:"failed",failureCount:f,error:p})},onPause:()=>{this.#i({type:"pause"})},onContinue:()=>{this.#i({type:"continue"})},retry:d.options.retry,retryDelay:d.options.retryDelay,networkMode:d.options.networkMode,canRun:()=>!0});try{const f=await this.#a.start();if(f===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(f),this.#s.config.onSuccess?.(f,this),this.#s.config.onSettled?.(f,this.state.error,this),f}catch(f){if(f instanceof hp){if(f.silent)return this.#a.promise;if(f.revert){if(this.state.data===void 0)throw f;return this.state.data}}throw this.#i({type:"error",error:f}),this.#s.config.onError?.(f,this),this.#s.config.onSettled?.(this.state.data,f,this),f}finally{this.scheduleGc()}}#i(e){const t=a=>{switch(e.type){case"failed":return{...a,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...a,fetchStatus:"paused"};case"continue":return{...a,fetchStatus:"fetching"};case"fetch":return{...a,...dw(a.data,this.options),fetchMeta:e.meta??null};case"success":const r={...a,data:e.data,dataUpdateCount:a.dataUpdateCount+1,dataUpdatedAt:e.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return this.#e=e.manual?r:void 0,r;case"error":const l=e.error;return{...a,error:l,errorUpdateCount:a.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:a.fetchFailureCount+1,fetchFailureReason:l,fetchStatus:"idle",status:"error"};case"invalidate":return{...a,isInvalidated:!0};case"setState":return{...a,...e.state}}};this.state=t(this.state),lt.batch(()=>{this.observers.forEach(a=>{a.onQueryUpdate()}),this.#s.notify({query:this,type:"updated",action:e})})}};function dw(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:lw(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function Q0(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,a=t!==void 0,r=a?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:a?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:a?"success":"pending",fetchStatus:"idle"}}var vl=class extends wr{constructor(e,t){super(),this.options=t,this.#t=e,this.#i=null,this.#o=fp(),this.bindMethods(),this.setOptions(t)}#t;#e=void 0;#s=void 0;#n=void 0;#a;#r;#o;#i;#h;#d;#f;#c;#u;#l;#m=new Set;bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(this.#e.addObserver(this),Y0(this.#e,this.options)?this.#p():this.updateResult(),this.#v())}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return pp(this.#e,this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return pp(this.#e,this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,this.#b(),this.#w(),this.#e.removeObserver(this)}setOptions(e){const t=this.options,a=this.#e;if(this.options=this.#t.defaultQueryOptions(e),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof Ms(this.options.enabled,this.#e)!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");this.#j(),this.#e.setOptions(this.options),t._defaulted&&!rl(this.options,t)&&this.#t.getQueryCache().notify({type:"observerOptionsUpdated",query:this.#e,observer:this});const r=this.hasListeners();r&&K0(this.#e,a,this.options,t)&&this.#p(),this.updateResult(),r&&(this.#e!==a||Ms(this.options.enabled,this.#e)!==Ms(t.enabled,this.#e)||jn(this.options.staleTime,this.#e)!==jn(t.staleTime,this.#e))&&this.#g();const l=this.#x();r&&(this.#e!==a||Ms(this.options.enabled,this.#e)!==Ms(t.enabled,this.#e)||l!==this.#l)&&this.#y(l)}getOptimisticResult(e){const t=this.#t.getQueryCache().build(this.#t,e),a=this.createResult(t,e);return IN(this,a)&&(this.#n=a,this.#r=this.options,this.#a=this.#e.state),a}getCurrentResult(){return this.#n}trackResult(e,t){return new Proxy(e,{get:(a,r)=>(this.trackProp(r),t?.(r),r==="promise"&&(this.trackProp("data"),!this.options.experimental_prefetchInRender&&this.#o.status==="pending"&&this.#o.reject(new Error("experimental_prefetchInRender feature flag is not enabled"))),Reflect.get(a,r))})}trackProp(e){this.#m.add(e)}getCurrentQuery(){return this.#e}refetch({...e}={}){return this.fetch({...e})}fetchOptimistic(e){const t=this.#t.defaultQueryOptions(e),a=this.#t.getQueryCache().build(this.#t,t);return a.fetch().then(()=>this.createResult(a,t))}fetch(e){return this.#p({...e,cancelRefetch:e.cancelRefetch??!0}).then(()=>(this.updateResult(),this.#n))}#p(e){this.#j();let t=this.#e.fetch(this.options,e);return e?.throwOnError||(t=t.catch(Ft)),t}#g(){this.#b();const e=jn(this.options.staleTime,this.#e);if(gr||this.#n.isStale||!cp(e))return;const a=rw(this.#n.dataUpdatedAt,e)+1;this.#c=hr.setTimeout(()=>{this.#n.isStale||this.updateResult()},a)}#x(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(this.#e):this.options.refetchInterval)??!1}#y(e){this.#w(),this.#l=e,!(gr||Ms(this.options.enabled,this.#e)===!1||!cp(this.#l)||this.#l===0)&&(this.#u=hr.setInterval(()=>{(this.options.refetchIntervalInBackground||rm.isFocused())&&this.#p()},this.#l))}#v(){this.#g(),this.#y(this.#x())}#b(){this.#c&&(hr.clearTimeout(this.#c),this.#c=void 0)}#w(){this.#u&&(hr.clearInterval(this.#u),this.#u=void 0)}createResult(e,t){const a=this.#e,r=this.options,l=this.#n,c=this.#a,d=this.#r,p=e!==a?e.state:this.#s,{state:m}=e;let y={...m},x=!1,v;if(t._optimisticResults){const C=this.hasListeners(),z=!C&&Y0(e,t),G=C&&K0(e,a,t,r);(z||G)&&(y={...y,...dw(m.data,e.options)}),t._optimisticResults==="isRestoring"&&(y.fetchStatus="idle")}let{error:b,errorUpdatedAt:N,status:w}=y;v=y.data;let _=!1;if(t.placeholderData!==void 0&&v===void 0&&w==="pending"){let C;l?.isPlaceholderData&&t.placeholderData===d?.placeholderData?(C=l.data,_=!0):C=typeof t.placeholderData=="function"?t.placeholderData(this.#f?.state.data,this.#f):t.placeholderData,C!==void 0&&(w="success",v=dp(l?.data,C,t),x=!0)}if(t.select&&v!==void 0&&!_)if(l&&v===c?.data&&t.select===this.#h)v=this.#d;else try{this.#h=t.select,v=t.select(v),v=dp(l?.data,v,t),this.#d=v,this.#i=null}catch(C){this.#i=C}this.#i&&(b=this.#i,v=this.#d,N=Date.now(),w="error");const E=y.fetchStatus==="fetching",T=w==="pending",A=w==="error",I=T&&E,M=v!==void 0,O={status:w,fetchStatus:y.fetchStatus,isPending:T,isSuccess:w==="success",isError:A,isInitialLoading:I,isLoading:I,data:v,dataUpdatedAt:y.dataUpdatedAt,error:b,errorUpdatedAt:N,failureCount:y.fetchFailureCount,failureReason:y.fetchFailureReason,errorUpdateCount:y.errorUpdateCount,isFetched:y.dataUpdateCount>0||y.errorUpdateCount>0,isFetchedAfterMount:y.dataUpdateCount>p.dataUpdateCount||y.errorUpdateCount>p.errorUpdateCount,isFetching:E,isRefetching:E&&!T,isLoadingError:A&&!M,isPaused:y.fetchStatus==="paused",isPlaceholderData:x,isRefetchError:A&&M,isStale:im(e,t),refetch:this.refetch,promise:this.#o,isEnabled:Ms(t.enabled,e)!==!1};if(this.options.experimental_prefetchInRender){const C=X=>{O.status==="error"?X.reject(O.error):O.data!==void 0&&X.resolve(O.data)},z=()=>{const X=this.#o=O.promise=fp();C(X)},G=this.#o;switch(G.status){case"pending":e.queryHash===a.queryHash&&C(G);break;case"fulfilled":(O.status==="error"||O.data!==G.value)&&z();break;case"rejected":(O.status!=="error"||O.error!==G.reason)&&z();break}}return O}updateResult(){const e=this.#n,t=this.createResult(this.#e,this.options);if(this.#a=this.#e.state,this.#r=this.options,this.#a.data!==void 0&&(this.#f=this.#e),rl(t,e))return;this.#n=t;const a=()=>{if(!e)return!0;const{notifyOnChangeProps:r}=this.options,l=typeof r=="function"?r():r;if(l==="all"||!l&&!this.#m.size)return!0;const c=new Set(l??this.#m);return this.options.throwOnError&&c.add("error"),Object.keys(this.#n).some(d=>{const f=d;return this.#n[f]!==e[f]&&c.has(f)})};this.#S({listeners:a()})}#j(){const e=this.#t.getQueryCache().build(this.#t,this.options);if(e===this.#e)return;const t=this.#e;this.#e=e,this.#s=e.state,this.hasListeners()&&(t?.removeObserver(this),e.addObserver(this))}onQueryUpdate(){this.updateResult(),this.hasListeners()&&this.#v()}#S(e){lt.batch(()=>{e.listeners&&this.listeners.forEach(t=>{t(this.#n)}),this.#t.getQueryCache().notify({query:this.#e,type:"observerResultsUpdated"})})}};function UN(e,t){return Ms(t.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&t.retryOnMount===!1)}function Y0(e,t){return UN(e,t)||e.state.data!==void 0&&pp(e,t,t.refetchOnMount)}function pp(e,t,a){if(Ms(t.enabled,e)!==!1&&jn(t.staleTime,e)!=="static"){const r=typeof a=="function"?a(e):a;return r==="always"||r!==!1&&im(e,t)}return!1}function K0(e,t,a,r){return(e!==t||Ms(r.enabled,e)===!1)&&(!a.suspense||e.state.status!=="error")&&im(e,a)}function im(e,t){return Ms(t.enabled,e)!==!1&&e.isStaleByTime(jn(t.staleTime,e))}function IN(e,t){return!rl(e.getCurrentResult(),t)}function Su(e){return{onFetch:(t,a)=>{const r=t.options,l=t.fetchOptions?.meta?.fetchMore?.direction,c=t.state.data?.pages||[],d=t.state.data?.pageParams||[];let f={pages:[],pageParams:[]},p=0;const m=async()=>{let y=!1;const x=N=>{Object.defineProperty(N,"signal",{enumerable:!0,get:()=>(t.signal.aborted?y=!0:t.signal.addEventListener("abort",()=>{y=!0}),t.signal)})},v=iw(t.options,t.fetchOptions),b=async(N,w,_)=>{if(y)return Promise.reject();if(w==null&&N.pages.length)return Promise.resolve(N);const T=(()=>{const P={client:t.client,queryKey:t.queryKey,pageParam:w,direction:_?"backward":"forward",meta:t.options.meta};return x(P),P})(),A=await v(T),{maxPages:I}=t.options,M=_?TN:CN;return{pages:M(N.pages,A,I),pageParams:M(N.pageParams,w,I)}};if(l&&c.length){const N=l==="backward",w=N?fw:mp,_={pages:c,pageParams:d},E=w(r,_);f=await b(_,E,N)}else{const N=e??c.length;do{const w=p===0?d[0]??r.initialPageParam:mp(r,f);if(p>0&&w==null)break;f=await b(f,w),p++}while(p<N)}return f};t.options.persister?t.fetchFn=()=>t.options.persister?.(m,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},a):t.fetchFn=m}}}function mp(e,{pages:t,pageParams:a}){const r=t.length-1;return t.length>0?e.getNextPageParam(t[r],t,a[r],a):void 0}function fw(e,{pages:t,pageParams:a}){return t.length>0?e.getPreviousPageParam?.(t[0],t,a[0],a):void 0}function zN(e,t){return t?mp(e,t)!=null:!1}function qN(e,t){return!t||!e.getPreviousPageParam?!1:fw(e,t)!=null}var hw=class extends vl{constructor(e,t){super(e,t)}bindMethods(){super.bindMethods(),this.fetchNextPage=this.fetchNextPage.bind(this),this.fetchPreviousPage=this.fetchPreviousPage.bind(this)}setOptions(e){super.setOptions({...e,behavior:Su()})}getOptimisticResult(e){return e.behavior=Su(),super.getOptimisticResult(e)}fetchNextPage(e){return this.fetch({...e,meta:{fetchMore:{direction:"forward"}}})}fetchPreviousPage(e){return this.fetch({...e,meta:{fetchMore:{direction:"backward"}}})}createResult(e,t){const{state:a}=e,r=super.createResult(e,t),{isFetching:l,isRefetching:c,isError:d,isRefetchError:f}=r,p=a.fetchMeta?.fetchMore?.direction,m=d&&p==="forward",y=l&&p==="forward",x=d&&p==="backward",v=l&&p==="backward";return{...r,fetchNextPage:this.fetchNextPage,fetchPreviousPage:this.fetchPreviousPage,hasNextPage:zN(t,a.data),hasPreviousPage:qN(t,a.data),isFetchNextPageError:m,isFetchingNextPage:y,isFetchPreviousPageError:x,isFetchingPreviousPage:v,isRefetchError:f&&!m&&!x,isRefetching:c&&!y&&!v}}},BN=class extends uw{#t;#e;#s;#n;constructor(e){super(),this.#t=e.client,this.mutationId=e.mutationId,this.#s=e.mutationCache,this.#e=[],this.state=e.state||pw(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){this.#e.includes(e)||(this.#e.push(e),this.clearGcTimeout(),this.#s.notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){this.#e=this.#e.filter(t=>t!==e),this.scheduleGc(),this.#s.notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){this.#e.length||(this.state.status==="pending"?this.scheduleGc():this.#s.remove(this))}continue(){return this.#n?.continue()??this.execute(this.state.variables)}async execute(e){const t=()=>{this.#a({type:"continue"})},a={client:this.#t,meta:this.options.meta,mutationKey:this.options.mutationKey};this.#n=cw({fn:()=>this.options.mutationFn?this.options.mutationFn(e,a):Promise.reject(new Error("No mutationFn found")),onFail:(c,d)=>{this.#a({type:"failed",failureCount:c,error:d})},onPause:()=>{this.#a({type:"pause"})},onContinue:t,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>this.#s.canRun(this)});const r=this.state.status==="pending",l=!this.#n.canStart();try{if(r)t();else{this.#a({type:"pending",variables:e,isPaused:l}),await this.#s.config.onMutate?.(e,this,a);const d=await this.options.onMutate?.(e,a);d!==this.state.context&&this.#a({type:"pending",context:d,variables:e,isPaused:l})}const c=await this.#n.start();return await this.#s.config.onSuccess?.(c,e,this.state.context,this,a),await this.options.onSuccess?.(c,e,this.state.context,a),await this.#s.config.onSettled?.(c,null,this.state.variables,this.state.context,this,a),await this.options.onSettled?.(c,null,e,this.state.context,a),this.#a({type:"success",data:c}),c}catch(c){try{throw await this.#s.config.onError?.(c,e,this.state.context,this,a),await this.options.onError?.(c,e,this.state.context,a),await this.#s.config.onSettled?.(void 0,c,this.state.variables,this.state.context,this,a),await this.options.onSettled?.(void 0,c,e,this.state.context,a),c}finally{this.#a({type:"error",error:c})}}finally{this.#s.runNext(this)}}#a(e){const t=a=>{switch(e.type){case"failed":return{...a,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...a,isPaused:!0};case"continue":return{...a,isPaused:!1};case"pending":return{...a,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...a,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...a,data:void 0,error:e.error,failureCount:a.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=t(this.state),lt.batch(()=>{this.#e.forEach(a=>{a.onMutationUpdate(e)}),this.#s.notify({mutation:this,type:"updated",action:e})})}};function pw(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var HN=class extends wr{constructor(e={}){super(),this.config=e,this.#t=new Set,this.#e=new Map,this.#s=0}#t;#e;#s;build(e,t,a){const r=new BN({client:e,mutationCache:this,mutationId:++this.#s,options:e.defaultMutationOptions(t),state:a});return this.add(r),r}add(e){this.#t.add(e);const t=$c(e);if(typeof t=="string"){const a=this.#e.get(t);a?a.push(e):this.#e.set(t,[e])}this.notify({type:"added",mutation:e})}remove(e){if(this.#t.delete(e)){const t=$c(e);if(typeof t=="string"){const a=this.#e.get(t);if(a)if(a.length>1){const r=a.indexOf(e);r!==-1&&a.splice(r,1)}else a[0]===e&&this.#e.delete(t)}}this.notify({type:"removed",mutation:e})}canRun(e){const t=$c(e);if(typeof t=="string"){const r=this.#e.get(t)?.find(l=>l.state.status==="pending");return!r||r===e}else return!0}runNext(e){const t=$c(e);return typeof t=="string"?this.#e.get(t)?.find(r=>r!==e&&r.state.isPaused)?.continue()??Promise.resolve():Promise.resolve()}clear(){lt.batch(()=>{this.#t.forEach(e=>{this.notify({type:"removed",mutation:e})}),this.#t.clear(),this.#e.clear()})}getAll(){return Array.from(this.#t)}find(e){const t={exact:!0,...e};return this.getAll().find(a=>F0(t,a))}findAll(e={}){return this.getAll().filter(t=>F0(e,t))}notify(e){lt.batch(()=>{this.listeners.forEach(t=>{t(e)})})}resumePausedMutations(){const e=this.getAll().filter(t=>t.state.isPaused);return lt.batch(()=>Promise.all(e.map(t=>t.continue().catch(Ft))))}};function $c(e){return e.options.scope?.id}var $N=class extends wr{#t;#e=void 0;#s;#n;constructor(t,a){super(),this.#t=t,this.setOptions(a),this.bindMethods(),this.#a()}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(t){const a=this.options;this.options=this.#t.defaultMutationOptions(t),rl(this.options,a)||this.#t.getMutationCache().notify({type:"observerOptionsUpdated",mutation:this.#s,observer:this}),a?.mutationKey&&this.options.mutationKey&&Sn(a.mutationKey)!==Sn(this.options.mutationKey)?this.reset():this.#s?.state.status==="pending"&&this.#s.setOptions(this.options)}onUnsubscribe(){this.hasListeners()||this.#s?.removeObserver(this)}onMutationUpdate(t){this.#a(),this.#r(t)}getCurrentResult(){return this.#e}reset(){this.#s?.removeObserver(this),this.#s=void 0,this.#a(),this.#r()}mutate(t,a){return this.#n=a,this.#s?.removeObserver(this),this.#s=this.#t.getMutationCache().build(this.#t,this.options),this.#s.addObserver(this),this.#s.execute(t)}#a(){const t=this.#s?.state??pw();this.#e={...t,isPending:t.status==="pending",isSuccess:t.status==="success",isError:t.status==="error",isIdle:t.status==="idle",mutate:this.mutate,reset:this.reset}}#r(t){lt.batch(()=>{if(this.#n&&this.hasListeners()){const a=this.#e.variables,r=this.#e.context,l={client:this.#t,meta:this.options.meta,mutationKey:this.options.mutationKey};t?.type==="success"?(this.#n.onSuccess?.(t.data,a,r,l),this.#n.onSettled?.(t.data,null,a,r,l)):t?.type==="error"&&(this.#n.onError?.(t.error,a,r,l),this.#n.onSettled?.(void 0,t.error,a,r,l))}this.listeners.forEach(a=>{a(this.#e)})})}};function W0(e,t){const a=new Set(t);return e.filter(r=>!a.has(r))}function FN(e,t,a){const r=e.slice(0);return r[t]=a,r}var GN=class extends wr{#t;#e;#s;#n;#a;#r;#o;#i;#h=[];constructor(e,t,a){super(),this.#t=e,this.#n=a,this.#s=[],this.#a=[],this.#e=[],this.setQueries(t)}onSubscribe(){this.listeners.size===1&&this.#a.forEach(e=>{e.subscribe(t=>{this.#u(e,t)})})}onUnsubscribe(){this.listeners.size||this.destroy()}destroy(){this.listeners=new Set,this.#a.forEach(e=>{e.destroy()})}setQueries(e,t){this.#s=e,this.#n=t,lt.batch(()=>{const a=this.#a,r=this.#c(this.#s);this.#h=r,r.forEach(y=>y.observer.setOptions(y.defaultedQueryOptions));const l=r.map(y=>y.observer),c=l.map(y=>y.getCurrentResult()),d=a.length!==l.length,f=l.some((y,x)=>y!==a[x]),p=d||f,m=p?!0:c.some((y,x)=>{const v=this.#e[x];return!v||!rl(y,v)});!p&&!m||(p&&(this.#a=l),this.#e=c,this.hasListeners()&&(p&&(W0(a,l).forEach(y=>{y.destroy()}),W0(l,a).forEach(y=>{y.subscribe(x=>{this.#u(y,x)})})),this.#l()))})}getCurrentResult(){return this.#e}getQueries(){return this.#a.map(e=>e.getCurrentQuery())}getObservers(){return this.#a}getOptimisticResult(e,t){const a=this.#c(e),r=a.map(l=>l.observer.getOptimisticResult(l.defaultedQueryOptions));return[r,l=>this.#f(l??r,t),()=>this.#d(r,a)]}#d(e,t){return t.map((a,r)=>{const l=e[r];return a.defaultedQueryOptions.notifyOnChangeProps?l:a.observer.trackResult(l,c=>{t.forEach(d=>{d.observer.trackProp(c)})})})}#f(e,t){return t?((!this.#r||this.#e!==this.#i||t!==this.#o)&&(this.#o=t,this.#i=this.#e,this.#r=nm(this.#r,t(e))),this.#r):e}#c(e){const t=new Map(this.#a.map(r=>[r.options.queryHash,r])),a=[];return e.forEach(r=>{const l=this.#t.defaultQueryOptions(r),c=t.get(l.queryHash);c?a.push({defaultedQueryOptions:l,observer:c}):a.push({defaultedQueryOptions:l,observer:new vl(this.#t,l)})}),a}#u(e,t){const a=this.#a.indexOf(e);a!==-1&&(this.#e=FN(this.#e,a,t),this.#l())}#l(){if(this.hasListeners()){const e=this.#r,t=this.#d(this.#e,this.#h),a=this.#f(t,this.#n?.combine);e!==a&&lt.batch(()=>{this.listeners.forEach(r=>{r(this.#e)})})}}},VN=class extends wr{constructor(e={}){super(),this.config=e,this.#t=new Map}#t;build(e,t,a){const r=t.queryKey,l=t.queryHash??am(r,t);let c=this.get(l);return c||(c=new LN({client:e,queryKey:r,queryHash:l,options:e.defaultQueryOptions(t),state:a,defaultOptions:e.getQueryDefaults(r)}),this.add(c)),c}add(e){this.#t.has(e.queryHash)||(this.#t.set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const t=this.#t.get(e.queryHash);t&&(e.destroy(),t===e&&this.#t.delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){lt.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return this.#t.get(e)}getAll(){return[...this.#t.values()]}find(e){const t={exact:!0,...e};return this.getAll().find(a=>$0(t,a))}findAll(e={}){const t=this.getAll();return Object.keys(e).length>0?t.filter(a=>$0(e,a)):t}notify(e){lt.batch(()=>{this.listeners.forEach(t=>{t(e)})})}onFocus(){lt.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){lt.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},QN=class{#t;#e;#s;#n;#a;#r;#o;#i;constructor(e={}){this.#t=e.queryCache||new VN,this.#e=e.mutationCache||new HN,this.#s=e.defaultOptions||{},this.#n=new Map,this.#a=new Map,this.#r=0}mount(){this.#r++,this.#r===1&&(this.#o=rm.subscribe(async e=>{e&&(await this.resumePausedMutations(),this.#t.onFocus())}),this.#i=ju.subscribe(async e=>{e&&(await this.resumePausedMutations(),this.#t.onOnline())}))}unmount(){this.#r--,this.#r===0&&(this.#o?.(),this.#o=void 0,this.#i?.(),this.#i=void 0)}isFetching(e){return this.#t.findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return this.#e.findAll({...e,status:"pending"}).length}getQueryData(e){const t=this.defaultQueryOptions({queryKey:e});return this.#t.get(t.queryHash)?.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),a=this.#t.build(this,t),r=a.state.data;return r===void 0?this.fetchQuery(e):(e.revalidateIfStale&&a.isStaleByTime(jn(t.staleTime,a))&&this.prefetchQuery(t),Promise.resolve(r))}getQueriesData(e){return this.#t.findAll(e).map(({queryKey:t,state:a})=>{const r=a.data;return[t,r]})}setQueryData(e,t,a){const r=this.defaultQueryOptions({queryKey:e}),c=this.#t.get(r.queryHash)?.state.data,d=kN(t,c);if(d!==void 0)return this.#t.build(this,r).setData(d,{...a,manual:!0})}setQueriesData(e,t,a){return lt.batch(()=>this.#t.findAll(e).map(({queryKey:r})=>[r,this.setQueryData(r,t,a)]))}getQueryState(e){const t=this.defaultQueryOptions({queryKey:e});return this.#t.get(t.queryHash)?.state}removeQueries(e){const t=this.#t;lt.batch(()=>{t.findAll(e).forEach(a=>{t.remove(a)})})}resetQueries(e,t){const a=this.#t;return lt.batch(()=>(a.findAll(e).forEach(r=>{r.reset()}),this.refetchQueries({type:"active",...e},t)))}cancelQueries(e,t={}){const a={revert:!0,...t},r=lt.batch(()=>this.#t.findAll(e).map(l=>l.cancel(a)));return Promise.all(r).then(Ft).catch(Ft)}invalidateQueries(e,t={}){return lt.batch(()=>(this.#t.findAll(e).forEach(a=>{a.invalidate()}),e?.refetchType==="none"?Promise.resolve():this.refetchQueries({...e,type:e?.refetchType??e?.type??"active"},t)))}refetchQueries(e,t={}){const a={...t,cancelRefetch:t.cancelRefetch??!0},r=lt.batch(()=>this.#t.findAll(e).filter(l=>!l.isDisabled()&&!l.isStatic()).map(l=>{let c=l.fetch(void 0,a);return a.throwOnError||(c=c.catch(Ft)),l.state.fetchStatus==="paused"?Promise.resolve():c}));return Promise.all(r).then(Ft)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const a=this.#t.build(this,t);return a.isStaleByTime(jn(t.staleTime,a))?a.fetch(t):Promise.resolve(a.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(Ft).catch(Ft)}fetchInfiniteQuery(e){return e.behavior=Su(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(Ft).catch(Ft)}ensureInfiniteQueryData(e){return e.behavior=Su(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return ju.isOnline()?this.#e.resumePausedMutations():Promise.resolve()}getQueryCache(){return this.#t}getMutationCache(){return this.#e}getDefaultOptions(){return this.#s}setDefaultOptions(e){this.#s=e}setQueryDefaults(e,t){this.#n.set(Sn(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...this.#n.values()],a={};return t.forEach(r=>{nl(e,r.queryKey)&&Object.assign(a,r.defaultOptions)}),a}setMutationDefaults(e,t){this.#a.set(Sn(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...this.#a.values()],a={};return t.forEach(r=>{nl(e,r.mutationKey)&&Object.assign(a,r.defaultOptions)}),a}defaultQueryOptions(e){if(e._defaulted)return e;const t={...this.#s.queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=am(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===ws&&(t.enabled=!1),t}defaultMutationOptions(e){return e?._defaulted?e:{...this.#s.mutations,...e?.mutationKey&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){this.#t.clear(),this.#e.clear()}},Nh={exports:{}},Ne={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var X0;function YN(){if(X0)return Ne;X0=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),a=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),d=Symbol.for("react.context"),f=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),x=Symbol.for("react.activity"),v=Symbol.iterator;function b(L){return L===null||typeof L!="object"?null:(L=v&&L[v]||L["@@iterator"],typeof L=="function"?L:null)}var N={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},w=Object.assign,_={};function E(L,Z,K){this.props=L,this.context=Z,this.refs=_,this.updater=K||N}E.prototype.isReactComponent={},E.prototype.setState=function(L,Z){if(typeof L!="object"&&typeof L!="function"&&L!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,L,Z,"setState")},E.prototype.forceUpdate=function(L){this.updater.enqueueForceUpdate(this,L,"forceUpdate")};function T(){}T.prototype=E.prototype;function A(L,Z,K){this.props=L,this.context=Z,this.refs=_,this.updater=K||N}var I=A.prototype=new T;I.constructor=A,w(I,E.prototype),I.isPureReactComponent=!0;var M=Array.isArray;function P(){}var O={H:null,A:null,T:null,S:null},C=Object.prototype.hasOwnProperty;function z(L,Z,K){var F=K.ref;return{$$typeof:e,type:L,key:Z,ref:F!==void 0?F:null,props:K}}function G(L,Z){return z(L.type,Z,L.props)}function X(L){return typeof L=="object"&&L!==null&&L.$$typeof===e}function B(L){var Z={"=":"=0",":":"=2"};return"$"+L.replace(/[=:]/g,function(K){return Z[K]})}var se=/\/+/g;function R(L,Z){return typeof L=="object"&&L!==null&&L.key!=null?B(""+L.key):Z.toString(36)}function ee(L){switch(L.status){case"fulfilled":return L.value;case"rejected":throw L.reason;default:switch(typeof L.status=="string"?L.then(P,P):(L.status="pending",L.then(function(Z){L.status==="pending"&&(L.status="fulfilled",L.value=Z)},function(Z){L.status==="pending"&&(L.status="rejected",L.reason=Z)})),L.status){case"fulfilled":return L.value;case"rejected":throw L.reason}}throw L}function D(L,Z,K,F,ie){var ce=typeof L;(ce==="undefined"||ce==="boolean")&&(L=null);var ue=!1;if(L===null)ue=!0;else switch(ce){case"bigint":case"string":case"number":ue=!0;break;case"object":switch(L.$$typeof){case e:case t:ue=!0;break;case y:return ue=L._init,D(ue(L._payload),Z,K,F,ie)}}if(ue)return ie=ie(L),ue=F===""?"."+R(L,0):F,M(ie)?(K="",ue!=null&&(K=ue.replace(se,"$&/")+"/"),D(ie,Z,K,"",function(dt){return dt})):ie!=null&&(X(ie)&&(ie=G(ie,K+(ie.key==null||L&&L.key===ie.key?"":(""+ie.key).replace(se,"$&/")+"/")+ue)),Z.push(ie)),1;ue=0;var xe=F===""?".":F+":";if(M(L))for(var Ee=0;Ee<L.length;Ee++)F=L[Ee],ce=xe+R(F,Ee),ue+=D(F,Z,K,ce,ie);else if(Ee=b(L),typeof Ee=="function")for(L=Ee.call(L),Ee=0;!(F=L.next()).done;)F=F.value,ce=xe+R(F,Ee++),ue+=D(F,Z,K,ce,ie);else if(ce==="object"){if(typeof L.then=="function")return D(ee(L),Z,K,F,ie);throw Z=String(L),Error("Objects are not valid as a React child (found: "+(Z==="[object Object]"?"object with keys {"+Object.keys(L).join(", ")+"}":Z)+"). If you meant to render a collection of children, use an array instead.")}return ue}function Y(L,Z,K){if(L==null)return L;var F=[],ie=0;return D(L,F,"","",function(ce){return Z.call(K,ce,ie++)}),F}function H(L){if(L._status===-1){var Z=L._result;Z=Z(),Z.then(function(K){(L._status===0||L._status===-1)&&(L._status=1,L._result=K)},function(K){(L._status===0||L._status===-1)&&(L._status=2,L._result=K)}),L._status===-1&&(L._status=0,L._result=Z)}if(L._status===1)return L._result.default;throw L._result}var de=typeof reportError=="function"?reportError:function(L){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Z=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof L=="object"&&L!==null&&typeof L.message=="string"?String(L.message):String(L),error:L});if(!window.dispatchEvent(Z))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",L);return}console.error(L)},he={map:Y,forEach:function(L,Z,K){Y(L,function(){Z.apply(this,arguments)},K)},count:function(L){var Z=0;return Y(L,function(){Z++}),Z},toArray:function(L){return Y(L,function(Z){return Z})||[]},only:function(L){if(!X(L))throw Error("React.Children.only expected to receive a single React element child.");return L}};return Ne.Activity=x,Ne.Children=he,Ne.Component=E,Ne.Fragment=a,Ne.Profiler=l,Ne.PureComponent=A,Ne.StrictMode=r,Ne.Suspense=p,Ne.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=O,Ne.__COMPILER_RUNTIME={__proto__:null,c:function(L){return O.H.useMemoCache(L)}},Ne.cache=function(L){return function(){return L.apply(null,arguments)}},Ne.cacheSignal=function(){return null},Ne.cloneElement=function(L,Z,K){if(L==null)throw Error("The argument must be a React element, but you passed "+L+".");var F=w({},L.props),ie=L.key;if(Z!=null)for(ce in Z.key!==void 0&&(ie=""+Z.key),Z)!C.call(Z,ce)||ce==="key"||ce==="__self"||ce==="__source"||ce==="ref"&&Z.ref===void 0||(F[ce]=Z[ce]);var ce=arguments.length-2;if(ce===1)F.children=K;else if(1<ce){for(var ue=Array(ce),xe=0;xe<ce;xe++)ue[xe]=arguments[xe+2];F.children=ue}return z(L.type,ie,F)},Ne.createContext=function(L){return L={$$typeof:d,_currentValue:L,_currentValue2:L,_threadCount:0,Provider:null,Consumer:null},L.Provider=L,L.Consumer={$$typeof:c,_context:L},L},Ne.createElement=function(L,Z,K){var F,ie={},ce=null;if(Z!=null)for(F in Z.key!==void 0&&(ce=""+Z.key),Z)C.call(Z,F)&&F!=="key"&&F!=="__self"&&F!=="__source"&&(ie[F]=Z[F]);var ue=arguments.length-2;if(ue===1)ie.children=K;else if(1<ue){for(var xe=Array(ue),Ee=0;Ee<ue;Ee++)xe[Ee]=arguments[Ee+2];ie.children=xe}if(L&&L.defaultProps)for(F in ue=L.defaultProps,ue)ie[F]===void 0&&(ie[F]=ue[F]);return z(L,ce,ie)},Ne.createRef=function(){return{current:null}},Ne.forwardRef=function(L){return{$$typeof:f,render:L}},Ne.isValidElement=X,Ne.lazy=function(L){return{$$typeof:y,_payload:{_status:-1,_result:L},_init:H}},Ne.memo=function(L,Z){return{$$typeof:m,type:L,compare:Z===void 0?null:Z}},Ne.startTransition=function(L){var Z=O.T,K={};O.T=K;try{var F=L(),ie=O.S;ie!==null&&ie(K,F),typeof F=="object"&&F!==null&&typeof F.then=="function"&&F.then(P,de)}catch(ce){de(ce)}finally{Z!==null&&K.types!==null&&(Z.types=K.types),O.T=Z}},Ne.unstable_useCacheRefresh=function(){return O.H.useCacheRefresh()},Ne.use=function(L){return O.H.use(L)},Ne.useActionState=function(L,Z,K){return O.H.useActionState(L,Z,K)},Ne.useCallback=function(L,Z){return O.H.useCallback(L,Z)},Ne.useContext=function(L){return O.H.useContext(L)},Ne.useDebugValue=function(){},Ne.useDeferredValue=function(L,Z){return O.H.useDeferredValue(L,Z)},Ne.useEffect=function(L,Z){return O.H.useEffect(L,Z)},Ne.useEffectEvent=function(L){return O.H.useEffectEvent(L)},Ne.useId=function(){return O.H.useId()},Ne.useImperativeHandle=function(L,Z,K){return O.H.useImperativeHandle(L,Z,K)},Ne.useInsertionEffect=function(L,Z){return O.H.useInsertionEffect(L,Z)},Ne.useLayoutEffect=function(L,Z){return O.H.useLayoutEffect(L,Z)},Ne.useMemo=function(L,Z){return O.H.useMemo(L,Z)},Ne.useOptimistic=function(L,Z){return O.H.useOptimistic(L,Z)},Ne.useReducer=function(L,Z,K){return O.H.useReducer(L,Z,K)},Ne.useRef=function(L){return O.H.useRef(L)},Ne.useState=function(L){return O.H.useState(L)},Ne.useSyncExternalStore=function(L,Z,K){return O.H.useSyncExternalStore(L,Z,K)},Ne.useTransition=function(){return O.H.useTransition()},Ne.version="19.2.0",Ne}var J0;function zu(){return J0||(J0=1,Nh.exports=YN()),Nh.exports}var j=zu();const oe=sm(j),qu=bN({__proto__:null,default:oe},[j]);var mw=j.createContext(void 0),bl=e=>{const t=j.useContext(mw);if(e)return e;if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},KN=({client:e,children:t})=>(j.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),i.jsx(mw.Provider,{value:e,children:t})),gw=j.createContext(!1),xw=()=>j.useContext(gw);gw.Provider;function WN(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var XN=j.createContext(WN()),yw=()=>j.useContext(XN),vw=(e,t)=>{(e.suspense||e.throwOnError||e.experimental_prefetchInRender)&&(t.isReset()||(e.retryOnMount=!1))},bw=e=>{j.useEffect(()=>{e.clearReset()},[e])},ww=({result:e,errorResetBoundary:t,throwOnError:a,query:r,suspense:l})=>e.isError&&!t.isReset()&&!e.isFetching&&r&&(l&&e.data===void 0||ow(a,[e.error,r])),om=(e,t)=>t.state.data===void 0,jw=e=>{if(e.suspense){const a=l=>l==="static"?l:Math.max(l??1e3,1e3),r=e.staleTime;e.staleTime=typeof r=="function"?(...l)=>a(r(...l)):a(r),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3))}},Sw=(e,t)=>e.isLoading&&e.isFetching&&!t,gp=(e,t)=>e?.suspense&&t.isPending,_u=(e,t,a)=>t.fetchOptimistic(e).catch(()=>{a.clearReset()});function _w({queries:e,...t},a){const r=bl(a),l=xw(),c=yw(),d=j.useMemo(()=>e.map(w=>{const _=r.defaultQueryOptions(w);return _._optimisticResults=l?"isRestoring":"optimistic",_}),[e,r,l]);d.forEach(w=>{jw(w),vw(w,c)}),bw(c);const[f]=j.useState(()=>new GN(r,d,t)),[p,m,y]=f.getOptimisticResult(d,t.combine),x=!l&&t.subscribed!==!1;j.useSyncExternalStore(j.useCallback(w=>x?f.subscribe(lt.batchCalls(w)):Ft,[f,x]),()=>f.getCurrentResult(),()=>f.getCurrentResult()),j.useEffect(()=>{f.setQueries(d,t)},[d,t,f]);const b=p.some((w,_)=>gp(d[_],w))?p.flatMap((w,_)=>{const E=d[_];if(E){const T=new vl(r,E);if(gp(E,w))return _u(E,T,c);Sw(w,l)&&_u(E,T,c)}return[]}):[];if(b.length>0)throw Promise.all(b);const N=p.find((w,_)=>{const E=d[_];return E&&ww({result:w,errorResetBoundary:c,throwOnError:E.throwOnError,query:r.getQueryCache().get(E.queryHash),suspense:E.suspense})});if(N?.error)throw N.error;return m(y())}function Bu(e,t,a){const r=xw(),l=yw(),c=bl(a),d=c.defaultQueryOptions(e);c.getDefaultOptions().queries?._experimental_beforeQuery?.(d),d._optimisticResults=r?"isRestoring":"optimistic",jw(d),vw(d,l),bw(l);const f=!c.getQueryCache().get(d.queryHash),[p]=j.useState(()=>new t(c,d)),m=p.getOptimisticResult(d),y=!r&&e.subscribed!==!1;if(j.useSyncExternalStore(j.useCallback(x=>{const v=y?p.subscribe(lt.batchCalls(x)):Ft;return p.updateResult(),v},[p,y]),()=>p.getCurrentResult(),()=>p.getCurrentResult()),j.useEffect(()=>{p.setOptions(d)},[d,p]),gp(d,m))throw _u(d,p,l);if(ww({result:m,errorResetBoundary:l,throwOnError:d.throwOnError,query:c.getQueryCache().get(d.queryHash),suspense:d.suspense}))throw m.error;return c.getDefaultOptions().queries?._experimental_afterQuery?.(d,m),d.experimental_prefetchInRender&&!gr&&Sw(m,r)&&(f?_u(d,p,l):c.getQueryCache().get(d.queryHash)?.promise)?.catch(Ft).finally(()=>{p.updateResult()}),d.notifyOnChangeProps?m:p.trackResult(m)}function JN(e,t){return Bu(e,vl,t)}function ZN(e,t){return Bu({...e,enabled:!0,suspense:!0,throwOnError:om,placeholderData:void 0},vl,t)}function ek(e,t){return Bu({...e,enabled:!0,suspense:!0,throwOnError:om},hw,t)}function tk(e,t){return _w({...e,queries:e.queries.map(a=>({...a,suspense:!0,throwOnError:om,enabled:!0,placeholderData:void 0}))},t)}function sk(e,t){const a=bl(t);a.getQueryState(e.queryKey)||a.prefetchQuery(e)}function ak(e,t){const a=bl(t);a.getQueryState(e.queryKey)||a.prefetchInfiniteQuery(e)}function nk(e,t){const a=bl(t),[r]=j.useState(()=>new $N(a,e));j.useEffect(()=>{r.setOptions(e)},[r,e]);const l=j.useSyncExternalStore(j.useCallback(d=>r.subscribe(lt.batchCalls(d)),[r]),()=>r.getCurrentResult(),()=>r.getCurrentResult()),c=j.useCallback((d,f)=>{r.mutate(d,f).catch(Ft)},[r]);if(l.error&&ow(r.options.throwOnError,[l.error]))throw l.error;return{...l,mutate:c,mutateAsync:l.mutate}}function rk(e,t){return Bu(e,hw,t)}function xr(e){return!!e&&!Array.isArray(e)&&typeof e=="object"}const ik=typeof Symbol=="function"&&!!Symbol.asyncIterator;function Nw(e){return ik&&xr(e)&&Symbol.asyncIterator in e}var ok=Object.create,kw=Object.defineProperty,lk=Object.getOwnPropertyDescriptor,Ew=Object.getOwnPropertyNames,ck=Object.getPrototypeOf,uk=Object.prototype.hasOwnProperty,wl=(e,t)=>function(){return t||(0,e[Ew(e)[0]])((t={exports:{}}).exports,t),t.exports},dk=(e,t,a,r)=>{if(t&&typeof t=="object"||typeof t=="function")for(var l=Ew(t),c=0,d=l.length,f;c<d;c++)f=l[c],!uk.call(e,f)&&f!==a&&kw(e,f,{get:(p=>t[p]).bind(null,f),enumerable:!(r=lk(t,f))||r.enumerable});return e},Hu=(e,t,a)=>(a=e!=null?ok(ck(e)):{},dk(kw(a,"default",{value:e,enumerable:!0}),e));const Aw=()=>{},Z0=e=>{Object.freeze&&Object.freeze(e)};function Cw(e,t,a){var r;const l=t.join(".");return(r=a[l])!==null&&r!==void 0||(a[l]=new Proxy(Aw,{get(c,d){if(!(typeof d!="string"||d==="then"))return Cw(e,[...t,d],a)},apply(c,d,f){const p=t[t.length-1];let m={args:f,path:t};return p==="call"?m={args:f.length>=2?[f[1]]:[],path:t.slice(0,-1)}:p==="apply"&&(m={args:f.length>=2?f[1]:[],path:t.slice(0,-1)}),Z0(m.args),Z0(m.path),e(m)}})),a[l]}const $u=e=>Cw(e,[],Object.create(null)),lm=e=>new Proxy(Aw,{get(t,a){if(a!=="then")return e(a)}});var Tw=wl({"../../node_modules/.pnpm/@oxc-project+runtime@0.72.2/node_modules/@oxc-project/runtime/src/helpers/typeof.js"(e,t){function a(r){"@babel/helpers - typeof";return t.exports=a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(l){return typeof l}:function(l){return l&&typeof Symbol=="function"&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":typeof l},t.exports.__esModule=!0,t.exports.default=t.exports,a(r)}t.exports=a,t.exports.__esModule=!0,t.exports.default=t.exports}}),fk=wl({"../../node_modules/.pnpm/@oxc-project+runtime@0.72.2/node_modules/@oxc-project/runtime/src/helpers/toPrimitive.js"(e,t){var a=Tw().default;function r(l,c){if(a(l)!="object"||!l)return l;var d=l[Symbol.toPrimitive];if(d!==void 0){var f=d.call(l,c||"default");if(a(f)!="object")return f;throw new TypeError("@@toPrimitive must return a primitive value.")}return(c==="string"?String:Number)(l)}t.exports=r,t.exports.__esModule=!0,t.exports.default=t.exports}}),hk=wl({"../../node_modules/.pnpm/@oxc-project+runtime@0.72.2/node_modules/@oxc-project/runtime/src/helpers/toPropertyKey.js"(e,t){var a=Tw().default,r=fk();function l(c){var d=r(c,"string");return a(d)=="symbol"?d:d+""}t.exports=l,t.exports.__esModule=!0,t.exports.default=t.exports}}),Ow=wl({"../../node_modules/.pnpm/@oxc-project+runtime@0.72.2/node_modules/@oxc-project/runtime/src/helpers/defineProperty.js"(e,t){var a=hk();function r(l,c,d){return(c=a(c))in l?Object.defineProperty(l,c,{value:d,enumerable:!0,configurable:!0,writable:!0}):l[c]=d,l}t.exports=r,t.exports.__esModule=!0,t.exports.default=t.exports}}),cm=wl({"../../node_modules/.pnpm/@oxc-project+runtime@0.72.2/node_modules/@oxc-project/runtime/src/helpers/objectSpread2.js"(e,t){var a=Ow();function r(c,d){var f=Object.keys(c);if(Object.getOwnPropertySymbols){var p=Object.getOwnPropertySymbols(c);d&&(p=p.filter(function(m){return Object.getOwnPropertyDescriptor(c,m).enumerable})),f.push.apply(f,p)}return f}function l(c){for(var d=1;d<arguments.length;d++){var f=arguments[d]!=null?arguments[d]:{};d%2?r(Object(f),!0).forEach(function(p){a(c,p,f[p])}):Object.getOwnPropertyDescriptors?Object.defineProperties(c,Object.getOwnPropertyDescriptors(f)):r(Object(f)).forEach(function(p){Object.defineProperty(c,p,Object.getOwnPropertyDescriptor(f,p))})}return c}t.exports=l,t.exports.__esModule=!0,t.exports.default=t.exports}});Hu(cm());Hu(Ow());var Fc=Hu(cm());function pk(e,t){if("error"in e){const r=t.deserialize(e.error);return{ok:!1,error:(0,Fc.default)((0,Fc.default)({},e),{},{error:r})}}return{ok:!0,result:(0,Fc.default)((0,Fc.default)({},e.result),(!e.result.type||e.result.type==="data")&&{type:"data",data:t.deserialize(e.result.data)})}}var kh=class extends Error{constructor(){super("Unable to transform response from server")}};function mk(e,t){let a;try{a=pk(e,t)}catch{throw new kh}if(!a.ok&&(!xr(a.error.error)||typeof a.error.error.code!="number"))throw new kh;if(a.ok&&!xr(a.result))throw new kh;return a}Hu(cm());function Fu(e){const t={subscribe(a){let r=null,l=!1,c=!1,d=!1;function f(){if(r===null){d=!0;return}c||(c=!0,typeof r=="function"?r():r&&r.unsubscribe())}return r=e({next(p){var m;l||(m=a.next)===null||m===void 0||m.call(a,p)},error(p){var m;l||(l=!0,(m=a.error)===null||m===void 0||m.call(a,p),f())},complete(){var p;l||(l=!0,(p=a.complete)===null||p===void 0||p.call(a),f())}}),d&&f(),{unsubscribe:f}},pipe(...a){return a.reduce(gk,t)}};return t}function gk(e,t){return t(e)}function xk(e){const t=new AbortController;return new Promise((r,l)=>{let c=!1;function d(){c||(c=!0,f.unsubscribe())}t.signal.addEventListener("abort",()=>{l(t.signal.reason)});const f=e.subscribe({next(p){c=!0,r(p),d()},error(p){l(p)},complete(){t.abort(),d()}})})}var yk=Object.create,Dw=Object.defineProperty,vk=Object.getOwnPropertyDescriptor,Rw=Object.getOwnPropertyNames,bk=Object.getPrototypeOf,wk=Object.prototype.hasOwnProperty,On=(e,t)=>function(){return t||(0,e[Rw(e)[0]])((t={exports:{}}).exports,t),t.exports},jk=(e,t,a,r)=>{if(t&&typeof t=="object"||typeof t=="function")for(var l=Rw(t),c=0,d=l.length,f;c<d;c++)f=l[c],!wk.call(e,f)&&f!==a&&Dw(e,f,{get:(p=>t[p]).bind(null,f),enumerable:!(r=vk(t,f))||r.enumerable});return e},jr=(e,t,a)=>(a=e!=null?yk(bk(e)):{},jk(t||!e||!e.__esModule?Dw(a,"default",{value:e,enumerable:!0}):a,e)),Sk=On({"../../node_modules/.pnpm/@oxc-project+runtime@0.72.2/node_modules/@oxc-project/runtime/src/helpers/objectWithoutPropertiesLoose.js"(e,t){function a(r,l){if(r==null)return{};var c={};for(var d in r)if({}.hasOwnProperty.call(r,d)){if(l.includes(d))continue;c[d]=r[d]}return c}t.exports=a,t.exports.__esModule=!0,t.exports.default=t.exports}}),_k=On({"../../node_modules/.pnpm/@oxc-project+runtime@0.72.2/node_modules/@oxc-project/runtime/src/helpers/objectWithoutProperties.js"(e,t){var a=Sk();function r(l,c){if(l==null)return{};var d,f,p=a(l,c);if(Object.getOwnPropertySymbols){var m=Object.getOwnPropertySymbols(l);for(f=0;f<m.length;f++)d=m[f],c.includes(d)||{}.propertyIsEnumerable.call(l,d)&&(p[d]=l[d])}return p}t.exports=r,t.exports.__esModule=!0,t.exports.default=t.exports}}),Pw=On({"../../node_modules/.pnpm/@oxc-project+runtime@0.72.2/node_modules/@oxc-project/runtime/src/helpers/typeof.js"(e,t){function a(r){"@babel/helpers - typeof";return t.exports=a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(l){return typeof l}:function(l){return l&&typeof Symbol=="function"&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":typeof l},t.exports.__esModule=!0,t.exports.default=t.exports,a(r)}t.exports=a,t.exports.__esModule=!0,t.exports.default=t.exports}}),Nk=On({"../../node_modules/.pnpm/@oxc-project+runtime@0.72.2/node_modules/@oxc-project/runtime/src/helpers/toPrimitive.js"(e,t){var a=Pw().default;function r(l,c){if(a(l)!="object"||!l)return l;var d=l[Symbol.toPrimitive];if(d!==void 0){var f=d.call(l,c||"default");if(a(f)!="object")return f;throw new TypeError("@@toPrimitive must return a primitive value.")}return(c==="string"?String:Number)(l)}t.exports=r,t.exports.__esModule=!0,t.exports.default=t.exports}}),kk=On({"../../node_modules/.pnpm/@oxc-project+runtime@0.72.2/node_modules/@oxc-project/runtime/src/helpers/toPropertyKey.js"(e,t){var a=Pw().default,r=Nk();function l(c){var d=r(c,"string");return a(d)=="symbol"?d:d+""}t.exports=l,t.exports.__esModule=!0,t.exports.default=t.exports}}),Ek=On({"../../node_modules/.pnpm/@oxc-project+runtime@0.72.2/node_modules/@oxc-project/runtime/src/helpers/defineProperty.js"(e,t){var a=kk();function r(l,c,d){return(c=a(c))in l?Object.defineProperty(l,c,{value:d,enumerable:!0,configurable:!0,writable:!0}):l[c]=d,l}t.exports=r,t.exports.__esModule=!0,t.exports.default=t.exports}}),jl=On({"../../node_modules/.pnpm/@oxc-project+runtime@0.72.2/node_modules/@oxc-project/runtime/src/helpers/objectSpread2.js"(e,t){var a=Ek();function r(c,d){var f=Object.keys(c);if(Object.getOwnPropertySymbols){var p=Object.getOwnPropertySymbols(c);d&&(p=p.filter(function(m){return Object.getOwnPropertyDescriptor(c,m).enumerable})),f.push.apply(f,p)}return f}function l(c){for(var d=1;d<arguments.length;d++){var f=arguments[d]!=null?arguments[d]:{};d%2?r(Object(f),!0).forEach(function(p){a(c,p,f[p])}):Object.getOwnPropertyDescriptors?Object.defineProperties(c,Object.getOwnPropertyDescriptors(f)):r(Object(f)).forEach(function(p){Object.defineProperty(c,p,Object.getOwnPropertyDescriptor(f,p))})}return c}t.exports=l,t.exports.__esModule=!0,t.exports.default=t.exports}}),Ak=jr(_k(),1),ev=jr(jl(),1);const Ck=["cursor","direction"];function ia(e,t,a){const r=e.flatMap(l=>l.split("."));if(!t&&(!a||a==="any"))return r.length?[r]:[];if(a==="infinite"&&xr(t)&&("direction"in t||"cursor"in t)){const{cursor:l,direction:c}=t,d=(0,Ak.default)(t,Ck);return[r,{input:d,type:"infinite"}]}return[r,(0,ev.default)((0,ev.default)({},typeof t<"u"&&t!==ws&&{input:t}),a&&a!=="any"&&{type:a})]}function gu(e){return ia(e,void 0,"any")}var Tk=Object.create,Mw=Object.defineProperty,Ok=Object.getOwnPropertyDescriptor,Lw=Object.getOwnPropertyNames,Dk=Object.getPrototypeOf,Rk=Object.prototype.hasOwnProperty,da=(e,t)=>function(){return t||(0,e[Lw(e)[0]])((t={exports:{}}).exports,t),t.exports},Pk=(e,t,a,r)=>{if(t&&typeof t=="object"||typeof t=="function")for(var l=Lw(t),c=0,d=l.length,f;c<d;c++)f=l[c],!Rk.call(e,f)&&f!==a&&Mw(e,f,{get:(p=>t[p]).bind(null,f),enumerable:!(r=Ok(t,f))||r.enumerable});return e},mt=(e,t,a)=>(a=e!=null?Tk(Dk(e)):{},Pk(t||!e||!e.__esModule?Mw(a,"default",{value:e,enumerable:!0}):a,e)),Uw=da({"../../node_modules/.pnpm/@oxc-project+runtime@0.72.2/node_modules/@oxc-project/runtime/src/helpers/typeof.js"(e,t){function a(r){"@babel/helpers - typeof";return t.exports=a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(l){return typeof l}:function(l){return l&&typeof Symbol=="function"&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":typeof l},t.exports.__esModule=!0,t.exports.default=t.exports,a(r)}t.exports=a,t.exports.__esModule=!0,t.exports.default=t.exports}}),Mk=da({"../../node_modules/.pnpm/@oxc-project+runtime@0.72.2/node_modules/@oxc-project/runtime/src/helpers/toPrimitive.js"(e,t){var a=Uw().default;function r(l,c){if(a(l)!="object"||!l)return l;var d=l[Symbol.toPrimitive];if(d!==void 0){var f=d.call(l,c||"default");if(a(f)!="object")return f;throw new TypeError("@@toPrimitive must return a primitive value.")}return(c==="string"?String:Number)(l)}t.exports=r,t.exports.__esModule=!0,t.exports.default=t.exports}}),Lk=da({"../../node_modules/.pnpm/@oxc-project+runtime@0.72.2/node_modules/@oxc-project/runtime/src/helpers/toPropertyKey.js"(e,t){var a=Uw().default,r=Mk();function l(c){var d=r(c,"string");return a(d)=="symbol"?d:d+""}t.exports=l,t.exports.__esModule=!0,t.exports.default=t.exports}}),Sr=da({"../../node_modules/.pnpm/@oxc-project+runtime@0.72.2/node_modules/@oxc-project/runtime/src/helpers/defineProperty.js"(e,t){var a=Lk();function r(l,c,d){return(c=a(c))in l?Object.defineProperty(l,c,{value:d,enumerable:!0,configurable:!0,writable:!0}):l[c]=d,l}t.exports=r,t.exports.__esModule=!0,t.exports.default=t.exports}}),Ks=da({"../../node_modules/.pnpm/@oxc-project+runtime@0.72.2/node_modules/@oxc-project/runtime/src/helpers/objectSpread2.js"(e,t){var a=Sr();function r(c,d){var f=Object.keys(c);if(Object.getOwnPropertySymbols){var p=Object.getOwnPropertySymbols(c);d&&(p=p.filter(function(m){return Object.getOwnPropertyDescriptor(c,m).enumerable})),f.push.apply(f,p)}return f}function l(c){for(var d=1;d<arguments.length;d++){var f=arguments[d]!=null?arguments[d]:{};d%2?r(Object(f),!0).forEach(function(p){a(c,p,f[p])}):Object.getOwnPropertyDescriptors?Object.defineProperties(c,Object.getOwnPropertyDescriptors(f)):r(Object(f)).forEach(function(p){Object.defineProperty(c,p,Object.getOwnPropertyDescriptor(f,p))})}return c}t.exports=l,t.exports.__esModule=!0,t.exports.default=t.exports}});function Uk(e){return t=>{let a=0,r=null;const l=[];function c(){r||(r=t.subscribe({next(f){for(const m of l){var p;(p=m.next)===null||p===void 0||p.call(m,f)}},error(f){for(const m of l){var p;(p=m.error)===null||p===void 0||p.call(m,f)}},complete(){for(const p of l){var f;(f=p.complete)===null||f===void 0||f.call(p)}}}))}function d(){if(a===0&&r){const f=r;r=null,f.unsubscribe()}}return Fu(f=>(a++,l.push(f),c(),{unsubscribe(){a--,d();const p=l.findIndex(m=>m===f);p>-1&&l.splice(p,1)}}))}}function Ik(e){let t=e;const a=[],r=d=>{t!==void 0&&d.next(t),a.push(d)},l=d=>{a.splice(a.indexOf(d),1)},c=Fu(d=>(r(d),()=>{l(d)}));return c.next=d=>{if(t!==d){t=d;for(const f of a)f.next(d)}},c.get=()=>t,c}function zk(e){return Fu(t=>{function a(l=0,c=e.op){const d=e.links[l];if(!d)throw new Error("No more links to execute - did you forget to add an ending link?");return d({op:c,next(p){return a(l+1,p)}})}return a().subscribe(t)})}var Gc=mt(Sr(),1),mi=mt(Ks(),1);function qk(e){return e instanceof Ri}function Bk(e){return xr(e)&&xr(e.error)&&typeof e.error.code=="number"&&typeof e.error.message=="string"}function Hk(e,t){return typeof e=="string"?e:xr(e)&&typeof e.message=="string"?e.message:t}var Ri=class xu extends Error{constructor(t,a){var r,l;const c=a?.cause;super(t,{cause:c}),(0,Gc.default)(this,"cause",void 0),(0,Gc.default)(this,"shape",void 0),(0,Gc.default)(this,"data",void 0),(0,Gc.default)(this,"meta",void 0),this.meta=a?.meta,this.cause=c,this.shape=a==null||(r=a.result)===null||r===void 0?void 0:r.error,this.data=a==null||(l=a.result)===null||l===void 0?void 0:l.error.data,this.name="TRPCClientError",Object.setPrototypeOf(this,xu.prototype)}static from(t,a={}){const r=t;return qk(r)?(a.meta&&(r.meta=(0,mi.default)((0,mi.default)({},r.meta),a.meta)),r):Bk(r)?new xu(r.error.message,(0,mi.default)((0,mi.default)({},a),{},{result:r})):new xu(Hk(r,"Unknown error"),(0,mi.default)((0,mi.default)({},a),{},{cause:r}))}};function $k(e){const t=e;return t?"input"in t?t:{input:t,output:t}:{input:{serialize:a=>a,deserialize:a=>a},output:{serialize:a=>a,deserialize:a=>a}}}const tv=e=>typeof e=="function";function Fk(e){if(e)return e;if(typeof window<"u"&&tv(window.fetch))return window.fetch;if(typeof globalThis<"u"&&tv(globalThis.fetch))return globalThis.fetch;throw new Error("No fetch implementation found")}var Jo=mt(Ks());function Gk(e){return{url:e.url.toString(),fetch:e.fetch,transformer:$k(e.transformer),methodOverride:e.methodOverride}}function Vk(e){const t={};for(let a=0;a<e.length;a++){const r=e[a];t[a]=r}return t}const Qk={query:"GET",mutation:"POST",subscription:"PATCH"};function Iw(e){return"input"in e?e.transformer.input.serialize(e.input):Vk(e.inputs.map(t=>e.transformer.input.serialize(t)))}const zw=e=>{const t=e.url.split("?");let r=t[0].replace(/\/$/,"")+"/"+e.path;const l=[];if(t[1]&&l.push(t[1]),"inputs"in e&&l.push("batch=1"),e.type==="query"||e.type==="subscription"){const c=Iw(e);c!==void 0&&e.methodOverride!=="POST"&&l.push(`input=${encodeURIComponent(JSON.stringify(c))}`)}return l.length&&(r+="?"+l.join("&")),r},Yk=e=>{if(e.type==="query"&&e.methodOverride!=="POST")return;const t=Iw(e);return t!==void 0?JSON.stringify(t):void 0},Kk=e=>Zk((0,Jo.default)((0,Jo.default)({},e),{},{contentTypeHeader:"application/json",getUrl:zw,getBody:Yk}));var Wk=class extends Error{constructor(){const e="AbortError";super(e),this.name=e,this.message=e}};const Xk=e=>{var t;if(e?.aborted)throw(t=e.throwIfAborted)===null||t===void 0||t.call(e),typeof DOMException<"u"?new DOMException("AbortError","AbortError"):new Wk};async function Jk(e){var t;Xk(e.signal);const a=e.getUrl(e),r=e.getBody(e),l=(t=e.methodOverride)!==null&&t!==void 0?t:Qk[e.type],c=await(async()=>{const f=await e.headers();return Symbol.iterator in f?Object.fromEntries(f):f})(),d=(0,Jo.default)((0,Jo.default)((0,Jo.default)({},e.contentTypeHeader&&l!=="GET"?{"content-type":e.contentTypeHeader}:{}),e.trpcAcceptHeader?{"trpc-accept":e.trpcAcceptHeader}:void 0),c);return Fk(e.fetch)(a,{method:l,signal:e.signal,body:r,headers:d})}async function Zk(e){const t={},a=await Jk(e);t.response=a;const r=await a.json();return t.responseJSON=r,{json:r,meta:t}}mt(Ks(),1);const sv=()=>{throw new Error("Something went wrong. Please submit an issue at https://github.com/trpc/trpc/issues/new")};function av(e){let t=null,a=null;const r=()=>{clearTimeout(a),a=null,t=null};function l(f){const p=[[]];let m=0;for(;;){const v=f[m];if(!v)break;const b=p[p.length-1];if(v.aborted){var y;(y=v.reject)===null||y===void 0||y.call(v,new Error("Aborted")),m++;continue}if(e.validate(b.concat(v).map(w=>w.key))){b.push(v),m++;continue}if(b.length===0){var x;(x=v.reject)===null||x===void 0||x.call(v,new Error("Input is too big for a single dispatch")),m++;continue}p.push([])}return p}function c(){const f=l(t);r();for(const p of f){if(!p.length)continue;const m={items:p};for(const x of p)x.batch=m;e.fetch(m.items.map(x=>x.key)).then(async x=>{await Promise.all(x.map(async(b,N)=>{const w=m.items[N];try{var _;const T=await Promise.resolve(b);(_=w.resolve)===null||_===void 0||_.call(w,T)}catch(T){var E;(E=w.reject)===null||E===void 0||E.call(w,T)}w.batch=null,w.reject=null,w.resolve=null}));for(const b of m.items){var v;(v=b.reject)===null||v===void 0||v.call(b,new Error("Missing result")),b.batch=null}}).catch(x=>{for(const b of m.items){var v;(v=b.reject)===null||v===void 0||v.call(b,x),b.batch=null}})}}function d(f){var p;const m={aborted:!1,key:f,batch:null,resolve:sv,reject:sv},y=new Promise((x,v)=>{var b;m.reject=v,m.resolve=x,(b=t)!==null&&b!==void 0||(t=[]),t.push(m)});return(p=a)!==null&&p!==void 0||(a=setTimeout(c)),y}return{load:d}}function eE(...e){const t=new AbortController,a=e.length;let r=0;const l=()=>{++r===a&&t.abort()};for(const c of e)c?.aborted?l():c?.addEventListener("abort",l,{once:!0});return t.signal}var Vc=mt(Ks(),1);function tE(e){var t,a;const r=Gk(e),l=(t=e.maxURLLength)!==null&&t!==void 0?t:1/0,c=(a=e.maxItems)!==null&&a!==void 0?a:1/0;return()=>{const d=y=>({validate(x){if(l===1/0&&c===1/0)return!0;if(x.length>c)return!1;const v=x.map(w=>w.path).join(","),b=x.map(w=>w.input);return zw((0,Vc.default)((0,Vc.default)({},r),{},{type:y,path:v,inputs:b,signal:null})).length<=l},async fetch(x){const v=x.map(T=>T.path).join(","),b=x.map(T=>T.input),N=eE(...x.map(T=>T.signal)),w=await Kk((0,Vc.default)((0,Vc.default)({},r),{},{path:v,inputs:b,type:y,headers(){return e.headers?typeof e.headers=="function"?e.headers({opList:x}):e.headers:{}},signal:N}));return(Array.isArray(w.json)?w.json:x.map(()=>w.json)).map(T=>({meta:w.meta,json:T}))}}),f=av(d("query")),p=av(d("mutation")),m={query:f,mutation:p};return({op:y})=>Fu(x=>{/* istanbul ignore if -- @preserve */if(y.type==="subscription")throw new Error("Subscriptions are unsupported by `httpLink` - use `httpSubscriptionLink` or `wsLink`");const b=m[y.type].load(y);let N;return b.then(w=>{N=w;const _=mk(w.json,r.transformer.output);if(!_.ok){x.error(Ri.from(_.error,{meta:w.meta}));return}x.next({context:w.meta,result:_.result}),x.complete()}).catch(w=>{x.error(Ri.from(w,{meta:N?.meta}))}),()=>{}})}}mt(Ks(),1);const qw=(e,...t)=>typeof e=="function"?e(...t):e;mt(Sr(),1);function sE(){let e,t;return{promise:new Promise((r,l)=>{e=r,t=l}),resolve:e,reject:t}}async function aE(e){const t=await qw(e.url);if(!e.connectionParams)return t;const r=`${t.includes("?")?"&":"?"}connectionParams=1`;return t+r}async function nE(e){const t={method:"connectionParams",data:await qw(e)};return JSON.stringify(t)}mt(Sr(),1);var ir=mt(Sr(),1);function rE(e){const{promise:t,resolve:a,reject:r}=sE();return e.addEventListener("open",()=>{e.removeEventListener("error",r),a()}),e.addEventListener("error",r),t}function iE(e,{intervalMs:t,pongTimeoutMs:a}){let r,l;function c(){r=setTimeout(()=>{e.send("PING"),l=setTimeout(()=>{e.close()},a)},t)}function d(){clearTimeout(r),c()}function f(){clearTimeout(l),d()}e.addEventListener("open",c),e.addEventListener("message",({data:p})=>{clearTimeout(r),c(),p==="PONG"&&f()}),e.addEventListener("close",()=>{clearTimeout(r),clearTimeout(l)})}var oE=class xp{constructor(t){var a;if((0,ir.default)(this,"id",++xp.connectCount),(0,ir.default)(this,"WebSocketPonyfill",void 0),(0,ir.default)(this,"urlOptions",void 0),(0,ir.default)(this,"keepAliveOpts",void 0),(0,ir.default)(this,"wsObservable",Ik(null)),(0,ir.default)(this,"openPromise",null),this.WebSocketPonyfill=(a=t.WebSocketPonyfill)!==null&&a!==void 0?a:WebSocket,!this.WebSocketPonyfill)throw new Error("No WebSocket implementation found - you probably don't want to use this on the server, but if you do you need to pass a `WebSocket`-ponyfill");this.urlOptions=t.urlOptions,this.keepAliveOpts=t.keepAlive}get ws(){return this.wsObservable.get()}set ws(t){this.wsObservable.next(t)}isOpen(){return!!this.ws&&this.ws.readyState===this.WebSocketPonyfill.OPEN&&!this.openPromise}isClosed(){return!!this.ws&&(this.ws.readyState===this.WebSocketPonyfill.CLOSING||this.ws.readyState===this.WebSocketPonyfill.CLOSED)}async open(){var t=this;if(t.openPromise)return t.openPromise;t.id=++xp.connectCount;const a=aE(t.urlOptions).then(r=>new t.WebSocketPonyfill(r));t.openPromise=a.then(async r=>{t.ws=r,r.addEventListener("message",function({data:l}){l==="PING"&&this.send("PONG")}),t.keepAliveOpts.enabled&&iE(r,t.keepAliveOpts),r.addEventListener("close",()=>{t.ws===r&&(t.ws=null)}),await rE(r),t.urlOptions.connectionParams&&r.send(await nE(t.urlOptions.connectionParams))});try{await t.openPromise}finally{t.openPromise=null}}async close(){var t=this;try{await t.openPromise}finally{var a;(a=t.ws)===null||a===void 0||a.close()}}};(0,ir.default)(oE,"connectCount",0);mt(Sr(),1);mt(Ks(),1);var Eh=mt(Sr(),1),nv=mt(Ks(),1),Gu=class{constructor(e){(0,Eh.default)(this,"links",void 0),(0,Eh.default)(this,"runtime",void 0),(0,Eh.default)(this,"requestId",void 0),this.requestId=0,this.runtime={},this.links=e.links.map(t=>t(this.runtime))}$request(e){var t;return zk({links:this.links,op:(0,nv.default)((0,nv.default)({},e),{},{context:(t=e.context)!==null&&t!==void 0?t:{},id:++this.requestId})}).pipe(Uk())}async requestAsPromise(e){var t=this;try{const a=t.$request(e);return(await xk(a)).result.data}catch(a){throw Ri.from(a)}}query(e,t,a){return this.requestAsPromise({type:"query",path:e,input:t,context:a?.context,signal:a?.signal})}mutation(e,t,a){return this.requestAsPromise({type:"mutation",path:e,input:t,context:a?.context,signal:a?.signal})}subscription(e,t,a){return this.$request({type:"subscription",path:e,input:t,context:a.context,signal:a.signal}).subscribe({next(l){switch(l.result.type){case"state":{var c;(c=a.onConnectionStateChange)===null||c===void 0||c.call(a,l.result);break}case"started":{var d;(d=a.onStarted)===null||d===void 0||d.call(a,{context:l.context});break}case"stopped":{var f;(f=a.onStopped)===null||f===void 0||f.call(a);break}case"data":case void 0:{var p;(p=a.onData)===null||p===void 0||p.call(a,l.result.data);break}}},error(l){var c;(c=a.onError)===null||c===void 0||c.call(a,l)},complete(){var l;(l=a.onComplete)===null||l===void 0||l.call(a)}})}};const Bw=Symbol.for("trpc_untypedClient"),lE={query:"query",mutate:"mutation",subscribe:"subscription"},cE=e=>lE[e];function Hw(e){const t=$u(({path:a,args:r})=>{const l=[...a],c=cE(l.pop()),d=l.join(".");return e[c](d,...r)});return lm(a=>a===Bw?e:t[a])}function uE(e){const t=new Gu(e);return Hw(t)}function um(e){return e[Bw]}mt(Ks(),1);mt(Ks(),1);var dE=da({"../../node_modules/.pnpm/@oxc-project+runtime@0.72.2/node_modules/@oxc-project/runtime/src/helpers/asyncIterator.js"(e,t){function a(l){var c,d,f,p=2;for(typeof Symbol<"u"&&(d=Symbol.asyncIterator,f=Symbol.iterator);p--;){if(d&&(c=l[d])!=null)return c.call(l);if(f&&(c=l[f])!=null)return new r(c.call(l));d="@@asyncIterator",f="@@iterator"}throw new TypeError("Object is not async iterable")}function r(l){function c(d){if(Object(d)!==d)return Promise.reject(new TypeError(d+" is not an object."));var f=d.done;return Promise.resolve(d.value).then(function(p){return{value:p,done:f}})}return r=function(f){this.s=f,this.n=f.next},r.prototype={s:null,n:null,next:function(){return c(this.n.apply(this.s,arguments))},return:function(f){var p=this.s.return;return p===void 0?Promise.resolve({value:f,done:!0}):c(p.apply(this.s,arguments))},throw:function(f){var p=this.s.return;return p===void 0?Promise.reject(f):c(p.apply(this.s,arguments))}},new r(l)}t.exports=a,t.exports.__esModule=!0,t.exports.default=t.exports}});mt(dE(),1);mt(Ks(),1);var fE=da({"../../node_modules/.pnpm/@oxc-project+runtime@0.72.2/node_modules/@oxc-project/runtime/src/helpers/usingCtx.js"(e,t){function a(){var r=typeof SuppressedError=="function"?SuppressedError:function(f,p){var m=Error();return m.name="SuppressedError",m.error=f,m.suppressed=p,m},l={},c=[];function d(f,p){if(p!=null){if(Object(p)!==p)throw new TypeError("using declarations can only be used with objects, functions, null, or undefined.");if(f)var m=p[Symbol.asyncDispose||Symbol.for("Symbol.asyncDispose")];if(m===void 0&&(m=p[Symbol.dispose||Symbol.for("Symbol.dispose")],f))var y=m;if(typeof m!="function")throw new TypeError("Object is not disposable.");y&&(m=function(){try{y.call(p)}catch(v){return Promise.reject(v)}}),c.push({v:p,d:m,a:f})}else f&&c.push({d:p,a:f});return p}return{e:l,u:d.bind(null,!1),a:d.bind(null,!0),d:function(){var p,m=this.e,y=0;function x(){for(;p=c.pop();)try{if(!p.a&&y===1)return y=0,c.push(p),Promise.resolve().then(x);if(p.d){var b=p.d.call(p.v);if(p.a)return y|=2,Promise.resolve(b).then(x,v)}else y|=1}catch(N){return v(N)}if(y===1)return m!==l?Promise.reject(m):Promise.resolve();if(m!==l)throw m}function v(b){return m=m!==l?new r(b,m):b,x()}return x()}}}t.exports=a,t.exports.__esModule=!0,t.exports.default=t.exports}}),$w=da({"../../node_modules/.pnpm/@oxc-project+runtime@0.72.2/node_modules/@oxc-project/runtime/src/helpers/OverloadYield.js"(e,t){function a(r,l){this.v=r,this.k=l}t.exports=a,t.exports.__esModule=!0,t.exports.default=t.exports}}),hE=da({"../../node_modules/.pnpm/@oxc-project+runtime@0.72.2/node_modules/@oxc-project/runtime/src/helpers/awaitAsyncGenerator.js"(e,t){var a=$w();function r(l){return new a(l,0)}t.exports=r,t.exports.__esModule=!0,t.exports.default=t.exports}}),pE=da({"../../node_modules/.pnpm/@oxc-project+runtime@0.72.2/node_modules/@oxc-project/runtime/src/helpers/wrapAsyncGenerator.js"(e,t){var a=$w();function r(c){return function(){return new l(c.apply(this,arguments))}}function l(c){var d,f;function p(y,x){try{var v=c[y](x),b=v.value,N=b instanceof a;Promise.resolve(N?b.v:b).then(function(w){if(N){var _=y==="return"?"return":"next";if(!b.k||w.done)return p(_,w);w=c[_](w).value}m(v.done?"return":"normal",w)},function(w){p("throw",w)})}catch(w){m("throw",w)}}function m(y,x){switch(y){case"return":d.resolve({value:x,done:!0});break;case"throw":d.reject(x);break;default:d.resolve({value:x,done:!1})}(d=d.next)?p(d.key,d.arg):f=null}this._invoke=function(y,x){return new Promise(function(v,b){var N={key:y,arg:x,resolve:v,reject:b,next:null};f?f=f.next=N:(d=f=N,p(y,x))})},typeof c.return!="function"&&(this.return=void 0)}l.prototype[typeof Symbol=="function"&&Symbol.asyncIterator||"@@asyncIterator"]=function(){return this},l.prototype.next=function(c){return this._invoke("next",c)},l.prototype.throw=function(c){return this._invoke("throw",c)},l.prototype.return=function(c){return this._invoke("return",c)},t.exports=r,t.exports.__esModule=!0,t.exports.default=t.exports}});mt(fE(),1);mt(hE(),1);mt(pE(),1);mt(Ks(),1);function mE(e){return $u(({path:t,args:a})=>{var r;const l=[...t],c=l.pop();if(c==="useMutation")return e[c](l,...a);if(c==="_def")return{path:l};const[d,...f]=a,p=(r=f[0])!==null&&r!==void 0?r:{};return e[c](l,d,p)})}var Ah;const gE=["client","ssrContext","ssrState","abortOnUnmount"],xE=(Ah=j.createContext)===null||Ah===void 0?void 0:Ah.call(qu,null),yE=e=>{switch(e){case"queryOptions":case"fetch":case"ensureData":case"prefetch":case"getData":case"setData":case"setQueriesData":return"query";case"infiniteQueryOptions":case"fetchInfinite":case"prefetchInfinite":case"getInfiniteData":case"setInfiniteData":return"infinite";case"setMutationDefaults":case"getMutationDefaults":case"isMutating":case"cancel":case"invalidate":case"refetch":case"reset":return"any"}};function vE(e){return $u(t=>{const a=[...t.path],r=a.pop(),l=[...t.args],c=l.shift(),d=yE(r),f=ia(a,c,d);return{infiniteQueryOptions:()=>e.infiniteQueryOptions(a,f,l[0]),queryOptions:()=>e.queryOptions(a,f,...l),fetch:()=>e.fetchQuery(f,...l),fetchInfinite:()=>e.fetchInfiniteQuery(f,l[0]),prefetch:()=>e.prefetchQuery(f,...l),prefetchInfinite:()=>e.prefetchInfiniteQuery(f,l[0]),ensureData:()=>e.ensureQueryData(f,...l),invalidate:()=>e.invalidateQueries(f,...l),reset:()=>e.resetQueries(f,...l),refetch:()=>e.refetchQueries(f,...l),cancel:()=>e.cancelQuery(f,...l),setData:()=>{e.setQueryData(f,l[0],l[1])},setQueriesData:()=>e.setQueriesData(f,l[0],l[1],l[2]),setInfiniteData:()=>{e.setInfiniteQueryData(f,l[0],l[1])},getData:()=>e.getQueryData(f),getInfiniteData:()=>e.getInfiniteQueryData(f),setMutationDefaults:()=>e.setMutationDefaults(gu(a),c),getMutationDefaults:()=>e.getMutationDefaults(gu(a)),isMutating:()=>e.isMutating({mutationKey:gu(a)})}[r]()})}function bE(e){const t=Hw(e.client),a=vE(e);return lm(r=>{const l=r;return l==="client"?t:gE.includes(l)?e[l]:a[r]})}var wE=jr(jl(),1);function rv(e){const t=e instanceof Gu?e:um(e);return $u(a=>{const r=a.path,l=r.join("."),[c,d]=a.args;return(0,wE.default)({queryKey:ia(r,c,"query"),queryFn:()=>t.query(l,c,d?.trpc)},d)})}var Ch=jr(jl(),1);function Xt(e,t,a){var r;const l=e[0];let c=(r=e[1])===null||r===void 0?void 0:r.input;if(a){var d;c=(0,Ch.default)((0,Ch.default)((0,Ch.default)({},(d=c)!==null&&d!==void 0?d:{}),a.pageParam?{cursor:a.pageParam}:{}),{},{direction:a.direction})}return[l.join("."),c,t?.trpc]}var jE=On({"../../node_modules/.pnpm/@oxc-project+runtime@0.72.2/node_modules/@oxc-project/runtime/src/helpers/asyncIterator.js"(e,t){function a(l){var c,d,f,p=2;for(typeof Symbol<"u"&&(d=Symbol.asyncIterator,f=Symbol.iterator);p--;){if(d&&(c=l[d])!=null)return c.call(l);if(f&&(c=l[f])!=null)return new r(c.call(l));d="@@asyncIterator",f="@@iterator"}throw new TypeError("Object is not async iterable")}function r(l){function c(d){if(Object(d)!==d)return Promise.reject(new TypeError(d+" is not an object."));var f=d.done;return Promise.resolve(d.value).then(function(p){return{value:p,done:f}})}return r=function(f){this.s=f,this.n=f.next},r.prototype={s:null,n:null,next:function(){return c(this.n.apply(this.s,arguments))},return:function(f){var p=this.s.return;return p===void 0?Promise.resolve({value:f,done:!0}):c(p.apply(this.s,arguments))},throw:function(f){var p=this.s.return;return p===void 0?Promise.reject(f):c(p.apply(this.s,arguments))}},new r(l)}t.exports=a,t.exports.__esModule=!0,t.exports.default=t.exports}}),SE=jr(jE(),1);function yp(e){return{path:e.path.join(".")}}function Go(e){const t=yp(e);return j.useMemo(()=>t,[t])}async function Fw(e,t,a){const l=t.getQueryCache().build(t,{queryKey:a});l.setState({data:[],status:"success"});const c=[];var d=!1,f=!1,p;try{for(var m=(0,SE.default)(e),y;d=!(y=await m.next()).done;d=!1){const x=y.value;c.push(x),l.setState({data:[...c]})}}catch(x){f=!0,p=x}finally{try{d&&m.return!=null&&await m.return()}finally{if(f)throw p}}return c}var qe=jr(jl(),1);function _E(e){const{client:t,queryClient:a}=e,r=t instanceof Gu?t:um(t);return{infiniteQueryOptions:(l,c,d)=>{var f,p;const m=((f=c[1])===null||f===void 0?void 0:f.input)===ws,y=async x=>{var v;const b=(0,qe.default)((0,qe.default)({},d),{},{trpc:(0,qe.default)((0,qe.default)({},d?.trpc),!(d==null||(v=d.trpc)===null||v===void 0)&&v.abortOnUnmount?{signal:x.signal}:{signal:null})});return await r.query(...Xt(c,b,{direction:x.direction,pageParam:x.pageParam}))};return Object.assign((0,qe.default)((0,qe.default)({},d),{},{initialData:d?.initialData,queryKey:c,queryFn:m?ws:y,initialPageParam:(p=d?.initialCursor)!==null&&p!==void 0?p:null}),{trpc:yp({path:l})})},queryOptions:(l,c,d)=>{var f;const p=((f=c[1])===null||f===void 0?void 0:f.input)===ws,m=async y=>{var x;const v=(0,qe.default)((0,qe.default)({},d),{},{trpc:(0,qe.default)((0,qe.default)({},d?.trpc),!(d==null||(x=d.trpc)===null||x===void 0)&&x.abortOnUnmount?{signal:y.signal}:{signal:null})}),b=await r.query(...Xt(c,v));return Nw(b)?Fw(b,a,c):b};return Object.assign((0,qe.default)((0,qe.default)({},d),{},{initialData:d?.initialData,queryKey:c,queryFn:p?ws:m}),{trpc:yp({path:l})})},fetchQuery:(l,c)=>a.fetchQuery((0,qe.default)((0,qe.default)({},c),{},{queryKey:l,queryFn:()=>r.query(...Xt(l,c))})),fetchInfiniteQuery:(l,c)=>{var d;return a.fetchInfiniteQuery((0,qe.default)((0,qe.default)({},c),{},{queryKey:l,queryFn:({pageParam:f,direction:p})=>r.query(...Xt(l,c,{pageParam:f,direction:p})),initialPageParam:(d=c?.initialCursor)!==null&&d!==void 0?d:null}))},prefetchQuery:(l,c)=>a.prefetchQuery((0,qe.default)((0,qe.default)({},c),{},{queryKey:l,queryFn:()=>r.query(...Xt(l,c))})),prefetchInfiniteQuery:(l,c)=>{var d;return a.prefetchInfiniteQuery((0,qe.default)((0,qe.default)({},c),{},{queryKey:l,queryFn:({pageParam:f,direction:p})=>r.query(...Xt(l,c,{pageParam:f,direction:p})),initialPageParam:(d=c?.initialCursor)!==null&&d!==void 0?d:null}))},ensureQueryData:(l,c)=>a.ensureQueryData((0,qe.default)((0,qe.default)({},c),{},{queryKey:l,queryFn:()=>r.query(...Xt(l,c))})),invalidateQueries:(l,c,d)=>a.invalidateQueries((0,qe.default)((0,qe.default)({},c),{},{queryKey:l}),d),resetQueries:(l,c,d)=>a.resetQueries((0,qe.default)((0,qe.default)({},c),{},{queryKey:l}),d),refetchQueries:(l,c,d)=>a.refetchQueries((0,qe.default)((0,qe.default)({},c),{},{queryKey:l}),d),cancelQuery:(l,c)=>a.cancelQueries({queryKey:l},c),setQueryData:(l,c,d)=>a.setQueryData(l,c,d),setQueriesData:(l,c,d,f)=>a.setQueriesData((0,qe.default)((0,qe.default)({},c),{},{queryKey:l}),d,f),getQueryData:l=>a.getQueryData(l),setInfiniteQueryData:(l,c,d)=>a.setQueryData(l,c,d),getInfiniteQueryData:l=>a.getQueryData(l),setMutationDefaults:(l,c)=>{const d=l[0],f=p=>r.mutation(...Xt([d,{input:p}],e));return a.setMutationDefaults(l,typeof c=="function"?c({canonicalMutationFn:f}):c)},getMutationDefaults:l=>a.getMutationDefaults(l),isMutating:l=>a.isMutating((0,qe.default)((0,qe.default)({},l),{},{exact:!0}))}}var fe=jr(jl());const iv=(e,t)=>new Proxy(e,{get(r,l){return t(l),r[l]}});function NE(e){var t,a;const r=(t=void 0)!==null&&t!==void 0?t:M=>M.originalFn(),l=(a=void 0)!==null&&a!==void 0?a:xE,c=uE,d=M=>{var P;const{abortOnUnmount:O=!1,queryClient:C,ssrContext:z}=M,[G,X]=j.useState((P=M.ssrState)!==null&&P!==void 0?P:!1),B=M.client instanceof Gu?M.client:um(M.client),se=j.useMemo(()=>_E({client:B,queryClient:C}),[B,C]),R=j.useMemo(()=>(0,fe.default)({abortOnUnmount:O,queryClient:C,client:B,ssrContext:z??null,ssrState:G},se),[O,B,se,C,z,G]);return j.useEffect(()=>{X(ee=>ee?"mounted":!1)},[]),i.jsx(l.Provider,{value:R,children:M.children})};function f(){const M=j.useContext(l);if(!M)throw new Error("Unable to find tRPC Context. Did you forget to wrap your App inside `withTRPC` HoC?");return M}function p(M,P){var O;const{queryClient:C,ssrState:z}=f();return z&&z!=="mounted"&&((O=C.getQueryCache().find({queryKey:M}))===null||O===void 0?void 0:O.state.status)==="error"?(0,fe.default)({retryOnMount:!1},P):P}function m(M,P,O){var C,z,G,X,B;const se=f(),{abortOnUnmount:R,client:ee,ssrState:D,queryClient:Y,prefetchQuery:H}=se,de=ia(M,P,"query"),he=Y.getQueryDefaults(de),L=P===ws;typeof window>"u"&&D==="prepass"&&(O==null||(C=O.trpc)===null||C===void 0?void 0:C.ssr)!==!1&&((z=O?.enabled)!==null&&z!==void 0?z:he?.enabled)!==!1&&!L&&!Y.getQueryCache().find({queryKey:de})&&H(de,O);const Z=p(de,(0,fe.default)((0,fe.default)({},he),O)),K=(G=(X=O==null||(B=O.trpc)===null||B===void 0?void 0:B.abortOnUnmount)!==null&&X!==void 0?X:void 0)!==null&&G!==void 0?G:R,F=JN((0,fe.default)((0,fe.default)({},Z),{},{queryKey:de,queryFn:L?P:async ie=>{const ce=(0,fe.default)((0,fe.default)({},Z),{},{trpc:(0,fe.default)((0,fe.default)({},Z?.trpc),K?{signal:ie.signal}:{signal:null})}),ue=await ee.query(...Xt(de,ce));return Nw(ue)?Fw(ue,Y,de):ue}}),Y);return F.trpc=Go({path:M}),F}function y(M,P,O){var C,z,G;const X=f(),B=ia(M,P,"query"),se=P===ws,R=(C=(z=O==null||(G=O.trpc)===null||G===void 0?void 0:G.abortOnUnmount)!==null&&z!==void 0?z:void 0)!==null&&C!==void 0?C:X.abortOnUnmount;sk((0,fe.default)((0,fe.default)({},O),{},{queryKey:B,queryFn:se?P:ee=>{const D={trpc:(0,fe.default)((0,fe.default)({},O?.trpc),R?{signal:ee.signal}:{})};return X.client.query(...Xt(B,D))}}))}function x(M,P,O){var C,z,G;const X=f(),B=ia(M,P,"query"),se=(C=(z=O==null||(G=O.trpc)===null||G===void 0?void 0:G.abortOnUnmount)!==null&&z!==void 0?z:void 0)!==null&&C!==void 0?C:X.abortOnUnmount,R=ZN((0,fe.default)((0,fe.default)({},O),{},{queryKey:B,queryFn:ee=>{const D=(0,fe.default)((0,fe.default)({},O),{},{trpc:(0,fe.default)((0,fe.default)({},O?.trpc),se?{signal:ee.signal}:{signal:null})});return X.client.query(...Xt(B,D))}}),X.queryClient);return R.trpc=Go({path:M}),[R.data,R]}function v(M,P){const{client:O,queryClient:C}=f(),z=gu(M),G=C.defaultMutationOptions(C.getMutationDefaults(z)),X=nk((0,fe.default)((0,fe.default)({},P),{},{mutationKey:z,mutationFn:B=>O.mutation(...Xt([M,{input:B}],P)),onSuccess(...B){var se,R;return r({originalFn:()=>{var D,Y,H;return(D=P==null||(Y=P.onSuccess)===null||Y===void 0?void 0:Y.call(P,...B))!==null&&D!==void 0?D:G==null||(H=G.onSuccess)===null||H===void 0?void 0:H.call(G,...B)},queryClient:C,meta:(se=(R=P?.meta)!==null&&R!==void 0?R:G?.meta)!==null&&se!==void 0?se:{}})}}),C);return X.trpc=Go({path:M}),X}const b={data:void 0,error:null,status:"idle"},N={data:void 0,error:null,status:"connecting"};/* istanbul ignore next -- @preserve */function w(M,P,O){var C;const z=(C=O?.enabled)!==null&&C!==void 0?C:P!==ws,G=Sn(ia(M,P,"any")),{client:X}=f(),B=j.useRef(O);j.useEffect(()=>{B.current=O});const[se]=j.useState(new Set([])),R=j.useCallback(L=>{se.add(L)},[se]),ee=j.useRef(null),D=j.useCallback(L=>{const Z=H.current,K=H.current=L(Z);let F=!1;for(const ie of se)if(Z[ie]!==K[ie]){F=!0;break}F&&he(iv(K,R))},[R,se]),Y=j.useCallback(()=>{var L;if((L=ee.current)===null||L===void 0||L.unsubscribe(),!z){D(()=>(0,fe.default)((0,fe.default)({},b),{},{reset:Y}));return}D(()=>(0,fe.default)((0,fe.default)({},N),{},{reset:Y}));const Z=X.subscription(M.join("."),P??void 0,{onStarted:()=>{var K,F;(K=(F=B.current).onStarted)===null||K===void 0||K.call(F),D(ie=>(0,fe.default)((0,fe.default)({},ie),{},{status:"pending",error:null}))},onData:K=>{var F,ie;(F=(ie=B.current).onData)===null||F===void 0||F.call(ie,K),D(ce=>(0,fe.default)((0,fe.default)({},ce),{},{status:"pending",data:K,error:null}))},onError:K=>{var F,ie;(F=(ie=B.current).onError)===null||F===void 0||F.call(ie,K),D(ce=>(0,fe.default)((0,fe.default)({},ce),{},{status:"error",error:K}))},onConnectionStateChange:K=>{D(F=>{switch(K.state){case"idle":return(0,fe.default)((0,fe.default)({},F),{},{status:K.state,error:null,data:void 0});case"connecting":return(0,fe.default)((0,fe.default)({},F),{},{error:K.error,status:K.state});case"pending":return F}})},onComplete:()=>{var K,F;(K=(F=B.current).onComplete)===null||K===void 0||K.call(F),D(ie=>(0,fe.default)((0,fe.default)({},ie),{},{status:"idle",error:null,data:void 0}))}});ee.current=Z},[X,G,z,D]);j.useEffect(()=>(Y(),()=>{var L;(L=ee.current)===null||L===void 0||L.unsubscribe()}),[Y]);const H=j.useRef(z?(0,fe.default)((0,fe.default)({},N),{},{reset:Y}):(0,fe.default)((0,fe.default)({},b),{},{reset:Y})),[de,he]=j.useState(iv(H.current,R));return de}function _(M,P,O){var C,z,G,X,B;const{client:se,ssrState:R,prefetchInfiniteQuery:ee,queryClient:D,abortOnUnmount:Y}=f(),H=ia(M,P,"infinite"),de=D.getQueryDefaults(H),he=P===ws;typeof window>"u"&&R==="prepass"&&(O==null||(C=O.trpc)===null||C===void 0?void 0:C.ssr)!==!1&&((z=O?.enabled)!==null&&z!==void 0?z:de?.enabled)!==!1&&!he&&!D.getQueryCache().find({queryKey:H})&&ee(H,(0,fe.default)((0,fe.default)({},de),O));const L=p(H,(0,fe.default)((0,fe.default)({},de),O)),Z=(G=O==null||(X=O.trpc)===null||X===void 0?void 0:X.abortOnUnmount)!==null&&G!==void 0?G:Y,K=rk((0,fe.default)((0,fe.default)({},L),{},{initialPageParam:(B=O.initialCursor)!==null&&B!==void 0?B:null,persister:O.persister,queryKey:H,queryFn:he?P:F=>{var ie;const ce=(0,fe.default)((0,fe.default)({},L),{},{trpc:(0,fe.default)((0,fe.default)({},L?.trpc),Z?{signal:F.signal}:{signal:null})});return se.query(...Xt(H,ce,{pageParam:(ie=F.pageParam)!==null&&ie!==void 0?ie:O.initialCursor,direction:F.direction}))}}),D);return K.trpc=Go({path:M}),K}function E(M,P,O){var C,z,G;const X=f(),B=ia(M,P,"infinite"),se=X.queryClient.getQueryDefaults(B),R=P===ws,ee=p(B,(0,fe.default)((0,fe.default)({},se),O)),D=(C=O==null||(z=O.trpc)===null||z===void 0?void 0:z.abortOnUnmount)!==null&&C!==void 0?C:X.abortOnUnmount;ak((0,fe.default)((0,fe.default)({},O),{},{initialPageParam:(G=O.initialCursor)!==null&&G!==void 0?G:null,queryKey:B,queryFn:R?P:Y=>{var H;const de=(0,fe.default)((0,fe.default)({},ee),{},{trpc:(0,fe.default)((0,fe.default)({},ee?.trpc),D?{signal:Y.signal}:{})});return X.client.query(...Xt(B,de,{pageParam:(H=Y.pageParam)!==null&&H!==void 0?H:O.initialCursor,direction:Y.direction}))}}))}function T(M,P,O){var C,z,G;const X=f(),B=ia(M,P,"infinite"),se=X.queryClient.getQueryDefaults(B),R=p(B,(0,fe.default)((0,fe.default)({},se),O)),ee=(C=O==null||(z=O.trpc)===null||z===void 0?void 0:z.abortOnUnmount)!==null&&C!==void 0?C:X.abortOnUnmount,D=ek((0,fe.default)((0,fe.default)({},O),{},{initialPageParam:(G=O.initialCursor)!==null&&G!==void 0?G:null,queryKey:B,queryFn:Y=>{var H;const de=(0,fe.default)((0,fe.default)({},R),{},{trpc:(0,fe.default)((0,fe.default)({},R?.trpc),ee?{signal:Y.signal}:{})});return X.client.query(...Xt(B,de,{pageParam:(H=Y.pageParam)!==null&&H!==void 0?H:O.initialCursor,direction:Y.direction}))}}),X.queryClient);return D.trpc=Go({path:M}),[D.data,D]}return{Provider:d,createClient:c,useContext:f,useUtils:f,useQuery:m,usePrefetchQuery:y,useSuspenseQuery:x,useQueries:(M,P)=>{const{ssrState:O,queryClient:C,prefetchQuery:z,client:G}=f(),X=rv(G),B=M(X);if(typeof window>"u"&&O==="prepass")for(const R of B){var se;const ee=R;((se=ee.trpc)===null||se===void 0?void 0:se.ssr)!==!1&&!C.getQueryCache().find({queryKey:ee.queryKey})&&z(ee.queryKey,ee)}return _w({queries:B.map(R=>(0,fe.default)((0,fe.default)({},R),{},{queryKey:R.queryKey})),combine:P?.combine},C)},useSuspenseQueries:M=>{const{queryClient:P,client:O}=f(),C=rv(O),z=M(C),G=tk({queries:z.map(X=>(0,fe.default)((0,fe.default)({},X),{},{queryFn:X.queryFn,queryKey:X.queryKey}))},P);return[G.map(X=>X.data),G]},useMutation:v,useSubscription:w,useInfiniteQuery:_,usePrefetchInfiniteQuery:E,useSuspenseInfiniteQuery:T}}function kE(e){const t=mE(e);return lm(a=>a==="useContext"||a==="useUtils"?()=>{const r=e.useUtils();return j.useMemo(()=>bE(r),[r])}:e.hasOwnProperty(a)?e[a]:t[a])}function EE(e){const t=NE();return kE(t)}const Ut=EE(),AE="Please login (10001)";var Th={exports:{}},Vo={},Oh={exports:{}},Dh={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ov;function CE(){return ov||(ov=1,(function(e){function t(D,Y){var H=D.length;D.push(Y);e:for(;0<H;){var de=H-1>>>1,he=D[de];if(0<l(he,Y))D[de]=Y,D[H]=he,H=de;else break e}}function a(D){return D.length===0?null:D[0]}function r(D){if(D.length===0)return null;var Y=D[0],H=D.pop();if(H!==Y){D[0]=H;e:for(var de=0,he=D.length,L=he>>>1;de<L;){var Z=2*(de+1)-1,K=D[Z],F=Z+1,ie=D[F];if(0>l(K,H))F<he&&0>l(ie,K)?(D[de]=ie,D[F]=H,de=F):(D[de]=K,D[Z]=H,de=Z);else if(F<he&&0>l(ie,H))D[de]=ie,D[F]=H,de=F;else break e}}return Y}function l(D,Y){var H=D.sortIndex-Y.sortIndex;return H!==0?H:D.id-Y.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;e.unstable_now=function(){return c.now()}}else{var d=Date,f=d.now();e.unstable_now=function(){return d.now()-f}}var p=[],m=[],y=1,x=null,v=3,b=!1,N=!1,w=!1,_=!1,E=typeof setTimeout=="function"?setTimeout:null,T=typeof clearTimeout=="function"?clearTimeout:null,A=typeof setImmediate<"u"?setImmediate:null;function I(D){for(var Y=a(m);Y!==null;){if(Y.callback===null)r(m);else if(Y.startTime<=D)r(m),Y.sortIndex=Y.expirationTime,t(p,Y);else break;Y=a(m)}}function M(D){if(w=!1,I(D),!N)if(a(p)!==null)N=!0,P||(P=!0,B());else{var Y=a(m);Y!==null&&ee(M,Y.startTime-D)}}var P=!1,O=-1,C=5,z=-1;function G(){return _?!0:!(e.unstable_now()-z<C)}function X(){if(_=!1,P){var D=e.unstable_now();z=D;var Y=!0;try{e:{N=!1,w&&(w=!1,T(O),O=-1),b=!0;var H=v;try{t:{for(I(D),x=a(p);x!==null&&!(x.expirationTime>D&&G());){var de=x.callback;if(typeof de=="function"){x.callback=null,v=x.priorityLevel;var he=de(x.expirationTime<=D);if(D=e.unstable_now(),typeof he=="function"){x.callback=he,I(D),Y=!0;break t}x===a(p)&&r(p),I(D)}else r(p);x=a(p)}if(x!==null)Y=!0;else{var L=a(m);L!==null&&ee(M,L.startTime-D),Y=!1}}break e}finally{x=null,v=H,b=!1}Y=void 0}}finally{Y?B():P=!1}}}var B;if(typeof A=="function")B=function(){A(X)};else if(typeof MessageChannel<"u"){var se=new MessageChannel,R=se.port2;se.port1.onmessage=X,B=function(){R.postMessage(null)}}else B=function(){E(X,0)};function ee(D,Y){O=E(function(){D(e.unstable_now())},Y)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(D){D.callback=null},e.unstable_forceFrameRate=function(D){0>D||125<D?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<D?Math.floor(1e3/D):5},e.unstable_getCurrentPriorityLevel=function(){return v},e.unstable_next=function(D){switch(v){case 1:case 2:case 3:var Y=3;break;default:Y=v}var H=v;v=Y;try{return D()}finally{v=H}},e.unstable_requestPaint=function(){_=!0},e.unstable_runWithPriority=function(D,Y){switch(D){case 1:case 2:case 3:case 4:case 5:break;default:D=3}var H=v;v=D;try{return Y()}finally{v=H}},e.unstable_scheduleCallback=function(D,Y,H){var de=e.unstable_now();switch(typeof H=="object"&&H!==null?(H=H.delay,H=typeof H=="number"&&0<H?de+H:de):H=de,D){case 1:var he=-1;break;case 2:he=250;break;case 5:he=1073741823;break;case 4:he=1e4;break;default:he=5e3}return he=H+he,D={id:y++,callback:Y,priorityLevel:D,startTime:H,expirationTime:he,sortIndex:-1},H>de?(D.sortIndex=H,t(m,D),a(p)===null&&D===a(m)&&(w?(T(O),O=-1):w=!0,ee(M,H-de))):(D.sortIndex=he,t(p,D),N||b||(N=!0,P||(P=!0,B()))),D},e.unstable_shouldYield=G,e.unstable_wrapCallback=function(D){var Y=v;return function(){var H=v;v=Y;try{return D.apply(this,arguments)}finally{v=H}}}})(Dh)),Dh}var lv;function TE(){return lv||(lv=1,Oh.exports=CE()),Oh.exports}var Rh={exports:{}},qt={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var cv;function OE(){if(cv)return qt;cv=1;var e=zu();function t(p){var m="https://react.dev/errors/"+p;if(1<arguments.length){m+="?args[]="+encodeURIComponent(arguments[1]);for(var y=2;y<arguments.length;y++)m+="&args[]="+encodeURIComponent(arguments[y])}return"Minified React error #"+p+"; visit "+m+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(){}var r={d:{f:a,r:function(){throw Error(t(522))},D:a,C:a,L:a,m:a,X:a,S:a,M:a},p:0,findDOMNode:null},l=Symbol.for("react.portal");function c(p,m,y){var x=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:x==null?null:""+x,children:p,containerInfo:m,implementation:y}}var d=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function f(p,m){if(p==="font")return"";if(typeof m=="string")return m==="use-credentials"?m:""}return qt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,qt.createPortal=function(p,m){var y=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!m||m.nodeType!==1&&m.nodeType!==9&&m.nodeType!==11)throw Error(t(299));return c(p,m,null,y)},qt.flushSync=function(p){var m=d.T,y=r.p;try{if(d.T=null,r.p=2,p)return p()}finally{d.T=m,r.p=y,r.d.f()}},qt.preconnect=function(p,m){typeof p=="string"&&(m?(m=m.crossOrigin,m=typeof m=="string"?m==="use-credentials"?m:"":void 0):m=null,r.d.C(p,m))},qt.prefetchDNS=function(p){typeof p=="string"&&r.d.D(p)},qt.preinit=function(p,m){if(typeof p=="string"&&m&&typeof m.as=="string"){var y=m.as,x=f(y,m.crossOrigin),v=typeof m.integrity=="string"?m.integrity:void 0,b=typeof m.fetchPriority=="string"?m.fetchPriority:void 0;y==="style"?r.d.S(p,typeof m.precedence=="string"?m.precedence:void 0,{crossOrigin:x,integrity:v,fetchPriority:b}):y==="script"&&r.d.X(p,{crossOrigin:x,integrity:v,fetchPriority:b,nonce:typeof m.nonce=="string"?m.nonce:void 0})}},qt.preinitModule=function(p,m){if(typeof p=="string")if(typeof m=="object"&&m!==null){if(m.as==null||m.as==="script"){var y=f(m.as,m.crossOrigin);r.d.M(p,{crossOrigin:y,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0})}}else m==null&&r.d.M(p)},qt.preload=function(p,m){if(typeof p=="string"&&typeof m=="object"&&m!==null&&typeof m.as=="string"){var y=m.as,x=f(y,m.crossOrigin);r.d.L(p,y,{crossOrigin:x,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0,type:typeof m.type=="string"?m.type:void 0,fetchPriority:typeof m.fetchPriority=="string"?m.fetchPriority:void 0,referrerPolicy:typeof m.referrerPolicy=="string"?m.referrerPolicy:void 0,imageSrcSet:typeof m.imageSrcSet=="string"?m.imageSrcSet:void 0,imageSizes:typeof m.imageSizes=="string"?m.imageSizes:void 0,media:typeof m.media=="string"?m.media:void 0})}},qt.preloadModule=function(p,m){if(typeof p=="string")if(m){var y=f(m.as,m.crossOrigin);r.d.m(p,{as:typeof m.as=="string"&&m.as!=="script"?m.as:void 0,crossOrigin:y,integrity:typeof m.integrity=="string"?m.integrity:void 0})}else r.d.m(p)},qt.requestFormReset=function(p){r.d.r(p)},qt.unstable_batchedUpdates=function(p,m){return p(m)},qt.useFormState=function(p,m,y){return d.H.useFormState(p,m,y)},qt.useFormStatus=function(){return d.H.useHostTransitionStatus()},qt.version="19.2.0",qt}var uv;function Gw(){if(uv)return Rh.exports;uv=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),Rh.exports=OE(),Rh.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var dv;function DE(){if(dv)return Vo;dv=1;var e=TE(),t=zu(),a=Gw();function r(s){var n="https://react.dev/errors/"+s;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var o=2;o<arguments.length;o++)n+="&args[]="+encodeURIComponent(arguments[o])}return"Minified React error #"+s+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function c(s){var n=s,o=s;if(s.alternate)for(;n.return;)n=n.return;else{s=n;do n=s,(n.flags&4098)!==0&&(o=n.return),s=n.return;while(s)}return n.tag===3?o:null}function d(s){if(s.tag===13){var n=s.memoizedState;if(n===null&&(s=s.alternate,s!==null&&(n=s.memoizedState)),n!==null)return n.dehydrated}return null}function f(s){if(s.tag===31){var n=s.memoizedState;if(n===null&&(s=s.alternate,s!==null&&(n=s.memoizedState)),n!==null)return n.dehydrated}return null}function p(s){if(c(s)!==s)throw Error(r(188))}function m(s){var n=s.alternate;if(!n){if(n=c(s),n===null)throw Error(r(188));return n!==s?null:s}for(var o=s,u=n;;){var h=o.return;if(h===null)break;var g=h.alternate;if(g===null){if(u=h.return,u!==null){o=u;continue}break}if(h.child===g.child){for(g=h.child;g;){if(g===o)return p(h),s;if(g===u)return p(h),n;g=g.sibling}throw Error(r(188))}if(o.return!==u.return)o=h,u=g;else{for(var S=!1,k=h.child;k;){if(k===o){S=!0,o=h,u=g;break}if(k===u){S=!0,u=h,o=g;break}k=k.sibling}if(!S){for(k=g.child;k;){if(k===o){S=!0,o=g,u=h;break}if(k===u){S=!0,u=g,o=h;break}k=k.sibling}if(!S)throw Error(r(189))}}if(o.alternate!==u)throw Error(r(190))}if(o.tag!==3)throw Error(r(188));return o.stateNode.current===o?s:n}function y(s){var n=s.tag;if(n===5||n===26||n===27||n===6)return s;for(s=s.child;s!==null;){if(n=y(s),n!==null)return n;s=s.sibling}return null}var x=Object.assign,v=Symbol.for("react.element"),b=Symbol.for("react.transitional.element"),N=Symbol.for("react.portal"),w=Symbol.for("react.fragment"),_=Symbol.for("react.strict_mode"),E=Symbol.for("react.profiler"),T=Symbol.for("react.consumer"),A=Symbol.for("react.context"),I=Symbol.for("react.forward_ref"),M=Symbol.for("react.suspense"),P=Symbol.for("react.suspense_list"),O=Symbol.for("react.memo"),C=Symbol.for("react.lazy"),z=Symbol.for("react.activity"),G=Symbol.for("react.memo_cache_sentinel"),X=Symbol.iterator;function B(s){return s===null||typeof s!="object"?null:(s=X&&s[X]||s["@@iterator"],typeof s=="function"?s:null)}var se=Symbol.for("react.client.reference");function R(s){if(s==null)return null;if(typeof s=="function")return s.$$typeof===se?null:s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case w:return"Fragment";case E:return"Profiler";case _:return"StrictMode";case M:return"Suspense";case P:return"SuspenseList";case z:return"Activity"}if(typeof s=="object")switch(s.$$typeof){case N:return"Portal";case A:return s.displayName||"Context";case T:return(s._context.displayName||"Context")+".Consumer";case I:var n=s.render;return s=s.displayName,s||(s=n.displayName||n.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case O:return n=s.displayName||null,n!==null?n:R(s.type)||"Memo";case C:n=s._payload,s=s._init;try{return R(s(n))}catch{}}return null}var ee=Array.isArray,D=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Y=a.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,H={pending:!1,data:null,method:null,action:null},de=[],he=-1;function L(s){return{current:s}}function Z(s){0>he||(s.current=de[he],de[he]=null,he--)}function K(s,n){he++,de[he]=s.current,s.current=n}var F=L(null),ie=L(null),ce=L(null),ue=L(null);function xe(s,n){switch(K(ce,n),K(ie,s),K(F,null),n.nodeType){case 9:case 11:s=(s=n.documentElement)&&(s=s.namespaceURI)?u0(s):0;break;default:if(s=n.tagName,n=n.namespaceURI)n=u0(n),s=d0(n,s);else switch(s){case"svg":s=1;break;case"math":s=2;break;default:s=0}}Z(F),K(F,s)}function Ee(){Z(F),Z(ie),Z(ce)}function dt(s){s.memoizedState!==null&&K(ue,s);var n=F.current,o=d0(n,s.type);n!==o&&(K(ie,s),K(F,o))}function jt(s){ie.current===s&&(Z(F),Z(ie)),ue.current===s&&(Z(ue),qo._currentValue=H)}var Ot,ha;function Is(s){if(Ot===void 0)try{throw Error()}catch(o){var n=o.stack.trim().match(/\n( *(at )?)/);Ot=n&&n[1]||"",ha=-1<o.stack.indexOf(`
    at`)?" (<anonymous>)":-1<o.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ot+s+ha}var Yi=!1;function Er(s,n){if(!s||Yi)return"";Yi=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var u={DetermineComponentFrameRoot:function(){try{if(n){var ne=function(){throw Error()};if(Object.defineProperty(ne.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ne,[])}catch(J){var W=J}Reflect.construct(s,[],ne)}else{try{ne.call()}catch(J){W=J}s.call(ne.prototype)}}else{try{throw Error()}catch(J){W=J}(ne=s())&&typeof ne.catch=="function"&&ne.catch(function(){})}}catch(J){if(J&&W&&typeof J.stack=="string")return[J.stack,W.stack]}return[null,null]}};u.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(u.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(u.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var g=u.DetermineComponentFrameRoot(),S=g[0],k=g[1];if(S&&k){var U=S.split(`
`),Q=k.split(`
`);for(h=u=0;u<U.length&&!U[u].includes("DetermineComponentFrameRoot");)u++;for(;h<Q.length&&!Q[h].includes("DetermineComponentFrameRoot");)h++;if(u===U.length||h===Q.length)for(u=U.length-1,h=Q.length-1;1<=u&&0<=h&&U[u]!==Q[h];)h--;for(;1<=u&&0<=h;u--,h--)if(U[u]!==Q[h]){if(u!==1||h!==1)do if(u--,h--,0>h||U[u]!==Q[h]){var te=`
`+U[u].replace(" at new "," at ");return s.displayName&&te.includes("<anonymous>")&&(te=te.replace("<anonymous>",s.displayName)),te}while(1<=u&&0<=h);break}}}finally{Yi=!1,Error.prepareStackTrace=o}return(o=s?s.displayName||s.name:"")?Is(o):""}function Pn(s,n){switch(s.tag){case 26:case 27:case 5:return Is(s.type);case 16:return Is("Lazy");case 13:return s.child!==n&&n!==null?Is("Suspense Fallback"):Is("Suspense");case 19:return Is("SuspenseList");case 0:case 15:return Er(s.type,!1);case 11:return Er(s.type.render,!1);case 1:return Er(s.type,!0);case 31:return Is("Activity");default:return""}}function Ki(s){try{var n="",o=null;do n+=Pn(s,o),o=s,s=s.return;while(s);return n}catch(u){return`
Error generating stack: `+u.message+`
`+u.stack}}var ds=Object.prototype.hasOwnProperty,Wi=e.unstable_scheduleCallback,Xi=e.unstable_cancelCallback,Vt=e.unstable_shouldYield,Ba=e.unstable_requestPaint,Qt=e.unstable_now,dd=e.unstable_getCurrentPriorityLevel,Mn=e.unstable_ImmediatePriority,Cl=e.unstable_UserBlockingPriority,Ln=e.unstable_NormalPriority,Ji=e.unstable_LowPriority,pa=e.unstable_IdlePriority,Tl=e.log,Ha=e.unstable_setDisableYieldValue,Un=null,Yt=null;function zs(s){if(typeof Tl=="function"&&Ha(s),Yt&&typeof Yt.setStrictMode=="function")try{Yt.setStrictMode(Un,s)}catch{}}var It=Math.clz32?Math.clz32:Js,fd=Math.log,Zi=Math.LN2;function Js(s){return s>>>=0,s===0?32:31-(fd(s)/Zi|0)|0}var Ar=256,Cr=262144,In=4194304;function Zs(s){var n=s&42;if(n!==0)return n;switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return s&261888;case 262144:case 524288:case 1048576:case 2097152:return s&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return s&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return s}}function _e(s,n,o){var u=s.pendingLanes;if(u===0)return 0;var h=0,g=s.suspendedLanes,S=s.pingedLanes;s=s.warmLanes;var k=u&134217727;return k!==0?(u=k&~g,u!==0?h=Zs(u):(S&=k,S!==0?h=Zs(S):o||(o=k&~s,o!==0&&(h=Zs(o))))):(k=u&~g,k!==0?h=Zs(k):S!==0?h=Zs(S):o||(o=u&~s,o!==0&&(h=Zs(o)))),h===0?0:n!==0&&n!==h&&(n&g)===0&&(g=h&-h,o=n&-n,g>=o||g===32&&(o&4194048)!==0)?n:h}function et(s,n){return(s.pendingLanes&~(s.suspendedLanes&~s.pingedLanes)&n)===0}function Et(s,n){switch(s){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function zt(){var s=In;return In<<=1,(In&62914560)===0&&(In=4194304),s}function $a(s){for(var n=[],o=0;31>o;o++)n.push(s);return n}function at(s,n){s.pendingLanes|=n,n!==268435456&&(s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0)}function Jt(s,n,o,u,h,g){var S=s.pendingLanes;s.pendingLanes=o,s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0,s.expiredLanes&=o,s.entangledLanes&=o,s.errorRecoveryDisabledLanes&=o,s.shellSuspendCounter=0;var k=s.entanglements,U=s.expirationTimes,Q=s.hiddenUpdates;for(o=S&~o;0<o;){var te=31-It(o),ne=1<<te;k[te]=0,U[te]=-1;var W=Q[te];if(W!==null)for(Q[te]=null,te=0;te<W.length;te++){var J=W[te];J!==null&&(J.lane&=-536870913)}o&=~ne}u!==0&&zn(s,u,0),g!==0&&h===0&&s.tag!==0&&(s.suspendedLanes|=g&~(S&~n))}function zn(s,n,o){s.pendingLanes|=n,s.suspendedLanes&=~n;var u=31-It(n);s.entangledLanes|=n,s.entanglements[u]=s.entanglements[u]|1073741824|o&261930}function Zt(s,n){var o=s.entangledLanes|=n;for(s=s.entanglements;o;){var u=31-It(o),h=1<<u;h&n|s[u]&n&&(s[u]|=n),o&=~h}}function es(s,n){var o=n&-n;return o=(o&42)!==0?1:Tr(o),(o&(s.suspendedLanes|n))!==0?0:o}function Tr(s){switch(s){case 2:s=1;break;case 8:s=4;break;case 32:s=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:s=128;break;case 268435456:s=134217728;break;default:s=0}return s}function qs(s){return s&=-s,2<s?8<s?(s&134217727)!==0?32:268435456:8:2}function hd(){var s=Y.p;return s!==0?s:(s=window.event,s===void 0?32:P0(s.type))}function Wm(s,n){var o=Y.p;try{return Y.p=s,n()}finally{Y.p=o}}var Fa=Math.random().toString(36).slice(2),Dt="__reactFiber$"+Fa,ts="__reactProps$"+Fa,Or="__reactContainer$"+Fa,pd="__reactEvents$"+Fa,cS="__reactListeners$"+Fa,uS="__reactHandles$"+Fa,Xm="__reactResources$"+Fa,eo="__reactMarker$"+Fa;function md(s){delete s[Dt],delete s[ts],delete s[pd],delete s[cS],delete s[uS]}function Dr(s){var n=s[Dt];if(n)return n;for(var o=s.parentNode;o;){if(n=o[Or]||o[Dt]){if(o=n.alternate,n.child!==null||o!==null&&o.child!==null)for(s=y0(s);s!==null;){if(o=s[Dt])return o;s=y0(s)}return n}s=o,o=s.parentNode}return null}function Rr(s){if(s=s[Dt]||s[Or]){var n=s.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return s}return null}function to(s){var n=s.tag;if(n===5||n===26||n===27||n===6)return s.stateNode;throw Error(r(33))}function Pr(s){var n=s[Xm];return n||(n=s[Xm]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function At(s){s[eo]=!0}var Jm=new Set,Zm={};function qn(s,n){Mr(s,n),Mr(s+"Capture",n)}function Mr(s,n){for(Zm[s]=n,s=0;s<n.length;s++)Jm.add(n[s])}var dS=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),eg={},tg={};function fS(s){return ds.call(tg,s)?!0:ds.call(eg,s)?!1:dS.test(s)?tg[s]=!0:(eg[s]=!0,!1)}function Ol(s,n,o){if(fS(n))if(o===null)s.removeAttribute(n);else{switch(typeof o){case"undefined":case"function":case"symbol":s.removeAttribute(n);return;case"boolean":var u=n.toLowerCase().slice(0,5);if(u!=="data-"&&u!=="aria-"){s.removeAttribute(n);return}}s.setAttribute(n,""+o)}}function Dl(s,n,o){if(o===null)s.removeAttribute(n);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(n);return}s.setAttribute(n,""+o)}}function ma(s,n,o,u){if(u===null)s.removeAttribute(o);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(o);return}s.setAttributeNS(n,o,""+u)}}function Ns(s){switch(typeof s){case"bigint":case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function sg(s){var n=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function hS(s,n,o){var u=Object.getOwnPropertyDescriptor(s.constructor.prototype,n);if(!s.hasOwnProperty(n)&&typeof u<"u"&&typeof u.get=="function"&&typeof u.set=="function"){var h=u.get,g=u.set;return Object.defineProperty(s,n,{configurable:!0,get:function(){return h.call(this)},set:function(S){o=""+S,g.call(this,S)}}),Object.defineProperty(s,n,{enumerable:u.enumerable}),{getValue:function(){return o},setValue:function(S){o=""+S},stopTracking:function(){s._valueTracker=null,delete s[n]}}}}function gd(s){if(!s._valueTracker){var n=sg(s)?"checked":"value";s._valueTracker=hS(s,n,""+s[n])}}function ag(s){if(!s)return!1;var n=s._valueTracker;if(!n)return!0;var o=n.getValue(),u="";return s&&(u=sg(s)?s.checked?"true":"false":s.value),s=u,s!==o?(n.setValue(s),!0):!1}function Rl(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}var pS=/[\n"\\]/g;function ks(s){return s.replace(pS,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function xd(s,n,o,u,h,g,S,k){s.name="",S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"?s.type=S:s.removeAttribute("type"),n!=null?S==="number"?(n===0&&s.value===""||s.value!=n)&&(s.value=""+Ns(n)):s.value!==""+Ns(n)&&(s.value=""+Ns(n)):S!=="submit"&&S!=="reset"||s.removeAttribute("value"),n!=null?yd(s,S,Ns(n)):o!=null?yd(s,S,Ns(o)):u!=null&&s.removeAttribute("value"),h==null&&g!=null&&(s.defaultChecked=!!g),h!=null&&(s.checked=h&&typeof h!="function"&&typeof h!="symbol"),k!=null&&typeof k!="function"&&typeof k!="symbol"&&typeof k!="boolean"?s.name=""+Ns(k):s.removeAttribute("name")}function ng(s,n,o,u,h,g,S,k){if(g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(s.type=g),n!=null||o!=null){if(!(g!=="submit"&&g!=="reset"||n!=null)){gd(s);return}o=o!=null?""+Ns(o):"",n=n!=null?""+Ns(n):o,k||n===s.value||(s.value=n),s.defaultValue=n}u=u??h,u=typeof u!="function"&&typeof u!="symbol"&&!!u,s.checked=k?s.checked:!!u,s.defaultChecked=!!u,S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"&&(s.name=S),gd(s)}function yd(s,n,o){n==="number"&&Rl(s.ownerDocument)===s||s.defaultValue===""+o||(s.defaultValue=""+o)}function Lr(s,n,o,u){if(s=s.options,n){n={};for(var h=0;h<o.length;h++)n["$"+o[h]]=!0;for(o=0;o<s.length;o++)h=n.hasOwnProperty("$"+s[o].value),s[o].selected!==h&&(s[o].selected=h),h&&u&&(s[o].defaultSelected=!0)}else{for(o=""+Ns(o),n=null,h=0;h<s.length;h++){if(s[h].value===o){s[h].selected=!0,u&&(s[h].defaultSelected=!0);return}n!==null||s[h].disabled||(n=s[h])}n!==null&&(n.selected=!0)}}function rg(s,n,o){if(n!=null&&(n=""+Ns(n),n!==s.value&&(s.value=n),o==null)){s.defaultValue!==n&&(s.defaultValue=n);return}s.defaultValue=o!=null?""+Ns(o):""}function ig(s,n,o,u){if(n==null){if(u!=null){if(o!=null)throw Error(r(92));if(ee(u)){if(1<u.length)throw Error(r(93));u=u[0]}o=u}o==null&&(o=""),n=o}o=Ns(n),s.defaultValue=o,u=s.textContent,u===o&&u!==""&&u!==null&&(s.value=u),gd(s)}function Ur(s,n){if(n){var o=s.firstChild;if(o&&o===s.lastChild&&o.nodeType===3){o.nodeValue=n;return}}s.textContent=n}var mS=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function og(s,n,o){var u=n.indexOf("--")===0;o==null||typeof o=="boolean"||o===""?u?s.setProperty(n,""):n==="float"?s.cssFloat="":s[n]="":u?s.setProperty(n,o):typeof o!="number"||o===0||mS.has(n)?n==="float"?s.cssFloat=o:s[n]=(""+o).trim():s[n]=o+"px"}function lg(s,n,o){if(n!=null&&typeof n!="object")throw Error(r(62));if(s=s.style,o!=null){for(var u in o)!o.hasOwnProperty(u)||n!=null&&n.hasOwnProperty(u)||(u.indexOf("--")===0?s.setProperty(u,""):u==="float"?s.cssFloat="":s[u]="");for(var h in n)u=n[h],n.hasOwnProperty(h)&&o[h]!==u&&og(s,h,u)}else for(var g in n)n.hasOwnProperty(g)&&og(s,g,n[g])}function vd(s){if(s.indexOf("-")===-1)return!1;switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var gS=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),xS=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Pl(s){return xS.test(""+s)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":s}function ga(){}var bd=null;function wd(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var Ir=null,zr=null;function cg(s){var n=Rr(s);if(n&&(s=n.stateNode)){var o=s[ts]||null;e:switch(s=n.stateNode,n.type){case"input":if(xd(s,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name),n=o.name,o.type==="radio"&&n!=null){for(o=s;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll('input[name="'+ks(""+n)+'"][type="radio"]'),n=0;n<o.length;n++){var u=o[n];if(u!==s&&u.form===s.form){var h=u[ts]||null;if(!h)throw Error(r(90));xd(u,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(n=0;n<o.length;n++)u=o[n],u.form===s.form&&ag(u)}break e;case"textarea":rg(s,o.value,o.defaultValue);break e;case"select":n=o.value,n!=null&&Lr(s,!!o.multiple,n,!1)}}}var jd=!1;function ug(s,n,o){if(jd)return s(n,o);jd=!0;try{var u=s(n);return u}finally{if(jd=!1,(Ir!==null||zr!==null)&&(wc(),Ir&&(n=Ir,s=zr,zr=Ir=null,cg(n),s)))for(n=0;n<s.length;n++)cg(s[n])}}function so(s,n){var o=s.stateNode;if(o===null)return null;var u=o[ts]||null;if(u===null)return null;o=u[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(s=s.type,u=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!u;break e;default:s=!1}if(s)return null;if(o&&typeof o!="function")throw Error(r(231,n,typeof o));return o}var xa=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Sd=!1;if(xa)try{var ao={};Object.defineProperty(ao,"passive",{get:function(){Sd=!0}}),window.addEventListener("test",ao,ao),window.removeEventListener("test",ao,ao)}catch{Sd=!1}var Ga=null,_d=null,Ml=null;function dg(){if(Ml)return Ml;var s,n=_d,o=n.length,u,h="value"in Ga?Ga.value:Ga.textContent,g=h.length;for(s=0;s<o&&n[s]===h[s];s++);var S=o-s;for(u=1;u<=S&&n[o-u]===h[g-u];u++);return Ml=h.slice(s,1<u?1-u:void 0)}function Ll(s){var n=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&n===13&&(s=13)):s=n,s===10&&(s=13),32<=s||s===13?s:0}function Ul(){return!0}function fg(){return!1}function ss(s){function n(o,u,h,g,S){this._reactName=o,this._targetInst=h,this.type=u,this.nativeEvent=g,this.target=S,this.currentTarget=null;for(var k in s)s.hasOwnProperty(k)&&(o=s[k],this[k]=o?o(g):g[k]);return this.isDefaultPrevented=(g.defaultPrevented!=null?g.defaultPrevented:g.returnValue===!1)?Ul:fg,this.isPropagationStopped=fg,this}return x(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=Ul)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=Ul)},persist:function(){},isPersistent:Ul}),n}var Bn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Il=ss(Bn),no=x({},Bn,{view:0,detail:0}),yS=ss(no),Nd,kd,ro,zl=x({},no,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ad,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==ro&&(ro&&s.type==="mousemove"?(Nd=s.screenX-ro.screenX,kd=s.screenY-ro.screenY):kd=Nd=0,ro=s),Nd)},movementY:function(s){return"movementY"in s?s.movementY:kd}}),hg=ss(zl),vS=x({},zl,{dataTransfer:0}),bS=ss(vS),wS=x({},no,{relatedTarget:0}),Ed=ss(wS),jS=x({},Bn,{animationName:0,elapsedTime:0,pseudoElement:0}),SS=ss(jS),_S=x({},Bn,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),NS=ss(_S),kS=x({},Bn,{data:0}),pg=ss(kS),ES={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},AS={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},CS={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function TS(s){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(s):(s=CS[s])?!!n[s]:!1}function Ad(){return TS}var OS=x({},no,{key:function(s){if(s.key){var n=ES[s.key]||s.key;if(n!=="Unidentified")return n}return s.type==="keypress"?(s=Ll(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?AS[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ad,charCode:function(s){return s.type==="keypress"?Ll(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?Ll(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),DS=ss(OS),RS=x({},zl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),mg=ss(RS),PS=x({},no,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ad}),MS=ss(PS),LS=x({},Bn,{propertyName:0,elapsedTime:0,pseudoElement:0}),US=ss(LS),IS=x({},zl,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),zS=ss(IS),qS=x({},Bn,{newState:0,oldState:0}),BS=ss(qS),HS=[9,13,27,32],Cd=xa&&"CompositionEvent"in window,io=null;xa&&"documentMode"in document&&(io=document.documentMode);var $S=xa&&"TextEvent"in window&&!io,gg=xa&&(!Cd||io&&8<io&&11>=io),xg=" ",yg=!1;function vg(s,n){switch(s){case"keyup":return HS.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function bg(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var qr=!1;function FS(s,n){switch(s){case"compositionend":return bg(n);case"keypress":return n.which!==32?null:(yg=!0,xg);case"textInput":return s=n.data,s===xg&&yg?null:s;default:return null}}function GS(s,n){if(qr)return s==="compositionend"||!Cd&&vg(s,n)?(s=dg(),Ml=_d=Ga=null,qr=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return gg&&n.locale!=="ko"?null:n.data;default:return null}}var VS={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function wg(s){var n=s&&s.nodeName&&s.nodeName.toLowerCase();return n==="input"?!!VS[s.type]:n==="textarea"}function jg(s,n,o,u){Ir?zr?zr.push(u):zr=[u]:Ir=u,n=Ac(n,"onChange"),0<n.length&&(o=new Il("onChange","change",null,o,u),s.push({event:o,listeners:n}))}var oo=null,lo=null;function QS(s){n0(s,0)}function ql(s){var n=to(s);if(ag(n))return s}function Sg(s,n){if(s==="change")return n}var _g=!1;if(xa){var Td;if(xa){var Od="oninput"in document;if(!Od){var Ng=document.createElement("div");Ng.setAttribute("oninput","return;"),Od=typeof Ng.oninput=="function"}Td=Od}else Td=!1;_g=Td&&(!document.documentMode||9<document.documentMode)}function kg(){oo&&(oo.detachEvent("onpropertychange",Eg),lo=oo=null)}function Eg(s){if(s.propertyName==="value"&&ql(lo)){var n=[];jg(n,lo,s,wd(s)),ug(QS,n)}}function YS(s,n,o){s==="focusin"?(kg(),oo=n,lo=o,oo.attachEvent("onpropertychange",Eg)):s==="focusout"&&kg()}function KS(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return ql(lo)}function WS(s,n){if(s==="click")return ql(n)}function XS(s,n){if(s==="input"||s==="change")return ql(n)}function JS(s,n){return s===n&&(s!==0||1/s===1/n)||s!==s&&n!==n}var fs=typeof Object.is=="function"?Object.is:JS;function co(s,n){if(fs(s,n))return!0;if(typeof s!="object"||s===null||typeof n!="object"||n===null)return!1;var o=Object.keys(s),u=Object.keys(n);if(o.length!==u.length)return!1;for(u=0;u<o.length;u++){var h=o[u];if(!ds.call(n,h)||!fs(s[h],n[h]))return!1}return!0}function Ag(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function Cg(s,n){var o=Ag(s);s=0;for(var u;o;){if(o.nodeType===3){if(u=s+o.textContent.length,s<=n&&u>=n)return{node:o,offset:n-s};s=u}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=Ag(o)}}function Tg(s,n){return s&&n?s===n?!0:s&&s.nodeType===3?!1:n&&n.nodeType===3?Tg(s,n.parentNode):"contains"in s?s.contains(n):s.compareDocumentPosition?!!(s.compareDocumentPosition(n)&16):!1:!1}function Og(s){s=s!=null&&s.ownerDocument!=null&&s.ownerDocument.defaultView!=null?s.ownerDocument.defaultView:window;for(var n=Rl(s.document);n instanceof s.HTMLIFrameElement;){try{var o=typeof n.contentWindow.location.href=="string"}catch{o=!1}if(o)s=n.contentWindow;else break;n=Rl(s.document)}return n}function Dd(s){var n=s&&s.nodeName&&s.nodeName.toLowerCase();return n&&(n==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||n==="textarea"||s.contentEditable==="true")}var ZS=xa&&"documentMode"in document&&11>=document.documentMode,Br=null,Rd=null,uo=null,Pd=!1;function Dg(s,n,o){var u=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;Pd||Br==null||Br!==Rl(u)||(u=Br,"selectionStart"in u&&Dd(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),uo&&co(uo,u)||(uo=u,u=Ac(Rd,"onSelect"),0<u.length&&(n=new Il("onSelect","select",null,n,o),s.push({event:n,listeners:u}),n.target=Br)))}function Hn(s,n){var o={};return o[s.toLowerCase()]=n.toLowerCase(),o["Webkit"+s]="webkit"+n,o["Moz"+s]="moz"+n,o}var Hr={animationend:Hn("Animation","AnimationEnd"),animationiteration:Hn("Animation","AnimationIteration"),animationstart:Hn("Animation","AnimationStart"),transitionrun:Hn("Transition","TransitionRun"),transitionstart:Hn("Transition","TransitionStart"),transitioncancel:Hn("Transition","TransitionCancel"),transitionend:Hn("Transition","TransitionEnd")},Md={},Rg={};xa&&(Rg=document.createElement("div").style,"AnimationEvent"in window||(delete Hr.animationend.animation,delete Hr.animationiteration.animation,delete Hr.animationstart.animation),"TransitionEvent"in window||delete Hr.transitionend.transition);function $n(s){if(Md[s])return Md[s];if(!Hr[s])return s;var n=Hr[s],o;for(o in n)if(n.hasOwnProperty(o)&&o in Rg)return Md[s]=n[o];return s}var Pg=$n("animationend"),Mg=$n("animationiteration"),Lg=$n("animationstart"),e_=$n("transitionrun"),t_=$n("transitionstart"),s_=$n("transitioncancel"),Ug=$n("transitionend"),Ig=new Map,Ld="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Ld.push("scrollEnd");function Bs(s,n){Ig.set(s,n),qn(n,[s])}var Bl=typeof reportError=="function"?reportError:function(s){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof s=="object"&&s!==null&&typeof s.message=="string"?String(s.message):String(s),error:s});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",s);return}console.error(s)},Es=[],$r=0,Ud=0;function Hl(){for(var s=$r,n=Ud=$r=0;n<s;){var o=Es[n];Es[n++]=null;var u=Es[n];Es[n++]=null;var h=Es[n];Es[n++]=null;var g=Es[n];if(Es[n++]=null,u!==null&&h!==null){var S=u.pending;S===null?h.next=h:(h.next=S.next,S.next=h),u.pending=h}g!==0&&zg(o,h,g)}}function $l(s,n,o,u){Es[$r++]=s,Es[$r++]=n,Es[$r++]=o,Es[$r++]=u,Ud|=u,s.lanes|=u,s=s.alternate,s!==null&&(s.lanes|=u)}function Id(s,n,o,u){return $l(s,n,o,u),Fl(s)}function Fn(s,n){return $l(s,null,null,n),Fl(s)}function zg(s,n,o){s.lanes|=o;var u=s.alternate;u!==null&&(u.lanes|=o);for(var h=!1,g=s.return;g!==null;)g.childLanes|=o,u=g.alternate,u!==null&&(u.childLanes|=o),g.tag===22&&(s=g.stateNode,s===null||s._visibility&1||(h=!0)),s=g,g=g.return;return s.tag===3?(g=s.stateNode,h&&n!==null&&(h=31-It(o),s=g.hiddenUpdates,u=s[h],u===null?s[h]=[n]:u.push(n),n.lane=o|536870912),g):null}function Fl(s){if(50<Ro)throw Ro=0,Yf=null,Error(r(185));for(var n=s.return;n!==null;)s=n,n=s.return;return s.tag===3?s.stateNode:null}var Fr={};function a_(s,n,o,u){this.tag=s,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function hs(s,n,o,u){return new a_(s,n,o,u)}function zd(s){return s=s.prototype,!(!s||!s.isReactComponent)}function ya(s,n){var o=s.alternate;return o===null?(o=hs(s.tag,n,s.key,s.mode),o.elementType=s.elementType,o.type=s.type,o.stateNode=s.stateNode,o.alternate=s,s.alternate=o):(o.pendingProps=n,o.type=s.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=s.flags&65011712,o.childLanes=s.childLanes,o.lanes=s.lanes,o.child=s.child,o.memoizedProps=s.memoizedProps,o.memoizedState=s.memoizedState,o.updateQueue=s.updateQueue,n=s.dependencies,o.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},o.sibling=s.sibling,o.index=s.index,o.ref=s.ref,o.refCleanup=s.refCleanup,o}function qg(s,n){s.flags&=65011714;var o=s.alternate;return o===null?(s.childLanes=0,s.lanes=n,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,n=o.dependencies,s.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),s}function Gl(s,n,o,u,h,g){var S=0;if(u=s,typeof s=="function")zd(s)&&(S=1);else if(typeof s=="string")S=lN(s,o,F.current)?26:s==="html"||s==="head"||s==="body"?27:5;else e:switch(s){case z:return s=hs(31,o,n,h),s.elementType=z,s.lanes=g,s;case w:return Gn(o.children,h,g,n);case _:S=8,h|=24;break;case E:return s=hs(12,o,n,h|2),s.elementType=E,s.lanes=g,s;case M:return s=hs(13,o,n,h),s.elementType=M,s.lanes=g,s;case P:return s=hs(19,o,n,h),s.elementType=P,s.lanes=g,s;default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case A:S=10;break e;case T:S=9;break e;case I:S=11;break e;case O:S=14;break e;case C:S=16,u=null;break e}S=29,o=Error(r(130,s===null?"null":typeof s,"")),u=null}return n=hs(S,o,n,h),n.elementType=s,n.type=u,n.lanes=g,n}function Gn(s,n,o,u){return s=hs(7,s,u,n),s.lanes=o,s}function qd(s,n,o){return s=hs(6,s,null,n),s.lanes=o,s}function Bg(s){var n=hs(18,null,null,0);return n.stateNode=s,n}function Bd(s,n,o){return n=hs(4,s.children!==null?s.children:[],s.key,n),n.lanes=o,n.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},n}var Hg=new WeakMap;function As(s,n){if(typeof s=="object"&&s!==null){var o=Hg.get(s);return o!==void 0?o:(n={value:s,source:n,stack:Ki(n)},Hg.set(s,n),n)}return{value:s,source:n,stack:Ki(n)}}var Gr=[],Vr=0,Vl=null,fo=0,Cs=[],Ts=0,Va=null,ea=1,ta="";function va(s,n){Gr[Vr++]=fo,Gr[Vr++]=Vl,Vl=s,fo=n}function $g(s,n,o){Cs[Ts++]=ea,Cs[Ts++]=ta,Cs[Ts++]=Va,Va=s;var u=ea;s=ta;var h=32-It(u)-1;u&=~(1<<h),o+=1;var g=32-It(n)+h;if(30<g){var S=h-h%5;g=(u&(1<<S)-1).toString(32),u>>=S,h-=S,ea=1<<32-It(n)+h|o<<h|u,ta=g+s}else ea=1<<g|o<<h|u,ta=s}function Hd(s){s.return!==null&&(va(s,1),$g(s,1,0))}function $d(s){for(;s===Vl;)Vl=Gr[--Vr],Gr[Vr]=null,fo=Gr[--Vr],Gr[Vr]=null;for(;s===Va;)Va=Cs[--Ts],Cs[Ts]=null,ta=Cs[--Ts],Cs[Ts]=null,ea=Cs[--Ts],Cs[Ts]=null}function Fg(s,n){Cs[Ts++]=ea,Cs[Ts++]=ta,Cs[Ts++]=Va,ea=n.id,ta=n.overflow,Va=s}var Rt=null,Xe=null,Ue=!1,Qa=null,Os=!1,Fd=Error(r(519));function Ya(s){var n=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw ho(As(n,s)),Fd}function Gg(s){var n=s.stateNode,o=s.type,u=s.memoizedProps;switch(n[Dt]=s,n[ts]=u,o){case"dialog":De("cancel",n),De("close",n);break;case"iframe":case"object":case"embed":De("load",n);break;case"video":case"audio":for(o=0;o<Mo.length;o++)De(Mo[o],n);break;case"source":De("error",n);break;case"img":case"image":case"link":De("error",n),De("load",n);break;case"details":De("toggle",n);break;case"input":De("invalid",n),ng(n,u.value,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name,!0);break;case"select":De("invalid",n);break;case"textarea":De("invalid",n),ig(n,u.value,u.defaultValue,u.children)}o=u.children,typeof o!="string"&&typeof o!="number"&&typeof o!="bigint"||n.textContent===""+o||u.suppressHydrationWarning===!0||l0(n.textContent,o)?(u.popover!=null&&(De("beforetoggle",n),De("toggle",n)),u.onScroll!=null&&De("scroll",n),u.onScrollEnd!=null&&De("scrollend",n),u.onClick!=null&&(n.onclick=ga),n=!0):n=!1,n||Ya(s,!0)}function Vg(s){for(Rt=s.return;Rt;)switch(Rt.tag){case 5:case 31:case 13:Os=!1;return;case 27:case 3:Os=!0;return;default:Rt=Rt.return}}function Qr(s){if(s!==Rt)return!1;if(!Ue)return Vg(s),Ue=!0,!1;var n=s.tag,o;if((o=n!==3&&n!==27)&&((o=n===5)&&(o=s.type,o=!(o!=="form"&&o!=="button")||ch(s.type,s.memoizedProps)),o=!o),o&&Xe&&Ya(s),Vg(s),n===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(r(317));Xe=x0(s)}else if(n===31){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(r(317));Xe=x0(s)}else n===27?(n=Xe,cn(s.type)?(s=ph,ph=null,Xe=s):Xe=n):Xe=Rt?Rs(s.stateNode.nextSibling):null;return!0}function Vn(){Xe=Rt=null,Ue=!1}function Gd(){var s=Qa;return s!==null&&(is===null?is=s:is.push.apply(is,s),Qa=null),s}function ho(s){Qa===null?Qa=[s]:Qa.push(s)}var Vd=L(null),Qn=null,ba=null;function Ka(s,n,o){K(Vd,n._currentValue),n._currentValue=o}function wa(s){s._currentValue=Vd.current,Z(Vd)}function Qd(s,n,o){for(;s!==null;){var u=s.alternate;if((s.childLanes&n)!==n?(s.childLanes|=n,u!==null&&(u.childLanes|=n)):u!==null&&(u.childLanes&n)!==n&&(u.childLanes|=n),s===o)break;s=s.return}}function Yd(s,n,o,u){var h=s.child;for(h!==null&&(h.return=s);h!==null;){var g=h.dependencies;if(g!==null){var S=h.child;g=g.firstContext;e:for(;g!==null;){var k=g;g=h;for(var U=0;U<n.length;U++)if(k.context===n[U]){g.lanes|=o,k=g.alternate,k!==null&&(k.lanes|=o),Qd(g.return,o,s),u||(S=null);break e}g=k.next}}else if(h.tag===18){if(S=h.return,S===null)throw Error(r(341));S.lanes|=o,g=S.alternate,g!==null&&(g.lanes|=o),Qd(S,o,s),S=null}else S=h.child;if(S!==null)S.return=h;else for(S=h;S!==null;){if(S===s){S=null;break}if(h=S.sibling,h!==null){h.return=S.return,S=h;break}S=S.return}h=S}}function Yr(s,n,o,u){s=null;for(var h=n,g=!1;h!==null;){if(!g){if((h.flags&524288)!==0)g=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var S=h.alternate;if(S===null)throw Error(r(387));if(S=S.memoizedProps,S!==null){var k=h.type;fs(h.pendingProps.value,S.value)||(s!==null?s.push(k):s=[k])}}else if(h===ue.current){if(S=h.alternate,S===null)throw Error(r(387));S.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(s!==null?s.push(qo):s=[qo])}h=h.return}s!==null&&Yd(n,s,o,u),n.flags|=262144}function Ql(s){for(s=s.firstContext;s!==null;){if(!fs(s.context._currentValue,s.memoizedValue))return!0;s=s.next}return!1}function Yn(s){Qn=s,ba=null,s=s.dependencies,s!==null&&(s.firstContext=null)}function Pt(s){return Qg(Qn,s)}function Yl(s,n){return Qn===null&&Yn(s),Qg(s,n)}function Qg(s,n){var o=n._currentValue;if(n={context:n,memoizedValue:o,next:null},ba===null){if(s===null)throw Error(r(308));ba=n,s.dependencies={lanes:0,firstContext:n},s.flags|=524288}else ba=ba.next=n;return o}var n_=typeof AbortController<"u"?AbortController:function(){var s=[],n=this.signal={aborted:!1,addEventListener:function(o,u){s.push(u)}};this.abort=function(){n.aborted=!0,s.forEach(function(o){return o()})}},r_=e.unstable_scheduleCallback,i_=e.unstable_NormalPriority,gt={$$typeof:A,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Kd(){return{controller:new n_,data:new Map,refCount:0}}function po(s){s.refCount--,s.refCount===0&&r_(i_,function(){s.controller.abort()})}var mo=null,Wd=0,Kr=0,Wr=null;function o_(s,n){if(mo===null){var o=mo=[];Wd=0,Kr=eh(),Wr={status:"pending",value:void 0,then:function(u){o.push(u)}}}return Wd++,n.then(Yg,Yg),n}function Yg(){if(--Wd===0&&mo!==null){Wr!==null&&(Wr.status="fulfilled");var s=mo;mo=null,Kr=0,Wr=null;for(var n=0;n<s.length;n++)(0,s[n])()}}function l_(s,n){var o=[],u={status:"pending",value:null,reason:null,then:function(h){o.push(h)}};return s.then(function(){u.status="fulfilled",u.value=n;for(var h=0;h<o.length;h++)(0,o[h])(n)},function(h){for(u.status="rejected",u.reason=h,h=0;h<o.length;h++)(0,o[h])(void 0)}),u}var Kg=D.S;D.S=function(s,n){Dy=Qt(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&o_(s,n),Kg!==null&&Kg(s,n)};var Kn=L(null);function Xd(){var s=Kn.current;return s!==null?s:Ke.pooledCache}function Kl(s,n){n===null?K(Kn,Kn.current):K(Kn,n.pool)}function Wg(){var s=Xd();return s===null?null:{parent:gt._currentValue,pool:s}}var Xr=Error(r(460)),Jd=Error(r(474)),Wl=Error(r(542)),Xl={then:function(){}};function Xg(s){return s=s.status,s==="fulfilled"||s==="rejected"}function Jg(s,n,o){switch(o=s[o],o===void 0?s.push(n):o!==n&&(n.then(ga,ga),n=o),n.status){case"fulfilled":return n.value;case"rejected":throw s=n.reason,ex(s),s;default:if(typeof n.status=="string")n.then(ga,ga);else{if(s=Ke,s!==null&&100<s.shellSuspendCounter)throw Error(r(482));s=n,s.status="pending",s.then(function(u){if(n.status==="pending"){var h=n;h.status="fulfilled",h.value=u}},function(u){if(n.status==="pending"){var h=n;h.status="rejected",h.reason=u}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw s=n.reason,ex(s),s}throw Xn=n,Xr}}function Wn(s){try{var n=s._init;return n(s._payload)}catch(o){throw o!==null&&typeof o=="object"&&typeof o.then=="function"?(Xn=o,Xr):o}}var Xn=null;function Zg(){if(Xn===null)throw Error(r(459));var s=Xn;return Xn=null,s}function ex(s){if(s===Xr||s===Wl)throw Error(r(483))}var Jr=null,go=0;function Jl(s){var n=go;return go+=1,Jr===null&&(Jr=[]),Jg(Jr,s,n)}function xo(s,n){n=n.props.ref,s.ref=n!==void 0?n:null}function Zl(s,n){throw n.$$typeof===v?Error(r(525)):(s=Object.prototype.toString.call(n),Error(r(31,s==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":s)))}function tx(s){function n($,q){if(s){var V=$.deletions;V===null?($.deletions=[q],$.flags|=16):V.push(q)}}function o($,q){if(!s)return null;for(;q!==null;)n($,q),q=q.sibling;return null}function u($){for(var q=new Map;$!==null;)$.key!==null?q.set($.key,$):q.set($.index,$),$=$.sibling;return q}function h($,q){return $=ya($,q),$.index=0,$.sibling=null,$}function g($,q,V){return $.index=V,s?(V=$.alternate,V!==null?(V=V.index,V<q?($.flags|=67108866,q):V):($.flags|=67108866,q)):($.flags|=1048576,q)}function S($){return s&&$.alternate===null&&($.flags|=67108866),$}function k($,q,V,ae){return q===null||q.tag!==6?(q=qd(V,$.mode,ae),q.return=$,q):(q=h(q,V),q.return=$,q)}function U($,q,V,ae){var be=V.type;return be===w?te($,q,V.props.children,ae,V.key):q!==null&&(q.elementType===be||typeof be=="object"&&be!==null&&be.$$typeof===C&&Wn(be)===q.type)?(q=h(q,V.props),xo(q,V),q.return=$,q):(q=Gl(V.type,V.key,V.props,null,$.mode,ae),xo(q,V),q.return=$,q)}function Q($,q,V,ae){return q===null||q.tag!==4||q.stateNode.containerInfo!==V.containerInfo||q.stateNode.implementation!==V.implementation?(q=Bd(V,$.mode,ae),q.return=$,q):(q=h(q,V.children||[]),q.return=$,q)}function te($,q,V,ae,be){return q===null||q.tag!==7?(q=Gn(V,$.mode,ae,be),q.return=$,q):(q=h(q,V),q.return=$,q)}function ne($,q,V){if(typeof q=="string"&&q!==""||typeof q=="number"||typeof q=="bigint")return q=qd(""+q,$.mode,V),q.return=$,q;if(typeof q=="object"&&q!==null){switch(q.$$typeof){case b:return V=Gl(q.type,q.key,q.props,null,$.mode,V),xo(V,q),V.return=$,V;case N:return q=Bd(q,$.mode,V),q.return=$,q;case C:return q=Wn(q),ne($,q,V)}if(ee(q)||B(q))return q=Gn(q,$.mode,V,null),q.return=$,q;if(typeof q.then=="function")return ne($,Jl(q),V);if(q.$$typeof===A)return ne($,Yl($,q),V);Zl($,q)}return null}function W($,q,V,ae){var be=q!==null?q.key:null;if(typeof V=="string"&&V!==""||typeof V=="number"||typeof V=="bigint")return be!==null?null:k($,q,""+V,ae);if(typeof V=="object"&&V!==null){switch(V.$$typeof){case b:return V.key===be?U($,q,V,ae):null;case N:return V.key===be?Q($,q,V,ae):null;case C:return V=Wn(V),W($,q,V,ae)}if(ee(V)||B(V))return be!==null?null:te($,q,V,ae,null);if(typeof V.then=="function")return W($,q,Jl(V),ae);if(V.$$typeof===A)return W($,q,Yl($,V),ae);Zl($,V)}return null}function J($,q,V,ae,be){if(typeof ae=="string"&&ae!==""||typeof ae=="number"||typeof ae=="bigint")return $=$.get(V)||null,k(q,$,""+ae,be);if(typeof ae=="object"&&ae!==null){switch(ae.$$typeof){case b:return $=$.get(ae.key===null?V:ae.key)||null,U(q,$,ae,be);case N:return $=$.get(ae.key===null?V:ae.key)||null,Q(q,$,ae,be);case C:return ae=Wn(ae),J($,q,V,ae,be)}if(ee(ae)||B(ae))return $=$.get(V)||null,te(q,$,ae,be,null);if(typeof ae.then=="function")return J($,q,V,Jl(ae),be);if(ae.$$typeof===A)return J($,q,V,Yl(q,ae),be);Zl(q,ae)}return null}function pe($,q,V,ae){for(var be=null,Ie=null,ye=q,Ce=q=0,Me=null;ye!==null&&Ce<V.length;Ce++){ye.index>Ce?(Me=ye,ye=null):Me=ye.sibling;var ze=W($,ye,V[Ce],ae);if(ze===null){ye===null&&(ye=Me);break}s&&ye&&ze.alternate===null&&n($,ye),q=g(ze,q,Ce),Ie===null?be=ze:Ie.sibling=ze,Ie=ze,ye=Me}if(Ce===V.length)return o($,ye),Ue&&va($,Ce),be;if(ye===null){for(;Ce<V.length;Ce++)ye=ne($,V[Ce],ae),ye!==null&&(q=g(ye,q,Ce),Ie===null?be=ye:Ie.sibling=ye,Ie=ye);return Ue&&va($,Ce),be}for(ye=u(ye);Ce<V.length;Ce++)Me=J(ye,$,Ce,V[Ce],ae),Me!==null&&(s&&Me.alternate!==null&&ye.delete(Me.key===null?Ce:Me.key),q=g(Me,q,Ce),Ie===null?be=Me:Ie.sibling=Me,Ie=Me);return s&&ye.forEach(function(pn){return n($,pn)}),Ue&&va($,Ce),be}function Se($,q,V,ae){if(V==null)throw Error(r(151));for(var be=null,Ie=null,ye=q,Ce=q=0,Me=null,ze=V.next();ye!==null&&!ze.done;Ce++,ze=V.next()){ye.index>Ce?(Me=ye,ye=null):Me=ye.sibling;var pn=W($,ye,ze.value,ae);if(pn===null){ye===null&&(ye=Me);break}s&&ye&&pn.alternate===null&&n($,ye),q=g(pn,q,Ce),Ie===null?be=pn:Ie.sibling=pn,Ie=pn,ye=Me}if(ze.done)return o($,ye),Ue&&va($,Ce),be;if(ye===null){for(;!ze.done;Ce++,ze=V.next())ze=ne($,ze.value,ae),ze!==null&&(q=g(ze,q,Ce),Ie===null?be=ze:Ie.sibling=ze,Ie=ze);return Ue&&va($,Ce),be}for(ye=u(ye);!ze.done;Ce++,ze=V.next())ze=J(ye,$,Ce,ze.value,ae),ze!==null&&(s&&ze.alternate!==null&&ye.delete(ze.key===null?Ce:ze.key),q=g(ze,q,Ce),Ie===null?be=ze:Ie.sibling=ze,Ie=ze);return s&&ye.forEach(function(vN){return n($,vN)}),Ue&&va($,Ce),be}function Qe($,q,V,ae){if(typeof V=="object"&&V!==null&&V.type===w&&V.key===null&&(V=V.props.children),typeof V=="object"&&V!==null){switch(V.$$typeof){case b:e:{for(var be=V.key;q!==null;){if(q.key===be){if(be=V.type,be===w){if(q.tag===7){o($,q.sibling),ae=h(q,V.props.children),ae.return=$,$=ae;break e}}else if(q.elementType===be||typeof be=="object"&&be!==null&&be.$$typeof===C&&Wn(be)===q.type){o($,q.sibling),ae=h(q,V.props),xo(ae,V),ae.return=$,$=ae;break e}o($,q);break}else n($,q);q=q.sibling}V.type===w?(ae=Gn(V.props.children,$.mode,ae,V.key),ae.return=$,$=ae):(ae=Gl(V.type,V.key,V.props,null,$.mode,ae),xo(ae,V),ae.return=$,$=ae)}return S($);case N:e:{for(be=V.key;q!==null;){if(q.key===be)if(q.tag===4&&q.stateNode.containerInfo===V.containerInfo&&q.stateNode.implementation===V.implementation){o($,q.sibling),ae=h(q,V.children||[]),ae.return=$,$=ae;break e}else{o($,q);break}else n($,q);q=q.sibling}ae=Bd(V,$.mode,ae),ae.return=$,$=ae}return S($);case C:return V=Wn(V),Qe($,q,V,ae)}if(ee(V))return pe($,q,V,ae);if(B(V)){if(be=B(V),typeof be!="function")throw Error(r(150));return V=be.call(V),Se($,q,V,ae)}if(typeof V.then=="function")return Qe($,q,Jl(V),ae);if(V.$$typeof===A)return Qe($,q,Yl($,V),ae);Zl($,V)}return typeof V=="string"&&V!==""||typeof V=="number"||typeof V=="bigint"?(V=""+V,q!==null&&q.tag===6?(o($,q.sibling),ae=h(q,V),ae.return=$,$=ae):(o($,q),ae=qd(V,$.mode,ae),ae.return=$,$=ae),S($)):o($,q)}return function($,q,V,ae){try{go=0;var be=Qe($,q,V,ae);return Jr=null,be}catch(ye){if(ye===Xr||ye===Wl)throw ye;var Ie=hs(29,ye,null,$.mode);return Ie.lanes=ae,Ie.return=$,Ie}finally{}}}var Jn=tx(!0),sx=tx(!1),Wa=!1;function Zd(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function ef(s,n){s=s.updateQueue,n.updateQueue===s&&(n.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,callbacks:null})}function Xa(s){return{lane:s,tag:0,payload:null,callback:null,next:null}}function Ja(s,n,o){var u=s.updateQueue;if(u===null)return null;if(u=u.shared,(Be&2)!==0){var h=u.pending;return h===null?n.next=n:(n.next=h.next,h.next=n),u.pending=n,n=Fl(s),zg(s,null,o),n}return $l(s,u,n,o),Fl(s)}function yo(s,n,o){if(n=n.updateQueue,n!==null&&(n=n.shared,(o&4194048)!==0)){var u=n.lanes;u&=s.pendingLanes,o|=u,n.lanes=o,Zt(s,o)}}function tf(s,n){var o=s.updateQueue,u=s.alternate;if(u!==null&&(u=u.updateQueue,o===u)){var h=null,g=null;if(o=o.firstBaseUpdate,o!==null){do{var S={lane:o.lane,tag:o.tag,payload:o.payload,callback:null,next:null};g===null?h=g=S:g=g.next=S,o=o.next}while(o!==null);g===null?h=g=n:g=g.next=n}else h=g=n;o={baseState:u.baseState,firstBaseUpdate:h,lastBaseUpdate:g,shared:u.shared,callbacks:u.callbacks},s.updateQueue=o;return}s=o.lastBaseUpdate,s===null?o.firstBaseUpdate=n:s.next=n,o.lastBaseUpdate=n}var sf=!1;function vo(){if(sf){var s=Wr;if(s!==null)throw s}}function bo(s,n,o,u){sf=!1;var h=s.updateQueue;Wa=!1;var g=h.firstBaseUpdate,S=h.lastBaseUpdate,k=h.shared.pending;if(k!==null){h.shared.pending=null;var U=k,Q=U.next;U.next=null,S===null?g=Q:S.next=Q,S=U;var te=s.alternate;te!==null&&(te=te.updateQueue,k=te.lastBaseUpdate,k!==S&&(k===null?te.firstBaseUpdate=Q:k.next=Q,te.lastBaseUpdate=U))}if(g!==null){var ne=h.baseState;S=0,te=Q=U=null,k=g;do{var W=k.lane&-536870913,J=W!==k.lane;if(J?(Pe&W)===W:(u&W)===W){W!==0&&W===Kr&&(sf=!0),te!==null&&(te=te.next={lane:0,tag:k.tag,payload:k.payload,callback:null,next:null});e:{var pe=s,Se=k;W=n;var Qe=o;switch(Se.tag){case 1:if(pe=Se.payload,typeof pe=="function"){ne=pe.call(Qe,ne,W);break e}ne=pe;break e;case 3:pe.flags=pe.flags&-65537|128;case 0:if(pe=Se.payload,W=typeof pe=="function"?pe.call(Qe,ne,W):pe,W==null)break e;ne=x({},ne,W);break e;case 2:Wa=!0}}W=k.callback,W!==null&&(s.flags|=64,J&&(s.flags|=8192),J=h.callbacks,J===null?h.callbacks=[W]:J.push(W))}else J={lane:W,tag:k.tag,payload:k.payload,callback:k.callback,next:null},te===null?(Q=te=J,U=ne):te=te.next=J,S|=W;if(k=k.next,k===null){if(k=h.shared.pending,k===null)break;J=k,k=J.next,J.next=null,h.lastBaseUpdate=J,h.shared.pending=null}}while(!0);te===null&&(U=ne),h.baseState=U,h.firstBaseUpdate=Q,h.lastBaseUpdate=te,g===null&&(h.shared.lanes=0),an|=S,s.lanes=S,s.memoizedState=ne}}function ax(s,n){if(typeof s!="function")throw Error(r(191,s));s.call(n)}function nx(s,n){var o=s.callbacks;if(o!==null)for(s.callbacks=null,s=0;s<o.length;s++)ax(o[s],n)}var Zr=L(null),ec=L(0);function rx(s,n){s=Ta,K(ec,s),K(Zr,n),Ta=s|n.baseLanes}function af(){K(ec,Ta),K(Zr,Zr.current)}function nf(){Ta=ec.current,Z(Zr),Z(ec)}var ps=L(null),Ds=null;function Za(s){var n=s.alternate;K(ft,ft.current&1),K(ps,s),Ds===null&&(n===null||Zr.current!==null||n.memoizedState!==null)&&(Ds=s)}function rf(s){K(ft,ft.current),K(ps,s),Ds===null&&(Ds=s)}function ix(s){s.tag===22?(K(ft,ft.current),K(ps,s),Ds===null&&(Ds=s)):en()}function en(){K(ft,ft.current),K(ps,ps.current)}function ms(s){Z(ps),Ds===s&&(Ds=null),Z(ft)}var ft=L(0);function tc(s){for(var n=s;n!==null;){if(n.tag===13){var o=n.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||fh(o)||hh(o)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===s)break;for(;n.sibling===null;){if(n.return===null||n.return===s)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var ja=0,Ae=null,Ge=null,xt=null,sc=!1,ei=!1,Zn=!1,ac=0,wo=0,ti=null,c_=0;function it(){throw Error(r(321))}function of(s,n){if(n===null)return!1;for(var o=0;o<n.length&&o<s.length;o++)if(!fs(s[o],n[o]))return!1;return!0}function lf(s,n,o,u,h,g){return ja=g,Ae=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,D.H=s===null||s.memoizedState===null?$x:Sf,Zn=!1,g=o(u,h),Zn=!1,ei&&(g=lx(n,o,u,h)),ox(s),g}function ox(s){D.H=_o;var n=Ge!==null&&Ge.next!==null;if(ja=0,xt=Ge=Ae=null,sc=!1,wo=0,ti=null,n)throw Error(r(300));s===null||yt||(s=s.dependencies,s!==null&&Ql(s)&&(yt=!0))}function lx(s,n,o,u){Ae=s;var h=0;do{if(ei&&(ti=null),wo=0,ei=!1,25<=h)throw Error(r(301));if(h+=1,xt=Ge=null,s.updateQueue!=null){var g=s.updateQueue;g.lastEffect=null,g.events=null,g.stores=null,g.memoCache!=null&&(g.memoCache.index=0)}D.H=Fx,g=n(o,u)}while(ei);return g}function u_(){var s=D.H,n=s.useState()[0];return n=typeof n.then=="function"?jo(n):n,s=s.useState()[0],(Ge!==null?Ge.memoizedState:null)!==s&&(Ae.flags|=1024),n}function cf(){var s=ac!==0;return ac=0,s}function uf(s,n,o){n.updateQueue=s.updateQueue,n.flags&=-2053,s.lanes&=~o}function df(s){if(sc){for(s=s.memoizedState;s!==null;){var n=s.queue;n!==null&&(n.pending=null),s=s.next}sc=!1}ja=0,xt=Ge=Ae=null,ei=!1,wo=ac=0,ti=null}function Kt(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return xt===null?Ae.memoizedState=xt=s:xt=xt.next=s,xt}function ht(){if(Ge===null){var s=Ae.alternate;s=s!==null?s.memoizedState:null}else s=Ge.next;var n=xt===null?Ae.memoizedState:xt.next;if(n!==null)xt=n,Ge=s;else{if(s===null)throw Ae.alternate===null?Error(r(467)):Error(r(310));Ge=s,s={memoizedState:Ge.memoizedState,baseState:Ge.baseState,baseQueue:Ge.baseQueue,queue:Ge.queue,next:null},xt===null?Ae.memoizedState=xt=s:xt=xt.next=s}return xt}function nc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function jo(s){var n=wo;return wo+=1,ti===null&&(ti=[]),s=Jg(ti,s,n),n=Ae,(xt===null?n.memoizedState:xt.next)===null&&(n=n.alternate,D.H=n===null||n.memoizedState===null?$x:Sf),s}function rc(s){if(s!==null&&typeof s=="object"){if(typeof s.then=="function")return jo(s);if(s.$$typeof===A)return Pt(s)}throw Error(r(438,String(s)))}function ff(s){var n=null,o=Ae.updateQueue;if(o!==null&&(n=o.memoCache),n==null){var u=Ae.alternate;u!==null&&(u=u.updateQueue,u!==null&&(u=u.memoCache,u!=null&&(n={data:u.data.map(function(h){return h.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),o===null&&(o=nc(),Ae.updateQueue=o),o.memoCache=n,o=n.data[n.index],o===void 0)for(o=n.data[n.index]=Array(s),u=0;u<s;u++)o[u]=G;return n.index++,o}function Sa(s,n){return typeof n=="function"?n(s):n}function ic(s){var n=ht();return hf(n,Ge,s)}function hf(s,n,o){var u=s.queue;if(u===null)throw Error(r(311));u.lastRenderedReducer=o;var h=s.baseQueue,g=u.pending;if(g!==null){if(h!==null){var S=h.next;h.next=g.next,g.next=S}n.baseQueue=h=g,u.pending=null}if(g=s.baseState,h===null)s.memoizedState=g;else{n=h.next;var k=S=null,U=null,Q=n,te=!1;do{var ne=Q.lane&-536870913;if(ne!==Q.lane?(Pe&ne)===ne:(ja&ne)===ne){var W=Q.revertLane;if(W===0)U!==null&&(U=U.next={lane:0,revertLane:0,gesture:null,action:Q.action,hasEagerState:Q.hasEagerState,eagerState:Q.eagerState,next:null}),ne===Kr&&(te=!0);else if((ja&W)===W){Q=Q.next,W===Kr&&(te=!0);continue}else ne={lane:0,revertLane:Q.revertLane,gesture:null,action:Q.action,hasEagerState:Q.hasEagerState,eagerState:Q.eagerState,next:null},U===null?(k=U=ne,S=g):U=U.next=ne,Ae.lanes|=W,an|=W;ne=Q.action,Zn&&o(g,ne),g=Q.hasEagerState?Q.eagerState:o(g,ne)}else W={lane:ne,revertLane:Q.revertLane,gesture:Q.gesture,action:Q.action,hasEagerState:Q.hasEagerState,eagerState:Q.eagerState,next:null},U===null?(k=U=W,S=g):U=U.next=W,Ae.lanes|=ne,an|=ne;Q=Q.next}while(Q!==null&&Q!==n);if(U===null?S=g:U.next=k,!fs(g,s.memoizedState)&&(yt=!0,te&&(o=Wr,o!==null)))throw o;s.memoizedState=g,s.baseState=S,s.baseQueue=U,u.lastRenderedState=g}return h===null&&(u.lanes=0),[s.memoizedState,u.dispatch]}function pf(s){var n=ht(),o=n.queue;if(o===null)throw Error(r(311));o.lastRenderedReducer=s;var u=o.dispatch,h=o.pending,g=n.memoizedState;if(h!==null){o.pending=null;var S=h=h.next;do g=s(g,S.action),S=S.next;while(S!==h);fs(g,n.memoizedState)||(yt=!0),n.memoizedState=g,n.baseQueue===null&&(n.baseState=g),o.lastRenderedState=g}return[g,u]}function cx(s,n,o){var u=Ae,h=ht(),g=Ue;if(g){if(o===void 0)throw Error(r(407));o=o()}else o=n();var S=!fs((Ge||h).memoizedState,o);if(S&&(h.memoizedState=o,yt=!0),h=h.queue,xf(fx.bind(null,u,h,s),[s]),h.getSnapshot!==n||S||xt!==null&&xt.memoizedState.tag&1){if(u.flags|=2048,si(9,{destroy:void 0},dx.bind(null,u,h,o,n),null),Ke===null)throw Error(r(349));g||(ja&127)!==0||ux(u,n,o)}return o}function ux(s,n,o){s.flags|=16384,s={getSnapshot:n,value:o},n=Ae.updateQueue,n===null?(n=nc(),Ae.updateQueue=n,n.stores=[s]):(o=n.stores,o===null?n.stores=[s]:o.push(s))}function dx(s,n,o,u){n.value=o,n.getSnapshot=u,hx(n)&&px(s)}function fx(s,n,o){return o(function(){hx(n)&&px(s)})}function hx(s){var n=s.getSnapshot;s=s.value;try{var o=n();return!fs(s,o)}catch{return!0}}function px(s){var n=Fn(s,2);n!==null&&os(n,s,2)}function mf(s){var n=Kt();if(typeof s=="function"){var o=s;if(s=o(),Zn){zs(!0);try{o()}finally{zs(!1)}}}return n.memoizedState=n.baseState=s,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Sa,lastRenderedState:s},n}function mx(s,n,o,u){return s.baseState=o,hf(s,Ge,typeof u=="function"?u:Sa)}function d_(s,n,o,u,h){if(cc(s))throw Error(r(485));if(s=n.action,s!==null){var g={payload:h,action:s,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(S){g.listeners.push(S)}};D.T!==null?o(!0):g.isTransition=!1,u(g),o=n.pending,o===null?(g.next=n.pending=g,gx(n,g)):(g.next=o.next,n.pending=o.next=g)}}function gx(s,n){var o=n.action,u=n.payload,h=s.state;if(n.isTransition){var g=D.T,S={};D.T=S;try{var k=o(h,u),U=D.S;U!==null&&U(S,k),xx(s,n,k)}catch(Q){gf(s,n,Q)}finally{g!==null&&S.types!==null&&(g.types=S.types),D.T=g}}else try{g=o(h,u),xx(s,n,g)}catch(Q){gf(s,n,Q)}}function xx(s,n,o){o!==null&&typeof o=="object"&&typeof o.then=="function"?o.then(function(u){yx(s,n,u)},function(u){return gf(s,n,u)}):yx(s,n,o)}function yx(s,n,o){n.status="fulfilled",n.value=o,vx(n),s.state=o,n=s.pending,n!==null&&(o=n.next,o===n?s.pending=null:(o=o.next,n.next=o,gx(s,o)))}function gf(s,n,o){var u=s.pending;if(s.pending=null,u!==null){u=u.next;do n.status="rejected",n.reason=o,vx(n),n=n.next;while(n!==u)}s.action=null}function vx(s){s=s.listeners;for(var n=0;n<s.length;n++)(0,s[n])()}function bx(s,n){return n}function wx(s,n){if(Ue){var o=Ke.formState;if(o!==null){e:{var u=Ae;if(Ue){if(Xe){t:{for(var h=Xe,g=Os;h.nodeType!==8;){if(!g){h=null;break t}if(h=Rs(h.nextSibling),h===null){h=null;break t}}g=h.data,h=g==="F!"||g==="F"?h:null}if(h){Xe=Rs(h.nextSibling),u=h.data==="F!";break e}}Ya(u)}u=!1}u&&(n=o[0])}}return o=Kt(),o.memoizedState=o.baseState=n,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:bx,lastRenderedState:n},o.queue=u,o=qx.bind(null,Ae,u),u.dispatch=o,u=mf(!1),g=jf.bind(null,Ae,!1,u.queue),u=Kt(),h={state:n,dispatch:null,action:s,pending:null},u.queue=h,o=d_.bind(null,Ae,h,g,o),h.dispatch=o,u.memoizedState=s,[n,o,!1]}function jx(s){var n=ht();return Sx(n,Ge,s)}function Sx(s,n,o){if(n=hf(s,n,bx)[0],s=ic(Sa)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var u=jo(n)}catch(S){throw S===Xr?Wl:S}else u=n;n=ht();var h=n.queue,g=h.dispatch;return o!==n.memoizedState&&(Ae.flags|=2048,si(9,{destroy:void 0},f_.bind(null,h,o),null)),[u,g,s]}function f_(s,n){s.action=n}function _x(s){var n=ht(),o=Ge;if(o!==null)return Sx(n,o,s);ht(),n=n.memoizedState,o=ht();var u=o.queue.dispatch;return o.memoizedState=s,[n,u,!1]}function si(s,n,o,u){return s={tag:s,create:o,deps:u,inst:n,next:null},n=Ae.updateQueue,n===null&&(n=nc(),Ae.updateQueue=n),o=n.lastEffect,o===null?n.lastEffect=s.next=s:(u=o.next,o.next=s,s.next=u,n.lastEffect=s),s}function Nx(){return ht().memoizedState}function oc(s,n,o,u){var h=Kt();Ae.flags|=s,h.memoizedState=si(1|n,{destroy:void 0},o,u===void 0?null:u)}function lc(s,n,o,u){var h=ht();u=u===void 0?null:u;var g=h.memoizedState.inst;Ge!==null&&u!==null&&of(u,Ge.memoizedState.deps)?h.memoizedState=si(n,g,o,u):(Ae.flags|=s,h.memoizedState=si(1|n,g,o,u))}function kx(s,n){oc(8390656,8,s,n)}function xf(s,n){lc(2048,8,s,n)}function h_(s){Ae.flags|=4;var n=Ae.updateQueue;if(n===null)n=nc(),Ae.updateQueue=n,n.events=[s];else{var o=n.events;o===null?n.events=[s]:o.push(s)}}function Ex(s){var n=ht().memoizedState;return h_({ref:n,nextImpl:s}),function(){if((Be&2)!==0)throw Error(r(440));return n.impl.apply(void 0,arguments)}}function Ax(s,n){return lc(4,2,s,n)}function Cx(s,n){return lc(4,4,s,n)}function Tx(s,n){if(typeof n=="function"){s=s();var o=n(s);return function(){typeof o=="function"?o():n(null)}}if(n!=null)return s=s(),n.current=s,function(){n.current=null}}function Ox(s,n,o){o=o!=null?o.concat([s]):null,lc(4,4,Tx.bind(null,n,s),o)}function yf(){}function Dx(s,n){var o=ht();n=n===void 0?null:n;var u=o.memoizedState;return n!==null&&of(n,u[1])?u[0]:(o.memoizedState=[s,n],s)}function Rx(s,n){var o=ht();n=n===void 0?null:n;var u=o.memoizedState;if(n!==null&&of(n,u[1]))return u[0];if(u=s(),Zn){zs(!0);try{s()}finally{zs(!1)}}return o.memoizedState=[u,n],u}function vf(s,n,o){return o===void 0||(ja&1073741824)!==0&&(Pe&261930)===0?s.memoizedState=n:(s.memoizedState=o,s=Py(),Ae.lanes|=s,an|=s,o)}function Px(s,n,o,u){return fs(o,n)?o:Zr.current!==null?(s=vf(s,o,u),fs(s,n)||(yt=!0),s):(ja&42)===0||(ja&1073741824)!==0&&(Pe&261930)===0?(yt=!0,s.memoizedState=o):(s=Py(),Ae.lanes|=s,an|=s,n)}function Mx(s,n,o,u,h){var g=Y.p;Y.p=g!==0&&8>g?g:8;var S=D.T,k={};D.T=k,jf(s,!1,n,o);try{var U=h(),Q=D.S;if(Q!==null&&Q(k,U),U!==null&&typeof U=="object"&&typeof U.then=="function"){var te=l_(U,u);So(s,n,te,ys(s))}else So(s,n,u,ys(s))}catch(ne){So(s,n,{then:function(){},status:"rejected",reason:ne},ys())}finally{Y.p=g,S!==null&&k.types!==null&&(S.types=k.types),D.T=S}}function p_(){}function bf(s,n,o,u){if(s.tag!==5)throw Error(r(476));var h=Lx(s).queue;Mx(s,h,n,H,o===null?p_:function(){return Ux(s),o(u)})}function Lx(s){var n=s.memoizedState;if(n!==null)return n;n={memoizedState:H,baseState:H,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Sa,lastRenderedState:H},next:null};var o={};return n.next={memoizedState:o,baseState:o,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Sa,lastRenderedState:o},next:null},s.memoizedState=n,s=s.alternate,s!==null&&(s.memoizedState=n),n}function Ux(s){var n=Lx(s);n.next===null&&(n=s.alternate.memoizedState),So(s,n.next.queue,{},ys())}function wf(){return Pt(qo)}function Ix(){return ht().memoizedState}function zx(){return ht().memoizedState}function m_(s){for(var n=s.return;n!==null;){switch(n.tag){case 24:case 3:var o=ys();s=Xa(o);var u=Ja(n,s,o);u!==null&&(os(u,n,o),yo(u,n,o)),n={cache:Kd()},s.payload=n;return}n=n.return}}function g_(s,n,o){var u=ys();o={lane:u,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},cc(s)?Bx(n,o):(o=Id(s,n,o,u),o!==null&&(os(o,s,u),Hx(o,n,u)))}function qx(s,n,o){var u=ys();So(s,n,o,u)}function So(s,n,o,u){var h={lane:u,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null};if(cc(s))Bx(n,h);else{var g=s.alternate;if(s.lanes===0&&(g===null||g.lanes===0)&&(g=n.lastRenderedReducer,g!==null))try{var S=n.lastRenderedState,k=g(S,o);if(h.hasEagerState=!0,h.eagerState=k,fs(k,S))return $l(s,n,h,0),Ke===null&&Hl(),!1}catch{}finally{}if(o=Id(s,n,h,u),o!==null)return os(o,s,u),Hx(o,n,u),!0}return!1}function jf(s,n,o,u){if(u={lane:2,revertLane:eh(),gesture:null,action:u,hasEagerState:!1,eagerState:null,next:null},cc(s)){if(n)throw Error(r(479))}else n=Id(s,o,u,2),n!==null&&os(n,s,2)}function cc(s){var n=s.alternate;return s===Ae||n!==null&&n===Ae}function Bx(s,n){ei=sc=!0;var o=s.pending;o===null?n.next=n:(n.next=o.next,o.next=n),s.pending=n}function Hx(s,n,o){if((o&4194048)!==0){var u=n.lanes;u&=s.pendingLanes,o|=u,n.lanes=o,Zt(s,o)}}var _o={readContext:Pt,use:rc,useCallback:it,useContext:it,useEffect:it,useImperativeHandle:it,useLayoutEffect:it,useInsertionEffect:it,useMemo:it,useReducer:it,useRef:it,useState:it,useDebugValue:it,useDeferredValue:it,useTransition:it,useSyncExternalStore:it,useId:it,useHostTransitionStatus:it,useFormState:it,useActionState:it,useOptimistic:it,useMemoCache:it,useCacheRefresh:it};_o.useEffectEvent=it;var $x={readContext:Pt,use:rc,useCallback:function(s,n){return Kt().memoizedState=[s,n===void 0?null:n],s},useContext:Pt,useEffect:kx,useImperativeHandle:function(s,n,o){o=o!=null?o.concat([s]):null,oc(4194308,4,Tx.bind(null,n,s),o)},useLayoutEffect:function(s,n){return oc(4194308,4,s,n)},useInsertionEffect:function(s,n){oc(4,2,s,n)},useMemo:function(s,n){var o=Kt();n=n===void 0?null:n;var u=s();if(Zn){zs(!0);try{s()}finally{zs(!1)}}return o.memoizedState=[u,n],u},useReducer:function(s,n,o){var u=Kt();if(o!==void 0){var h=o(n);if(Zn){zs(!0);try{o(n)}finally{zs(!1)}}}else h=n;return u.memoizedState=u.baseState=h,s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:h},u.queue=s,s=s.dispatch=g_.bind(null,Ae,s),[u.memoizedState,s]},useRef:function(s){var n=Kt();return s={current:s},n.memoizedState=s},useState:function(s){s=mf(s);var n=s.queue,o=qx.bind(null,Ae,n);return n.dispatch=o,[s.memoizedState,o]},useDebugValue:yf,useDeferredValue:function(s,n){var o=Kt();return vf(o,s,n)},useTransition:function(){var s=mf(!1);return s=Mx.bind(null,Ae,s.queue,!0,!1),Kt().memoizedState=s,[!1,s]},useSyncExternalStore:function(s,n,o){var u=Ae,h=Kt();if(Ue){if(o===void 0)throw Error(r(407));o=o()}else{if(o=n(),Ke===null)throw Error(r(349));(Pe&127)!==0||ux(u,n,o)}h.memoizedState=o;var g={value:o,getSnapshot:n};return h.queue=g,kx(fx.bind(null,u,g,s),[s]),u.flags|=2048,si(9,{destroy:void 0},dx.bind(null,u,g,o,n),null),o},useId:function(){var s=Kt(),n=Ke.identifierPrefix;if(Ue){var o=ta,u=ea;o=(u&~(1<<32-It(u)-1)).toString(32)+o,n="_"+n+"R_"+o,o=ac++,0<o&&(n+="H"+o.toString(32)),n+="_"}else o=c_++,n="_"+n+"r_"+o.toString(32)+"_";return s.memoizedState=n},useHostTransitionStatus:wf,useFormState:wx,useActionState:wx,useOptimistic:function(s){var n=Kt();n.memoizedState=n.baseState=s;var o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=o,n=jf.bind(null,Ae,!0,o),o.dispatch=n,[s,n]},useMemoCache:ff,useCacheRefresh:function(){return Kt().memoizedState=m_.bind(null,Ae)},useEffectEvent:function(s){var n=Kt(),o={impl:s};return n.memoizedState=o,function(){if((Be&2)!==0)throw Error(r(440));return o.impl.apply(void 0,arguments)}}},Sf={readContext:Pt,use:rc,useCallback:Dx,useContext:Pt,useEffect:xf,useImperativeHandle:Ox,useInsertionEffect:Ax,useLayoutEffect:Cx,useMemo:Rx,useReducer:ic,useRef:Nx,useState:function(){return ic(Sa)},useDebugValue:yf,useDeferredValue:function(s,n){var o=ht();return Px(o,Ge.memoizedState,s,n)},useTransition:function(){var s=ic(Sa)[0],n=ht().memoizedState;return[typeof s=="boolean"?s:jo(s),n]},useSyncExternalStore:cx,useId:Ix,useHostTransitionStatus:wf,useFormState:jx,useActionState:jx,useOptimistic:function(s,n){var o=ht();return mx(o,Ge,s,n)},useMemoCache:ff,useCacheRefresh:zx};Sf.useEffectEvent=Ex;var Fx={readContext:Pt,use:rc,useCallback:Dx,useContext:Pt,useEffect:xf,useImperativeHandle:Ox,useInsertionEffect:Ax,useLayoutEffect:Cx,useMemo:Rx,useReducer:pf,useRef:Nx,useState:function(){return pf(Sa)},useDebugValue:yf,useDeferredValue:function(s,n){var o=ht();return Ge===null?vf(o,s,n):Px(o,Ge.memoizedState,s,n)},useTransition:function(){var s=pf(Sa)[0],n=ht().memoizedState;return[typeof s=="boolean"?s:jo(s),n]},useSyncExternalStore:cx,useId:Ix,useHostTransitionStatus:wf,useFormState:_x,useActionState:_x,useOptimistic:function(s,n){var o=ht();return Ge!==null?mx(o,Ge,s,n):(o.baseState=s,[s,o.queue.dispatch])},useMemoCache:ff,useCacheRefresh:zx};Fx.useEffectEvent=Ex;function _f(s,n,o,u){n=s.memoizedState,o=o(u,n),o=o==null?n:x({},n,o),s.memoizedState=o,s.lanes===0&&(s.updateQueue.baseState=o)}var Nf={enqueueSetState:function(s,n,o){s=s._reactInternals;var u=ys(),h=Xa(u);h.payload=n,o!=null&&(h.callback=o),n=Ja(s,h,u),n!==null&&(os(n,s,u),yo(n,s,u))},enqueueReplaceState:function(s,n,o){s=s._reactInternals;var u=ys(),h=Xa(u);h.tag=1,h.payload=n,o!=null&&(h.callback=o),n=Ja(s,h,u),n!==null&&(os(n,s,u),yo(n,s,u))},enqueueForceUpdate:function(s,n){s=s._reactInternals;var o=ys(),u=Xa(o);u.tag=2,n!=null&&(u.callback=n),n=Ja(s,u,o),n!==null&&(os(n,s,o),yo(n,s,o))}};function Gx(s,n,o,u,h,g,S){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(u,g,S):n.prototype&&n.prototype.isPureReactComponent?!co(o,u)||!co(h,g):!0}function Vx(s,n,o,u){s=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(o,u),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(o,u),n.state!==s&&Nf.enqueueReplaceState(n,n.state,null)}function er(s,n){var o=n;if("ref"in n){o={};for(var u in n)u!=="ref"&&(o[u]=n[u])}if(s=s.defaultProps){o===n&&(o=x({},o));for(var h in s)o[h]===void 0&&(o[h]=s[h])}return o}function Qx(s){Bl(s)}function Yx(s){console.error(s)}function Kx(s){Bl(s)}function uc(s,n){try{var o=s.onUncaughtError;o(n.value,{componentStack:n.stack})}catch(u){setTimeout(function(){throw u})}}function Wx(s,n,o){try{var u=s.onCaughtError;u(o.value,{componentStack:o.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function kf(s,n,o){return o=Xa(o),o.tag=3,o.payload={element:null},o.callback=function(){uc(s,n)},o}function Xx(s){return s=Xa(s),s.tag=3,s}function Jx(s,n,o,u){var h=o.type.getDerivedStateFromError;if(typeof h=="function"){var g=u.value;s.payload=function(){return h(g)},s.callback=function(){Wx(n,o,u)}}var S=o.stateNode;S!==null&&typeof S.componentDidCatch=="function"&&(s.callback=function(){Wx(n,o,u),typeof h!="function"&&(nn===null?nn=new Set([this]):nn.add(this));var k=u.stack;this.componentDidCatch(u.value,{componentStack:k!==null?k:""})})}function x_(s,n,o,u,h){if(o.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){if(n=o.alternate,n!==null&&Yr(n,o,h,!0),o=ps.current,o!==null){switch(o.tag){case 31:case 13:return Ds===null?jc():o.alternate===null&&ot===0&&(ot=3),o.flags&=-257,o.flags|=65536,o.lanes=h,u===Xl?o.flags|=16384:(n=o.updateQueue,n===null?o.updateQueue=new Set([u]):n.add(u),Xf(s,u,h)),!1;case 22:return o.flags|=65536,u===Xl?o.flags|=16384:(n=o.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([u])},o.updateQueue=n):(o=n.retryQueue,o===null?n.retryQueue=new Set([u]):o.add(u)),Xf(s,u,h)),!1}throw Error(r(435,o.tag))}return Xf(s,u,h),jc(),!1}if(Ue)return n=ps.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=h,u!==Fd&&(s=Error(r(422),{cause:u}),ho(As(s,o)))):(u!==Fd&&(n=Error(r(423),{cause:u}),ho(As(n,o))),s=s.current.alternate,s.flags|=65536,h&=-h,s.lanes|=h,u=As(u,o),h=kf(s.stateNode,u,h),tf(s,h),ot!==4&&(ot=2)),!1;var g=Error(r(520),{cause:u});if(g=As(g,o),Do===null?Do=[g]:Do.push(g),ot!==4&&(ot=2),n===null)return!0;u=As(u,o),o=n;do{switch(o.tag){case 3:return o.flags|=65536,s=h&-h,o.lanes|=s,s=kf(o.stateNode,u,s),tf(o,s),!1;case 1:if(n=o.type,g=o.stateNode,(o.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(nn===null||!nn.has(g))))return o.flags|=65536,h&=-h,o.lanes|=h,h=Xx(h),Jx(h,s,o,u),tf(o,h),!1}o=o.return}while(o!==null);return!1}var Ef=Error(r(461)),yt=!1;function Mt(s,n,o,u){n.child=s===null?sx(n,null,o,u):Jn(n,s.child,o,u)}function Zx(s,n,o,u,h){o=o.render;var g=n.ref;if("ref"in u){var S={};for(var k in u)k!=="ref"&&(S[k]=u[k])}else S=u;return Yn(n),u=lf(s,n,o,S,g,h),k=cf(),s!==null&&!yt?(uf(s,n,h),_a(s,n,h)):(Ue&&k&&Hd(n),n.flags|=1,Mt(s,n,u,h),n.child)}function ey(s,n,o,u,h){if(s===null){var g=o.type;return typeof g=="function"&&!zd(g)&&g.defaultProps===void 0&&o.compare===null?(n.tag=15,n.type=g,ty(s,n,g,u,h)):(s=Gl(o.type,null,u,n,n.mode,h),s.ref=n.ref,s.return=n,n.child=s)}if(g=s.child,!Mf(s,h)){var S=g.memoizedProps;if(o=o.compare,o=o!==null?o:co,o(S,u)&&s.ref===n.ref)return _a(s,n,h)}return n.flags|=1,s=ya(g,u),s.ref=n.ref,s.return=n,n.child=s}function ty(s,n,o,u,h){if(s!==null){var g=s.memoizedProps;if(co(g,u)&&s.ref===n.ref)if(yt=!1,n.pendingProps=u=g,Mf(s,h))(s.flags&131072)!==0&&(yt=!0);else return n.lanes=s.lanes,_a(s,n,h)}return Af(s,n,o,u,h)}function sy(s,n,o,u){var h=u.children,g=s!==null?s.memoizedState:null;if(s===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),u.mode==="hidden"){if((n.flags&128)!==0){if(g=g!==null?g.baseLanes|o:o,s!==null){for(u=n.child=s.child,h=0;u!==null;)h=h|u.lanes|u.childLanes,u=u.sibling;u=h&~g}else u=0,n.child=null;return ay(s,n,g,o,u)}if((o&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},s!==null&&Kl(n,g!==null?g.cachePool:null),g!==null?rx(n,g):af(),ix(n);else return u=n.lanes=536870912,ay(s,n,g!==null?g.baseLanes|o:o,o,u)}else g!==null?(Kl(n,g.cachePool),rx(n,g),en(),n.memoizedState=null):(s!==null&&Kl(n,null),af(),en());return Mt(s,n,h,o),n.child}function No(s,n){return s!==null&&s.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function ay(s,n,o,u,h){var g=Xd();return g=g===null?null:{parent:gt._currentValue,pool:g},n.memoizedState={baseLanes:o,cachePool:g},s!==null&&Kl(n,null),af(),ix(n),s!==null&&Yr(s,n,u,!0),n.childLanes=h,null}function dc(s,n){return n=hc({mode:n.mode,children:n.children},s.mode),n.ref=s.ref,s.child=n,n.return=s,n}function ny(s,n,o){return Jn(n,s.child,null,o),s=dc(n,n.pendingProps),s.flags|=2,ms(n),n.memoizedState=null,s}function y_(s,n,o){var u=n.pendingProps,h=(n.flags&128)!==0;if(n.flags&=-129,s===null){if(Ue){if(u.mode==="hidden")return s=dc(n,u),n.lanes=536870912,No(null,s);if(rf(n),(s=Xe)?(s=g0(s,Os),s=s!==null&&s.data==="&"?s:null,s!==null&&(n.memoizedState={dehydrated:s,treeContext:Va!==null?{id:ea,overflow:ta}:null,retryLane:536870912,hydrationErrors:null},o=Bg(s),o.return=n,n.child=o,Rt=n,Xe=null)):s=null,s===null)throw Ya(n);return n.lanes=536870912,null}return dc(n,u)}var g=s.memoizedState;if(g!==null){var S=g.dehydrated;if(rf(n),h)if(n.flags&256)n.flags&=-257,n=ny(s,n,o);else if(n.memoizedState!==null)n.child=s.child,n.flags|=128,n=null;else throw Error(r(558));else if(yt||Yr(s,n,o,!1),h=(o&s.childLanes)!==0,yt||h){if(u=Ke,u!==null&&(S=es(u,o),S!==0&&S!==g.retryLane))throw g.retryLane=S,Fn(s,S),os(u,s,S),Ef;jc(),n=ny(s,n,o)}else s=g.treeContext,Xe=Rs(S.nextSibling),Rt=n,Ue=!0,Qa=null,Os=!1,s!==null&&Fg(n,s),n=dc(n,u),n.flags|=4096;return n}return s=ya(s.child,{mode:u.mode,children:u.children}),s.ref=n.ref,n.child=s,s.return=n,s}function fc(s,n){var o=n.ref;if(o===null)s!==null&&s.ref!==null&&(n.flags|=4194816);else{if(typeof o!="function"&&typeof o!="object")throw Error(r(284));(s===null||s.ref!==o)&&(n.flags|=4194816)}}function Af(s,n,o,u,h){return Yn(n),o=lf(s,n,o,u,void 0,h),u=cf(),s!==null&&!yt?(uf(s,n,h),_a(s,n,h)):(Ue&&u&&Hd(n),n.flags|=1,Mt(s,n,o,h),n.child)}function ry(s,n,o,u,h,g){return Yn(n),n.updateQueue=null,o=lx(n,u,o,h),ox(s),u=cf(),s!==null&&!yt?(uf(s,n,g),_a(s,n,g)):(Ue&&u&&Hd(n),n.flags|=1,Mt(s,n,o,g),n.child)}function iy(s,n,o,u,h){if(Yn(n),n.stateNode===null){var g=Fr,S=o.contextType;typeof S=="object"&&S!==null&&(g=Pt(S)),g=new o(u,g),n.memoizedState=g.state!==null&&g.state!==void 0?g.state:null,g.updater=Nf,n.stateNode=g,g._reactInternals=n,g=n.stateNode,g.props=u,g.state=n.memoizedState,g.refs={},Zd(n),S=o.contextType,g.context=typeof S=="object"&&S!==null?Pt(S):Fr,g.state=n.memoizedState,S=o.getDerivedStateFromProps,typeof S=="function"&&(_f(n,o,S,u),g.state=n.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof g.getSnapshotBeforeUpdate=="function"||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(S=g.state,typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount(),S!==g.state&&Nf.enqueueReplaceState(g,g.state,null),bo(n,u,g,h),vo(),g.state=n.memoizedState),typeof g.componentDidMount=="function"&&(n.flags|=4194308),u=!0}else if(s===null){g=n.stateNode;var k=n.memoizedProps,U=er(o,k);g.props=U;var Q=g.context,te=o.contextType;S=Fr,typeof te=="object"&&te!==null&&(S=Pt(te));var ne=o.getDerivedStateFromProps;te=typeof ne=="function"||typeof g.getSnapshotBeforeUpdate=="function",k=n.pendingProps!==k,te||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(k||Q!==S)&&Vx(n,g,u,S),Wa=!1;var W=n.memoizedState;g.state=W,bo(n,u,g,h),vo(),Q=n.memoizedState,k||W!==Q||Wa?(typeof ne=="function"&&(_f(n,o,ne,u),Q=n.memoizedState),(U=Wa||Gx(n,o,U,u,W,Q,S))?(te||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount()),typeof g.componentDidMount=="function"&&(n.flags|=4194308)):(typeof g.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=u,n.memoizedState=Q),g.props=u,g.state=Q,g.context=S,u=U):(typeof g.componentDidMount=="function"&&(n.flags|=4194308),u=!1)}else{g=n.stateNode,ef(s,n),S=n.memoizedProps,te=er(o,S),g.props=te,ne=n.pendingProps,W=g.context,Q=o.contextType,U=Fr,typeof Q=="object"&&Q!==null&&(U=Pt(Q)),k=o.getDerivedStateFromProps,(Q=typeof k=="function"||typeof g.getSnapshotBeforeUpdate=="function")||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(S!==ne||W!==U)&&Vx(n,g,u,U),Wa=!1,W=n.memoizedState,g.state=W,bo(n,u,g,h),vo();var J=n.memoizedState;S!==ne||W!==J||Wa||s!==null&&s.dependencies!==null&&Ql(s.dependencies)?(typeof k=="function"&&(_f(n,o,k,u),J=n.memoizedState),(te=Wa||Gx(n,o,te,u,W,J,U)||s!==null&&s.dependencies!==null&&Ql(s.dependencies))?(Q||typeof g.UNSAFE_componentWillUpdate!="function"&&typeof g.componentWillUpdate!="function"||(typeof g.componentWillUpdate=="function"&&g.componentWillUpdate(u,J,U),typeof g.UNSAFE_componentWillUpdate=="function"&&g.UNSAFE_componentWillUpdate(u,J,U)),typeof g.componentDidUpdate=="function"&&(n.flags|=4),typeof g.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof g.componentDidUpdate!="function"||S===s.memoizedProps&&W===s.memoizedState||(n.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||S===s.memoizedProps&&W===s.memoizedState||(n.flags|=1024),n.memoizedProps=u,n.memoizedState=J),g.props=u,g.state=J,g.context=U,u=te):(typeof g.componentDidUpdate!="function"||S===s.memoizedProps&&W===s.memoizedState||(n.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||S===s.memoizedProps&&W===s.memoizedState||(n.flags|=1024),u=!1)}return g=u,fc(s,n),u=(n.flags&128)!==0,g||u?(g=n.stateNode,o=u&&typeof o.getDerivedStateFromError!="function"?null:g.render(),n.flags|=1,s!==null&&u?(n.child=Jn(n,s.child,null,h),n.child=Jn(n,null,o,h)):Mt(s,n,o,h),n.memoizedState=g.state,s=n.child):s=_a(s,n,h),s}function oy(s,n,o,u){return Vn(),n.flags|=256,Mt(s,n,o,u),n.child}var Cf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Tf(s){return{baseLanes:s,cachePool:Wg()}}function Of(s,n,o){return s=s!==null?s.childLanes&~o:0,n&&(s|=xs),s}function ly(s,n,o){var u=n.pendingProps,h=!1,g=(n.flags&128)!==0,S;if((S=g)||(S=s!==null&&s.memoizedState===null?!1:(ft.current&2)!==0),S&&(h=!0,n.flags&=-129),S=(n.flags&32)!==0,n.flags&=-33,s===null){if(Ue){if(h?Za(n):en(),(s=Xe)?(s=g0(s,Os),s=s!==null&&s.data!=="&"?s:null,s!==null&&(n.memoizedState={dehydrated:s,treeContext:Va!==null?{id:ea,overflow:ta}:null,retryLane:536870912,hydrationErrors:null},o=Bg(s),o.return=n,n.child=o,Rt=n,Xe=null)):s=null,s===null)throw Ya(n);return hh(s)?n.lanes=32:n.lanes=536870912,null}var k=u.children;return u=u.fallback,h?(en(),h=n.mode,k=hc({mode:"hidden",children:k},h),u=Gn(u,h,o,null),k.return=n,u.return=n,k.sibling=u,n.child=k,u=n.child,u.memoizedState=Tf(o),u.childLanes=Of(s,S,o),n.memoizedState=Cf,No(null,u)):(Za(n),Df(n,k))}var U=s.memoizedState;if(U!==null&&(k=U.dehydrated,k!==null)){if(g)n.flags&256?(Za(n),n.flags&=-257,n=Rf(s,n,o)):n.memoizedState!==null?(en(),n.child=s.child,n.flags|=128,n=null):(en(),k=u.fallback,h=n.mode,u=hc({mode:"visible",children:u.children},h),k=Gn(k,h,o,null),k.flags|=2,u.return=n,k.return=n,u.sibling=k,n.child=u,Jn(n,s.child,null,o),u=n.child,u.memoizedState=Tf(o),u.childLanes=Of(s,S,o),n.memoizedState=Cf,n=No(null,u));else if(Za(n),hh(k)){if(S=k.nextSibling&&k.nextSibling.dataset,S)var Q=S.dgst;S=Q,u=Error(r(419)),u.stack="",u.digest=S,ho({value:u,source:null,stack:null}),n=Rf(s,n,o)}else if(yt||Yr(s,n,o,!1),S=(o&s.childLanes)!==0,yt||S){if(S=Ke,S!==null&&(u=es(S,o),u!==0&&u!==U.retryLane))throw U.retryLane=u,Fn(s,u),os(S,s,u),Ef;fh(k)||jc(),n=Rf(s,n,o)}else fh(k)?(n.flags|=192,n.child=s.child,n=null):(s=U.treeContext,Xe=Rs(k.nextSibling),Rt=n,Ue=!0,Qa=null,Os=!1,s!==null&&Fg(n,s),n=Df(n,u.children),n.flags|=4096);return n}return h?(en(),k=u.fallback,h=n.mode,U=s.child,Q=U.sibling,u=ya(U,{mode:"hidden",children:u.children}),u.subtreeFlags=U.subtreeFlags&65011712,Q!==null?k=ya(Q,k):(k=Gn(k,h,o,null),k.flags|=2),k.return=n,u.return=n,u.sibling=k,n.child=u,No(null,u),u=n.child,k=s.child.memoizedState,k===null?k=Tf(o):(h=k.cachePool,h!==null?(U=gt._currentValue,h=h.parent!==U?{parent:U,pool:U}:h):h=Wg(),k={baseLanes:k.baseLanes|o,cachePool:h}),u.memoizedState=k,u.childLanes=Of(s,S,o),n.memoizedState=Cf,No(s.child,u)):(Za(n),o=s.child,s=o.sibling,o=ya(o,{mode:"visible",children:u.children}),o.return=n,o.sibling=null,s!==null&&(S=n.deletions,S===null?(n.deletions=[s],n.flags|=16):S.push(s)),n.child=o,n.memoizedState=null,o)}function Df(s,n){return n=hc({mode:"visible",children:n},s.mode),n.return=s,s.child=n}function hc(s,n){return s=hs(22,s,null,n),s.lanes=0,s}function Rf(s,n,o){return Jn(n,s.child,null,o),s=Df(n,n.pendingProps.children),s.flags|=2,n.memoizedState=null,s}function cy(s,n,o){s.lanes|=n;var u=s.alternate;u!==null&&(u.lanes|=n),Qd(s.return,n,o)}function Pf(s,n,o,u,h,g){var S=s.memoizedState;S===null?s.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:u,tail:o,tailMode:h,treeForkCount:g}:(S.isBackwards=n,S.rendering=null,S.renderingStartTime=0,S.last=u,S.tail=o,S.tailMode=h,S.treeForkCount=g)}function uy(s,n,o){var u=n.pendingProps,h=u.revealOrder,g=u.tail;u=u.children;var S=ft.current,k=(S&2)!==0;if(k?(S=S&1|2,n.flags|=128):S&=1,K(ft,S),Mt(s,n,u,o),u=Ue?fo:0,!k&&s!==null&&(s.flags&128)!==0)e:for(s=n.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&cy(s,o,n);else if(s.tag===19)cy(s,o,n);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===n)break e;for(;s.sibling===null;){if(s.return===null||s.return===n)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}switch(h){case"forwards":for(o=n.child,h=null;o!==null;)s=o.alternate,s!==null&&tc(s)===null&&(h=o),o=o.sibling;o=h,o===null?(h=n.child,n.child=null):(h=o.sibling,o.sibling=null),Pf(n,!1,h,o,g,u);break;case"backwards":case"unstable_legacy-backwards":for(o=null,h=n.child,n.child=null;h!==null;){if(s=h.alternate,s!==null&&tc(s)===null){n.child=h;break}s=h.sibling,h.sibling=o,o=h,h=s}Pf(n,!0,o,null,g,u);break;case"together":Pf(n,!1,null,null,void 0,u);break;default:n.memoizedState=null}return n.child}function _a(s,n,o){if(s!==null&&(n.dependencies=s.dependencies),an|=n.lanes,(o&n.childLanes)===0)if(s!==null){if(Yr(s,n,o,!1),(o&n.childLanes)===0)return null}else return null;if(s!==null&&n.child!==s.child)throw Error(r(153));if(n.child!==null){for(s=n.child,o=ya(s,s.pendingProps),n.child=o,o.return=n;s.sibling!==null;)s=s.sibling,o=o.sibling=ya(s,s.pendingProps),o.return=n;o.sibling=null}return n.child}function Mf(s,n){return(s.lanes&n)!==0?!0:(s=s.dependencies,!!(s!==null&&Ql(s)))}function v_(s,n,o){switch(n.tag){case 3:xe(n,n.stateNode.containerInfo),Ka(n,gt,s.memoizedState.cache),Vn();break;case 27:case 5:dt(n);break;case 4:xe(n,n.stateNode.containerInfo);break;case 10:Ka(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,rf(n),null;break;case 13:var u=n.memoizedState;if(u!==null)return u.dehydrated!==null?(Za(n),n.flags|=128,null):(o&n.child.childLanes)!==0?ly(s,n,o):(Za(n),s=_a(s,n,o),s!==null?s.sibling:null);Za(n);break;case 19:var h=(s.flags&128)!==0;if(u=(o&n.childLanes)!==0,u||(Yr(s,n,o,!1),u=(o&n.childLanes)!==0),h){if(u)return uy(s,n,o);n.flags|=128}if(h=n.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),K(ft,ft.current),u)break;return null;case 22:return n.lanes=0,sy(s,n,o,n.pendingProps);case 24:Ka(n,gt,s.memoizedState.cache)}return _a(s,n,o)}function dy(s,n,o){if(s!==null)if(s.memoizedProps!==n.pendingProps)yt=!0;else{if(!Mf(s,o)&&(n.flags&128)===0)return yt=!1,v_(s,n,o);yt=(s.flags&131072)!==0}else yt=!1,Ue&&(n.flags&1048576)!==0&&$g(n,fo,n.index);switch(n.lanes=0,n.tag){case 16:e:{var u=n.pendingProps;if(s=Wn(n.elementType),n.type=s,typeof s=="function")zd(s)?(u=er(s,u),n.tag=1,n=iy(null,n,s,u,o)):(n.tag=0,n=Af(null,n,s,u,o));else{if(s!=null){var h=s.$$typeof;if(h===I){n.tag=11,n=Zx(null,n,s,u,o);break e}else if(h===O){n.tag=14,n=ey(null,n,s,u,o);break e}}throw n=R(s)||s,Error(r(306,n,""))}}return n;case 0:return Af(s,n,n.type,n.pendingProps,o);case 1:return u=n.type,h=er(u,n.pendingProps),iy(s,n,u,h,o);case 3:e:{if(xe(n,n.stateNode.containerInfo),s===null)throw Error(r(387));u=n.pendingProps;var g=n.memoizedState;h=g.element,ef(s,n),bo(n,u,null,o);var S=n.memoizedState;if(u=S.cache,Ka(n,gt,u),u!==g.cache&&Yd(n,[gt],o,!0),vo(),u=S.element,g.isDehydrated)if(g={element:u,isDehydrated:!1,cache:S.cache},n.updateQueue.baseState=g,n.memoizedState=g,n.flags&256){n=oy(s,n,u,o);break e}else if(u!==h){h=As(Error(r(424)),n),ho(h),n=oy(s,n,u,o);break e}else{switch(s=n.stateNode.containerInfo,s.nodeType){case 9:s=s.body;break;default:s=s.nodeName==="HTML"?s.ownerDocument.body:s}for(Xe=Rs(s.firstChild),Rt=n,Ue=!0,Qa=null,Os=!0,o=sx(n,null,u,o),n.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling}else{if(Vn(),u===h){n=_a(s,n,o);break e}Mt(s,n,u,o)}n=n.child}return n;case 26:return fc(s,n),s===null?(o=j0(n.type,null,n.pendingProps,null))?n.memoizedState=o:Ue||(o=n.type,s=n.pendingProps,u=Cc(ce.current).createElement(o),u[Dt]=n,u[ts]=s,Lt(u,o,s),At(u),n.stateNode=u):n.memoizedState=j0(n.type,s.memoizedProps,n.pendingProps,s.memoizedState),null;case 27:return dt(n),s===null&&Ue&&(u=n.stateNode=v0(n.type,n.pendingProps,ce.current),Rt=n,Os=!0,h=Xe,cn(n.type)?(ph=h,Xe=Rs(u.firstChild)):Xe=h),Mt(s,n,n.pendingProps.children,o),fc(s,n),s===null&&(n.flags|=4194304),n.child;case 5:return s===null&&Ue&&((h=u=Xe)&&(u=K_(u,n.type,n.pendingProps,Os),u!==null?(n.stateNode=u,Rt=n,Xe=Rs(u.firstChild),Os=!1,h=!0):h=!1),h||Ya(n)),dt(n),h=n.type,g=n.pendingProps,S=s!==null?s.memoizedProps:null,u=g.children,ch(h,g)?u=null:S!==null&&ch(h,S)&&(n.flags|=32),n.memoizedState!==null&&(h=lf(s,n,u_,null,null,o),qo._currentValue=h),fc(s,n),Mt(s,n,u,o),n.child;case 6:return s===null&&Ue&&((s=o=Xe)&&(o=W_(o,n.pendingProps,Os),o!==null?(n.stateNode=o,Rt=n,Xe=null,s=!0):s=!1),s||Ya(n)),null;case 13:return ly(s,n,o);case 4:return xe(n,n.stateNode.containerInfo),u=n.pendingProps,s===null?n.child=Jn(n,null,u,o):Mt(s,n,u,o),n.child;case 11:return Zx(s,n,n.type,n.pendingProps,o);case 7:return Mt(s,n,n.pendingProps,o),n.child;case 8:return Mt(s,n,n.pendingProps.children,o),n.child;case 12:return Mt(s,n,n.pendingProps.children,o),n.child;case 10:return u=n.pendingProps,Ka(n,n.type,u.value),Mt(s,n,u.children,o),n.child;case 9:return h=n.type._context,u=n.pendingProps.children,Yn(n),h=Pt(h),u=u(h),n.flags|=1,Mt(s,n,u,o),n.child;case 14:return ey(s,n,n.type,n.pendingProps,o);case 15:return ty(s,n,n.type,n.pendingProps,o);case 19:return uy(s,n,o);case 31:return y_(s,n,o);case 22:return sy(s,n,o,n.pendingProps);case 24:return Yn(n),u=Pt(gt),s===null?(h=Xd(),h===null&&(h=Ke,g=Kd(),h.pooledCache=g,g.refCount++,g!==null&&(h.pooledCacheLanes|=o),h=g),n.memoizedState={parent:u,cache:h},Zd(n),Ka(n,gt,h)):((s.lanes&o)!==0&&(ef(s,n),bo(n,null,null,o),vo()),h=s.memoizedState,g=n.memoizedState,h.parent!==u?(h={parent:u,cache:u},n.memoizedState=h,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=h),Ka(n,gt,u)):(u=g.cache,Ka(n,gt,u),u!==h.cache&&Yd(n,[gt],o,!0))),Mt(s,n,n.pendingProps.children,o),n.child;case 29:throw n.pendingProps}throw Error(r(156,n.tag))}function Na(s){s.flags|=4}function Lf(s,n,o,u,h){if((n=(s.mode&32)!==0)&&(n=!1),n){if(s.flags|=16777216,(h&335544128)===h)if(s.stateNode.complete)s.flags|=8192;else if(Iy())s.flags|=8192;else throw Xn=Xl,Jd}else s.flags&=-16777217}function fy(s,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)s.flags&=-16777217;else if(s.flags|=16777216,!E0(n))if(Iy())s.flags|=8192;else throw Xn=Xl,Jd}function pc(s,n){n!==null&&(s.flags|=4),s.flags&16384&&(n=s.tag!==22?zt():536870912,s.lanes|=n,ii|=n)}function ko(s,n){if(!Ue)switch(s.tailMode){case"hidden":n=s.tail;for(var o=null;n!==null;)n.alternate!==null&&(o=n),n=n.sibling;o===null?s.tail=null:o.sibling=null;break;case"collapsed":o=s.tail;for(var u=null;o!==null;)o.alternate!==null&&(u=o),o=o.sibling;u===null?n||s.tail===null?s.tail=null:s.tail.sibling=null:u.sibling=null}}function Je(s){var n=s.alternate!==null&&s.alternate.child===s.child,o=0,u=0;if(n)for(var h=s.child;h!==null;)o|=h.lanes|h.childLanes,u|=h.subtreeFlags&65011712,u|=h.flags&65011712,h.return=s,h=h.sibling;else for(h=s.child;h!==null;)o|=h.lanes|h.childLanes,u|=h.subtreeFlags,u|=h.flags,h.return=s,h=h.sibling;return s.subtreeFlags|=u,s.childLanes=o,n}function b_(s,n,o){var u=n.pendingProps;switch($d(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Je(n),null;case 1:return Je(n),null;case 3:return o=n.stateNode,u=null,s!==null&&(u=s.memoizedState.cache),n.memoizedState.cache!==u&&(n.flags|=2048),wa(gt),Ee(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(s===null||s.child===null)&&(Qr(n)?Na(n):s===null||s.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,Gd())),Je(n),null;case 26:var h=n.type,g=n.memoizedState;return s===null?(Na(n),g!==null?(Je(n),fy(n,g)):(Je(n),Lf(n,h,null,u,o))):g?g!==s.memoizedState?(Na(n),Je(n),fy(n,g)):(Je(n),n.flags&=-16777217):(s=s.memoizedProps,s!==u&&Na(n),Je(n),Lf(n,h,s,u,o)),null;case 27:if(jt(n),o=ce.current,h=n.type,s!==null&&n.stateNode!=null)s.memoizedProps!==u&&Na(n);else{if(!u){if(n.stateNode===null)throw Error(r(166));return Je(n),null}s=F.current,Qr(n)?Gg(n):(s=v0(h,u,o),n.stateNode=s,Na(n))}return Je(n),null;case 5:if(jt(n),h=n.type,s!==null&&n.stateNode!=null)s.memoizedProps!==u&&Na(n);else{if(!u){if(n.stateNode===null)throw Error(r(166));return Je(n),null}if(g=F.current,Qr(n))Gg(n);else{var S=Cc(ce.current);switch(g){case 1:g=S.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:g=S.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":g=S.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":g=S.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":g=S.createElement("div"),g.innerHTML="<script><\/script>",g=g.removeChild(g.firstChild);break;case"select":g=typeof u.is=="string"?S.createElement("select",{is:u.is}):S.createElement("select"),u.multiple?g.multiple=!0:u.size&&(g.size=u.size);break;default:g=typeof u.is=="string"?S.createElement(h,{is:u.is}):S.createElement(h)}}g[Dt]=n,g[ts]=u;e:for(S=n.child;S!==null;){if(S.tag===5||S.tag===6)g.appendChild(S.stateNode);else if(S.tag!==4&&S.tag!==27&&S.child!==null){S.child.return=S,S=S.child;continue}if(S===n)break e;for(;S.sibling===null;){if(S.return===null||S.return===n)break e;S=S.return}S.sibling.return=S.return,S=S.sibling}n.stateNode=g;e:switch(Lt(g,h,u),h){case"button":case"input":case"select":case"textarea":u=!!u.autoFocus;break e;case"img":u=!0;break e;default:u=!1}u&&Na(n)}}return Je(n),Lf(n,n.type,s===null?null:s.memoizedProps,n.pendingProps,o),null;case 6:if(s&&n.stateNode!=null)s.memoizedProps!==u&&Na(n);else{if(typeof u!="string"&&n.stateNode===null)throw Error(r(166));if(s=ce.current,Qr(n)){if(s=n.stateNode,o=n.memoizedProps,u=null,h=Rt,h!==null)switch(h.tag){case 27:case 5:u=h.memoizedProps}s[Dt]=n,s=!!(s.nodeValue===o||u!==null&&u.suppressHydrationWarning===!0||l0(s.nodeValue,o)),s||Ya(n,!0)}else s=Cc(s).createTextNode(u),s[Dt]=n,n.stateNode=s}return Je(n),null;case 31:if(o=n.memoizedState,s===null||s.memoizedState!==null){if(u=Qr(n),o!==null){if(s===null){if(!u)throw Error(r(318));if(s=n.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(r(557));s[Dt]=n}else Vn(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;Je(n),s=!1}else o=Gd(),s!==null&&s.memoizedState!==null&&(s.memoizedState.hydrationErrors=o),s=!0;if(!s)return n.flags&256?(ms(n),n):(ms(n),null);if((n.flags&128)!==0)throw Error(r(558))}return Je(n),null;case 13:if(u=n.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(h=Qr(n),u!==null&&u.dehydrated!==null){if(s===null){if(!h)throw Error(r(318));if(h=n.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(r(317));h[Dt]=n}else Vn(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;Je(n),h=!1}else h=Gd(),s!==null&&s.memoizedState!==null&&(s.memoizedState.hydrationErrors=h),h=!0;if(!h)return n.flags&256?(ms(n),n):(ms(n),null)}return ms(n),(n.flags&128)!==0?(n.lanes=o,n):(o=u!==null,s=s!==null&&s.memoizedState!==null,o&&(u=n.child,h=null,u.alternate!==null&&u.alternate.memoizedState!==null&&u.alternate.memoizedState.cachePool!==null&&(h=u.alternate.memoizedState.cachePool.pool),g=null,u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(g=u.memoizedState.cachePool.pool),g!==h&&(u.flags|=2048)),o!==s&&o&&(n.child.flags|=8192),pc(n,n.updateQueue),Je(n),null);case 4:return Ee(),s===null&&nh(n.stateNode.containerInfo),Je(n),null;case 10:return wa(n.type),Je(n),null;case 19:if(Z(ft),u=n.memoizedState,u===null)return Je(n),null;if(h=(n.flags&128)!==0,g=u.rendering,g===null)if(h)ko(u,!1);else{if(ot!==0||s!==null&&(s.flags&128)!==0)for(s=n.child;s!==null;){if(g=tc(s),g!==null){for(n.flags|=128,ko(u,!1),s=g.updateQueue,n.updateQueue=s,pc(n,s),n.subtreeFlags=0,s=o,o=n.child;o!==null;)qg(o,s),o=o.sibling;return K(ft,ft.current&1|2),Ue&&va(n,u.treeForkCount),n.child}s=s.sibling}u.tail!==null&&Qt()>vc&&(n.flags|=128,h=!0,ko(u,!1),n.lanes=4194304)}else{if(!h)if(s=tc(g),s!==null){if(n.flags|=128,h=!0,s=s.updateQueue,n.updateQueue=s,pc(n,s),ko(u,!0),u.tail===null&&u.tailMode==="hidden"&&!g.alternate&&!Ue)return Je(n),null}else 2*Qt()-u.renderingStartTime>vc&&o!==536870912&&(n.flags|=128,h=!0,ko(u,!1),n.lanes=4194304);u.isBackwards?(g.sibling=n.child,n.child=g):(s=u.last,s!==null?s.sibling=g:n.child=g,u.last=g)}return u.tail!==null?(s=u.tail,u.rendering=s,u.tail=s.sibling,u.renderingStartTime=Qt(),s.sibling=null,o=ft.current,K(ft,h?o&1|2:o&1),Ue&&va(n,u.treeForkCount),s):(Je(n),null);case 22:case 23:return ms(n),nf(),u=n.memoizedState!==null,s!==null?s.memoizedState!==null!==u&&(n.flags|=8192):u&&(n.flags|=8192),u?(o&536870912)!==0&&(n.flags&128)===0&&(Je(n),n.subtreeFlags&6&&(n.flags|=8192)):Je(n),o=n.updateQueue,o!==null&&pc(n,o.retryQueue),o=null,s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(o=s.memoizedState.cachePool.pool),u=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(u=n.memoizedState.cachePool.pool),u!==o&&(n.flags|=2048),s!==null&&Z(Kn),null;case 24:return o=null,s!==null&&(o=s.memoizedState.cache),n.memoizedState.cache!==o&&(n.flags|=2048),wa(gt),Je(n),null;case 25:return null;case 30:return null}throw Error(r(156,n.tag))}function w_(s,n){switch($d(n),n.tag){case 1:return s=n.flags,s&65536?(n.flags=s&-65537|128,n):null;case 3:return wa(gt),Ee(),s=n.flags,(s&65536)!==0&&(s&128)===0?(n.flags=s&-65537|128,n):null;case 26:case 27:case 5:return jt(n),null;case 31:if(n.memoizedState!==null){if(ms(n),n.alternate===null)throw Error(r(340));Vn()}return s=n.flags,s&65536?(n.flags=s&-65537|128,n):null;case 13:if(ms(n),s=n.memoizedState,s!==null&&s.dehydrated!==null){if(n.alternate===null)throw Error(r(340));Vn()}return s=n.flags,s&65536?(n.flags=s&-65537|128,n):null;case 19:return Z(ft),null;case 4:return Ee(),null;case 10:return wa(n.type),null;case 22:case 23:return ms(n),nf(),s!==null&&Z(Kn),s=n.flags,s&65536?(n.flags=s&-65537|128,n):null;case 24:return wa(gt),null;case 25:return null;default:return null}}function hy(s,n){switch($d(n),n.tag){case 3:wa(gt),Ee();break;case 26:case 27:case 5:jt(n);break;case 4:Ee();break;case 31:n.memoizedState!==null&&ms(n);break;case 13:ms(n);break;case 19:Z(ft);break;case 10:wa(n.type);break;case 22:case 23:ms(n),nf(),s!==null&&Z(Kn);break;case 24:wa(gt)}}function Eo(s,n){try{var o=n.updateQueue,u=o!==null?o.lastEffect:null;if(u!==null){var h=u.next;o=h;do{if((o.tag&s)===s){u=void 0;var g=o.create,S=o.inst;u=g(),S.destroy=u}o=o.next}while(o!==h)}}catch(k){$e(n,n.return,k)}}function tn(s,n,o){try{var u=n.updateQueue,h=u!==null?u.lastEffect:null;if(h!==null){var g=h.next;u=g;do{if((u.tag&s)===s){var S=u.inst,k=S.destroy;if(k!==void 0){S.destroy=void 0,h=n;var U=o,Q=k;try{Q()}catch(te){$e(h,U,te)}}}u=u.next}while(u!==g)}}catch(te){$e(n,n.return,te)}}function py(s){var n=s.updateQueue;if(n!==null){var o=s.stateNode;try{nx(n,o)}catch(u){$e(s,s.return,u)}}}function my(s,n,o){o.props=er(s.type,s.memoizedProps),o.state=s.memoizedState;try{o.componentWillUnmount()}catch(u){$e(s,n,u)}}function Ao(s,n){try{var o=s.ref;if(o!==null){switch(s.tag){case 26:case 27:case 5:var u=s.stateNode;break;case 30:u=s.stateNode;break;default:u=s.stateNode}typeof o=="function"?s.refCleanup=o(u):o.current=u}}catch(h){$e(s,n,h)}}function sa(s,n){var o=s.ref,u=s.refCleanup;if(o!==null)if(typeof u=="function")try{u()}catch(h){$e(s,n,h)}finally{s.refCleanup=null,s=s.alternate,s!=null&&(s.refCleanup=null)}else if(typeof o=="function")try{o(null)}catch(h){$e(s,n,h)}else o.current=null}function gy(s){var n=s.type,o=s.memoizedProps,u=s.stateNode;try{e:switch(n){case"button":case"input":case"select":case"textarea":o.autoFocus&&u.focus();break e;case"img":o.src?u.src=o.src:o.srcSet&&(u.srcset=o.srcSet)}}catch(h){$e(s,s.return,h)}}function Uf(s,n,o){try{var u=s.stateNode;$_(u,s.type,o,n),u[ts]=n}catch(h){$e(s,s.return,h)}}function xy(s){return s.tag===5||s.tag===3||s.tag===26||s.tag===27&&cn(s.type)||s.tag===4}function If(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||xy(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.tag===27&&cn(s.type)||s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function zf(s,n,o){var u=s.tag;if(u===5||u===6)s=s.stateNode,n?(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o).insertBefore(s,n):(n=o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,n.appendChild(s),o=o._reactRootContainer,o!=null||n.onclick!==null||(n.onclick=ga));else if(u!==4&&(u===27&&cn(s.type)&&(o=s.stateNode,n=null),s=s.child,s!==null))for(zf(s,n,o),s=s.sibling;s!==null;)zf(s,n,o),s=s.sibling}function mc(s,n,o){var u=s.tag;if(u===5||u===6)s=s.stateNode,n?o.insertBefore(s,n):o.appendChild(s);else if(u!==4&&(u===27&&cn(s.type)&&(o=s.stateNode),s=s.child,s!==null))for(mc(s,n,o),s=s.sibling;s!==null;)mc(s,n,o),s=s.sibling}function yy(s){var n=s.stateNode,o=s.memoizedProps;try{for(var u=s.type,h=n.attributes;h.length;)n.removeAttributeNode(h[0]);Lt(n,u,o),n[Dt]=s,n[ts]=o}catch(g){$e(s,s.return,g)}}var ka=!1,vt=!1,qf=!1,vy=typeof WeakSet=="function"?WeakSet:Set,Ct=null;function j_(s,n){if(s=s.containerInfo,oh=Lc,s=Og(s),Dd(s)){if("selectionStart"in s)var o={start:s.selectionStart,end:s.selectionEnd};else e:{o=(o=s.ownerDocument)&&o.defaultView||window;var u=o.getSelection&&o.getSelection();if(u&&u.rangeCount!==0){o=u.anchorNode;var h=u.anchorOffset,g=u.focusNode;u=u.focusOffset;try{o.nodeType,g.nodeType}catch{o=null;break e}var S=0,k=-1,U=-1,Q=0,te=0,ne=s,W=null;t:for(;;){for(var J;ne!==o||h!==0&&ne.nodeType!==3||(k=S+h),ne!==g||u!==0&&ne.nodeType!==3||(U=S+u),ne.nodeType===3&&(S+=ne.nodeValue.length),(J=ne.firstChild)!==null;)W=ne,ne=J;for(;;){if(ne===s)break t;if(W===o&&++Q===h&&(k=S),W===g&&++te===u&&(U=S),(J=ne.nextSibling)!==null)break;ne=W,W=ne.parentNode}ne=J}o=k===-1||U===-1?null:{start:k,end:U}}else o=null}o=o||{start:0,end:0}}else o=null;for(lh={focusedElem:s,selectionRange:o},Lc=!1,Ct=n;Ct!==null;)if(n=Ct,s=n.child,(n.subtreeFlags&1028)!==0&&s!==null)s.return=n,Ct=s;else for(;Ct!==null;){switch(n=Ct,g=n.alternate,s=n.flags,n.tag){case 0:if((s&4)!==0&&(s=n.updateQueue,s=s!==null?s.events:null,s!==null))for(o=0;o<s.length;o++)h=s[o],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((s&1024)!==0&&g!==null){s=void 0,o=n,h=g.memoizedProps,g=g.memoizedState,u=o.stateNode;try{var pe=er(o.type,h);s=u.getSnapshotBeforeUpdate(pe,g),u.__reactInternalSnapshotBeforeUpdate=s}catch(Se){$e(o,o.return,Se)}}break;case 3:if((s&1024)!==0){if(s=n.stateNode.containerInfo,o=s.nodeType,o===9)dh(s);else if(o===1)switch(s.nodeName){case"HEAD":case"HTML":case"BODY":dh(s);break;default:s.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((s&1024)!==0)throw Error(r(163))}if(s=n.sibling,s!==null){s.return=n.return,Ct=s;break}Ct=n.return}}function by(s,n,o){var u=o.flags;switch(o.tag){case 0:case 11:case 15:Aa(s,o),u&4&&Eo(5,o);break;case 1:if(Aa(s,o),u&4)if(s=o.stateNode,n===null)try{s.componentDidMount()}catch(S){$e(o,o.return,S)}else{var h=er(o.type,n.memoizedProps);n=n.memoizedState;try{s.componentDidUpdate(h,n,s.__reactInternalSnapshotBeforeUpdate)}catch(S){$e(o,o.return,S)}}u&64&&py(o),u&512&&Ao(o,o.return);break;case 3:if(Aa(s,o),u&64&&(s=o.updateQueue,s!==null)){if(n=null,o.child!==null)switch(o.child.tag){case 27:case 5:n=o.child.stateNode;break;case 1:n=o.child.stateNode}try{nx(s,n)}catch(S){$e(o,o.return,S)}}break;case 27:n===null&&u&4&&yy(o);case 26:case 5:Aa(s,o),n===null&&u&4&&gy(o),u&512&&Ao(o,o.return);break;case 12:Aa(s,o);break;case 31:Aa(s,o),u&4&&Sy(s,o);break;case 13:Aa(s,o),u&4&&_y(s,o),u&64&&(s=o.memoizedState,s!==null&&(s=s.dehydrated,s!==null&&(o=O_.bind(null,o),X_(s,o))));break;case 22:if(u=o.memoizedState!==null||ka,!u){n=n!==null&&n.memoizedState!==null||vt,h=ka;var g=vt;ka=u,(vt=n)&&!g?Ca(s,o,(o.subtreeFlags&8772)!==0):Aa(s,o),ka=h,vt=g}break;case 30:break;default:Aa(s,o)}}function wy(s){var n=s.alternate;n!==null&&(s.alternate=null,wy(n)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(n=s.stateNode,n!==null&&md(n)),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}var tt=null,as=!1;function Ea(s,n,o){for(o=o.child;o!==null;)jy(s,n,o),o=o.sibling}function jy(s,n,o){if(Yt&&typeof Yt.onCommitFiberUnmount=="function")try{Yt.onCommitFiberUnmount(Un,o)}catch{}switch(o.tag){case 26:vt||sa(o,n),Ea(s,n,o),o.memoizedState?o.memoizedState.count--:o.stateNode&&(o=o.stateNode,o.parentNode.removeChild(o));break;case 27:vt||sa(o,n);var u=tt,h=as;cn(o.type)&&(tt=o.stateNode,as=!1),Ea(s,n,o),Uo(o.stateNode),tt=u,as=h;break;case 5:vt||sa(o,n);case 6:if(u=tt,h=as,tt=null,Ea(s,n,o),tt=u,as=h,tt!==null)if(as)try{(tt.nodeType===9?tt.body:tt.nodeName==="HTML"?tt.ownerDocument.body:tt).removeChild(o.stateNode)}catch(g){$e(o,n,g)}else try{tt.removeChild(o.stateNode)}catch(g){$e(o,n,g)}break;case 18:tt!==null&&(as?(s=tt,p0(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,o.stateNode),pi(s)):p0(tt,o.stateNode));break;case 4:u=tt,h=as,tt=o.stateNode.containerInfo,as=!0,Ea(s,n,o),tt=u,as=h;break;case 0:case 11:case 14:case 15:tn(2,o,n),vt||tn(4,o,n),Ea(s,n,o);break;case 1:vt||(sa(o,n),u=o.stateNode,typeof u.componentWillUnmount=="function"&&my(o,n,u)),Ea(s,n,o);break;case 21:Ea(s,n,o);break;case 22:vt=(u=vt)||o.memoizedState!==null,Ea(s,n,o),vt=u;break;default:Ea(s,n,o)}}function Sy(s,n){if(n.memoizedState===null&&(s=n.alternate,s!==null&&(s=s.memoizedState,s!==null))){s=s.dehydrated;try{pi(s)}catch(o){$e(n,n.return,o)}}}function _y(s,n){if(n.memoizedState===null&&(s=n.alternate,s!==null&&(s=s.memoizedState,s!==null&&(s=s.dehydrated,s!==null))))try{pi(s)}catch(o){$e(n,n.return,o)}}function S_(s){switch(s.tag){case 31:case 13:case 19:var n=s.stateNode;return n===null&&(n=s.stateNode=new vy),n;case 22:return s=s.stateNode,n=s._retryCache,n===null&&(n=s._retryCache=new vy),n;default:throw Error(r(435,s.tag))}}function gc(s,n){var o=S_(s);n.forEach(function(u){if(!o.has(u)){o.add(u);var h=D_.bind(null,s,u);u.then(h,h)}})}function ns(s,n){var o=n.deletions;if(o!==null)for(var u=0;u<o.length;u++){var h=o[u],g=s,S=n,k=S;e:for(;k!==null;){switch(k.tag){case 27:if(cn(k.type)){tt=k.stateNode,as=!1;break e}break;case 5:tt=k.stateNode,as=!1;break e;case 3:case 4:tt=k.stateNode.containerInfo,as=!0;break e}k=k.return}if(tt===null)throw Error(r(160));jy(g,S,h),tt=null,as=!1,g=h.alternate,g!==null&&(g.return=null),h.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)Ny(n,s),n=n.sibling}var Hs=null;function Ny(s,n){var o=s.alternate,u=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:ns(n,s),rs(s),u&4&&(tn(3,s,s.return),Eo(3,s),tn(5,s,s.return));break;case 1:ns(n,s),rs(s),u&512&&(vt||o===null||sa(o,o.return)),u&64&&ka&&(s=s.updateQueue,s!==null&&(u=s.callbacks,u!==null&&(o=s.shared.hiddenCallbacks,s.shared.hiddenCallbacks=o===null?u:o.concat(u))));break;case 26:var h=Hs;if(ns(n,s),rs(s),u&512&&(vt||o===null||sa(o,o.return)),u&4){var g=o!==null?o.memoizedState:null;if(u=s.memoizedState,o===null)if(u===null)if(s.stateNode===null){e:{u=s.type,o=s.memoizedProps,h=h.ownerDocument||h;t:switch(u){case"title":g=h.getElementsByTagName("title")[0],(!g||g[eo]||g[Dt]||g.namespaceURI==="http://www.w3.org/2000/svg"||g.hasAttribute("itemprop"))&&(g=h.createElement(u),h.head.insertBefore(g,h.querySelector("head > title"))),Lt(g,u,o),g[Dt]=s,At(g),u=g;break e;case"link":var S=N0("link","href",h).get(u+(o.href||""));if(S){for(var k=0;k<S.length;k++)if(g=S[k],g.getAttribute("href")===(o.href==null||o.href===""?null:o.href)&&g.getAttribute("rel")===(o.rel==null?null:o.rel)&&g.getAttribute("title")===(o.title==null?null:o.title)&&g.getAttribute("crossorigin")===(o.crossOrigin==null?null:o.crossOrigin)){S.splice(k,1);break t}}g=h.createElement(u),Lt(g,u,o),h.head.appendChild(g);break;case"meta":if(S=N0("meta","content",h).get(u+(o.content||""))){for(k=0;k<S.length;k++)if(g=S[k],g.getAttribute("content")===(o.content==null?null:""+o.content)&&g.getAttribute("name")===(o.name==null?null:o.name)&&g.getAttribute("property")===(o.property==null?null:o.property)&&g.getAttribute("http-equiv")===(o.httpEquiv==null?null:o.httpEquiv)&&g.getAttribute("charset")===(o.charSet==null?null:o.charSet)){S.splice(k,1);break t}}g=h.createElement(u),Lt(g,u,o),h.head.appendChild(g);break;default:throw Error(r(468,u))}g[Dt]=s,At(g),u=g}s.stateNode=u}else k0(h,s.type,s.stateNode);else s.stateNode=_0(h,u,s.memoizedProps);else g!==u?(g===null?o.stateNode!==null&&(o=o.stateNode,o.parentNode.removeChild(o)):g.count--,u===null?k0(h,s.type,s.stateNode):_0(h,u,s.memoizedProps)):u===null&&s.stateNode!==null&&Uf(s,s.memoizedProps,o.memoizedProps)}break;case 27:ns(n,s),rs(s),u&512&&(vt||o===null||sa(o,o.return)),o!==null&&u&4&&Uf(s,s.memoizedProps,o.memoizedProps);break;case 5:if(ns(n,s),rs(s),u&512&&(vt||o===null||sa(o,o.return)),s.flags&32){h=s.stateNode;try{Ur(h,"")}catch(pe){$e(s,s.return,pe)}}u&4&&s.stateNode!=null&&(h=s.memoizedProps,Uf(s,h,o!==null?o.memoizedProps:h)),u&1024&&(qf=!0);break;case 6:if(ns(n,s),rs(s),u&4){if(s.stateNode===null)throw Error(r(162));u=s.memoizedProps,o=s.stateNode;try{o.nodeValue=u}catch(pe){$e(s,s.return,pe)}}break;case 3:if(Dc=null,h=Hs,Hs=Tc(n.containerInfo),ns(n,s),Hs=h,rs(s),u&4&&o!==null&&o.memoizedState.isDehydrated)try{pi(n.containerInfo)}catch(pe){$e(s,s.return,pe)}qf&&(qf=!1,ky(s));break;case 4:u=Hs,Hs=Tc(s.stateNode.containerInfo),ns(n,s),rs(s),Hs=u;break;case 12:ns(n,s),rs(s);break;case 31:ns(n,s),rs(s),u&4&&(u=s.updateQueue,u!==null&&(s.updateQueue=null,gc(s,u)));break;case 13:ns(n,s),rs(s),s.child.flags&8192&&s.memoizedState!==null!=(o!==null&&o.memoizedState!==null)&&(yc=Qt()),u&4&&(u=s.updateQueue,u!==null&&(s.updateQueue=null,gc(s,u)));break;case 22:h=s.memoizedState!==null;var U=o!==null&&o.memoizedState!==null,Q=ka,te=vt;if(ka=Q||h,vt=te||U,ns(n,s),vt=te,ka=Q,rs(s),u&8192)e:for(n=s.stateNode,n._visibility=h?n._visibility&-2:n._visibility|1,h&&(o===null||U||ka||vt||tr(s)),o=null,n=s;;){if(n.tag===5||n.tag===26){if(o===null){U=o=n;try{if(g=U.stateNode,h)S=g.style,typeof S.setProperty=="function"?S.setProperty("display","none","important"):S.display="none";else{k=U.stateNode;var ne=U.memoizedProps.style,W=ne!=null&&ne.hasOwnProperty("display")?ne.display:null;k.style.display=W==null||typeof W=="boolean"?"":(""+W).trim()}}catch(pe){$e(U,U.return,pe)}}}else if(n.tag===6){if(o===null){U=n;try{U.stateNode.nodeValue=h?"":U.memoizedProps}catch(pe){$e(U,U.return,pe)}}}else if(n.tag===18){if(o===null){U=n;try{var J=U.stateNode;h?m0(J,!0):m0(U.stateNode,!1)}catch(pe){$e(U,U.return,pe)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===s)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===s)break e;for(;n.sibling===null;){if(n.return===null||n.return===s)break e;o===n&&(o=null),n=n.return}o===n&&(o=null),n.sibling.return=n.return,n=n.sibling}u&4&&(u=s.updateQueue,u!==null&&(o=u.retryQueue,o!==null&&(u.retryQueue=null,gc(s,o))));break;case 19:ns(n,s),rs(s),u&4&&(u=s.updateQueue,u!==null&&(s.updateQueue=null,gc(s,u)));break;case 30:break;case 21:break;default:ns(n,s),rs(s)}}function rs(s){var n=s.flags;if(n&2){try{for(var o,u=s.return;u!==null;){if(xy(u)){o=u;break}u=u.return}if(o==null)throw Error(r(160));switch(o.tag){case 27:var h=o.stateNode,g=If(s);mc(s,g,h);break;case 5:var S=o.stateNode;o.flags&32&&(Ur(S,""),o.flags&=-33);var k=If(s);mc(s,k,S);break;case 3:case 4:var U=o.stateNode.containerInfo,Q=If(s);zf(s,Q,U);break;default:throw Error(r(161))}}catch(te){$e(s,s.return,te)}s.flags&=-3}n&4096&&(s.flags&=-4097)}function ky(s){if(s.subtreeFlags&1024)for(s=s.child;s!==null;){var n=s;ky(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),s=s.sibling}}function Aa(s,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)by(s,n.alternate,n),n=n.sibling}function tr(s){for(s=s.child;s!==null;){var n=s;switch(n.tag){case 0:case 11:case 14:case 15:tn(4,n,n.return),tr(n);break;case 1:sa(n,n.return);var o=n.stateNode;typeof o.componentWillUnmount=="function"&&my(n,n.return,o),tr(n);break;case 27:Uo(n.stateNode);case 26:case 5:sa(n,n.return),tr(n);break;case 22:n.memoizedState===null&&tr(n);break;case 30:tr(n);break;default:tr(n)}s=s.sibling}}function Ca(s,n,o){for(o=o&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var u=n.alternate,h=s,g=n,S=g.flags;switch(g.tag){case 0:case 11:case 15:Ca(h,g,o),Eo(4,g);break;case 1:if(Ca(h,g,o),u=g,h=u.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(Q){$e(u,u.return,Q)}if(u=g,h=u.updateQueue,h!==null){var k=u.stateNode;try{var U=h.shared.hiddenCallbacks;if(U!==null)for(h.shared.hiddenCallbacks=null,h=0;h<U.length;h++)ax(U[h],k)}catch(Q){$e(u,u.return,Q)}}o&&S&64&&py(g),Ao(g,g.return);break;case 27:yy(g);case 26:case 5:Ca(h,g,o),o&&u===null&&S&4&&gy(g),Ao(g,g.return);break;case 12:Ca(h,g,o);break;case 31:Ca(h,g,o),o&&S&4&&Sy(h,g);break;case 13:Ca(h,g,o),o&&S&4&&_y(h,g);break;case 22:g.memoizedState===null&&Ca(h,g,o),Ao(g,g.return);break;case 30:break;default:Ca(h,g,o)}n=n.sibling}}function Bf(s,n){var o=null;s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(o=s.memoizedState.cachePool.pool),s=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(s=n.memoizedState.cachePool.pool),s!==o&&(s!=null&&s.refCount++,o!=null&&po(o))}function Hf(s,n){s=null,n.alternate!==null&&(s=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==s&&(n.refCount++,s!=null&&po(s))}function $s(s,n,o,u){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)Ey(s,n,o,u),n=n.sibling}function Ey(s,n,o,u){var h=n.flags;switch(n.tag){case 0:case 11:case 15:$s(s,n,o,u),h&2048&&Eo(9,n);break;case 1:$s(s,n,o,u);break;case 3:$s(s,n,o,u),h&2048&&(s=null,n.alternate!==null&&(s=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==s&&(n.refCount++,s!=null&&po(s)));break;case 12:if(h&2048){$s(s,n,o,u),s=n.stateNode;try{var g=n.memoizedProps,S=g.id,k=g.onPostCommit;typeof k=="function"&&k(S,n.alternate===null?"mount":"update",s.passiveEffectDuration,-0)}catch(U){$e(n,n.return,U)}}else $s(s,n,o,u);break;case 31:$s(s,n,o,u);break;case 13:$s(s,n,o,u);break;case 23:break;case 22:g=n.stateNode,S=n.alternate,n.memoizedState!==null?g._visibility&2?$s(s,n,o,u):Co(s,n):g._visibility&2?$s(s,n,o,u):(g._visibility|=2,ai(s,n,o,u,(n.subtreeFlags&10256)!==0||!1)),h&2048&&Bf(S,n);break;case 24:$s(s,n,o,u),h&2048&&Hf(n.alternate,n);break;default:$s(s,n,o,u)}}function ai(s,n,o,u,h){for(h=h&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var g=s,S=n,k=o,U=u,Q=S.flags;switch(S.tag){case 0:case 11:case 15:ai(g,S,k,U,h),Eo(8,S);break;case 23:break;case 22:var te=S.stateNode;S.memoizedState!==null?te._visibility&2?ai(g,S,k,U,h):Co(g,S):(te._visibility|=2,ai(g,S,k,U,h)),h&&Q&2048&&Bf(S.alternate,S);break;case 24:ai(g,S,k,U,h),h&&Q&2048&&Hf(S.alternate,S);break;default:ai(g,S,k,U,h)}n=n.sibling}}function Co(s,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var o=s,u=n,h=u.flags;switch(u.tag){case 22:Co(o,u),h&2048&&Bf(u.alternate,u);break;case 24:Co(o,u),h&2048&&Hf(u.alternate,u);break;default:Co(o,u)}n=n.sibling}}var To=8192;function ni(s,n,o){if(s.subtreeFlags&To)for(s=s.child;s!==null;)Ay(s,n,o),s=s.sibling}function Ay(s,n,o){switch(s.tag){case 26:ni(s,n,o),s.flags&To&&s.memoizedState!==null&&cN(o,Hs,s.memoizedState,s.memoizedProps);break;case 5:ni(s,n,o);break;case 3:case 4:var u=Hs;Hs=Tc(s.stateNode.containerInfo),ni(s,n,o),Hs=u;break;case 22:s.memoizedState===null&&(u=s.alternate,u!==null&&u.memoizedState!==null?(u=To,To=16777216,ni(s,n,o),To=u):ni(s,n,o));break;default:ni(s,n,o)}}function Cy(s){var n=s.alternate;if(n!==null&&(s=n.child,s!==null)){n.child=null;do n=s.sibling,s.sibling=null,s=n;while(s!==null)}}function Oo(s){var n=s.deletions;if((s.flags&16)!==0){if(n!==null)for(var o=0;o<n.length;o++){var u=n[o];Ct=u,Oy(u,s)}Cy(s)}if(s.subtreeFlags&10256)for(s=s.child;s!==null;)Ty(s),s=s.sibling}function Ty(s){switch(s.tag){case 0:case 11:case 15:Oo(s),s.flags&2048&&tn(9,s,s.return);break;case 3:Oo(s);break;case 12:Oo(s);break;case 22:var n=s.stateNode;s.memoizedState!==null&&n._visibility&2&&(s.return===null||s.return.tag!==13)?(n._visibility&=-3,xc(s)):Oo(s);break;default:Oo(s)}}function xc(s){var n=s.deletions;if((s.flags&16)!==0){if(n!==null)for(var o=0;o<n.length;o++){var u=n[o];Ct=u,Oy(u,s)}Cy(s)}for(s=s.child;s!==null;){switch(n=s,n.tag){case 0:case 11:case 15:tn(8,n,n.return),xc(n);break;case 22:o=n.stateNode,o._visibility&2&&(o._visibility&=-3,xc(n));break;default:xc(n)}s=s.sibling}}function Oy(s,n){for(;Ct!==null;){var o=Ct;switch(o.tag){case 0:case 11:case 15:tn(8,o,n);break;case 23:case 22:if(o.memoizedState!==null&&o.memoizedState.cachePool!==null){var u=o.memoizedState.cachePool.pool;u!=null&&u.refCount++}break;case 24:po(o.memoizedState.cache)}if(u=o.child,u!==null)u.return=o,Ct=u;else e:for(o=s;Ct!==null;){u=Ct;var h=u.sibling,g=u.return;if(wy(u),u===o){Ct=null;break e}if(h!==null){h.return=g,Ct=h;break e}Ct=g}}}var __={getCacheForType:function(s){var n=Pt(gt),o=n.data.get(s);return o===void 0&&(o=s(),n.data.set(s,o)),o},cacheSignal:function(){return Pt(gt).controller.signal}},N_=typeof WeakMap=="function"?WeakMap:Map,Be=0,Ke=null,Oe=null,Pe=0,He=0,gs=null,sn=!1,ri=!1,$f=!1,Ta=0,ot=0,an=0,sr=0,Ff=0,xs=0,ii=0,Do=null,is=null,Gf=!1,yc=0,Dy=0,vc=1/0,bc=null,nn=null,St=0,rn=null,oi=null,Oa=0,Vf=0,Qf=null,Ry=null,Ro=0,Yf=null;function ys(){return(Be&2)!==0&&Pe!==0?Pe&-Pe:D.T!==null?eh():hd()}function Py(){if(xs===0)if((Pe&536870912)===0||Ue){var s=Cr;Cr<<=1,(Cr&3932160)===0&&(Cr=262144),xs=s}else xs=536870912;return s=ps.current,s!==null&&(s.flags|=32),xs}function os(s,n,o){(s===Ke&&(He===2||He===9)||s.cancelPendingCommit!==null)&&(li(s,0),on(s,Pe,xs,!1)),at(s,o),((Be&2)===0||s!==Ke)&&(s===Ke&&((Be&2)===0&&(sr|=o),ot===4&&on(s,Pe,xs,!1)),aa(s))}function My(s,n,o){if((Be&6)!==0)throw Error(r(327));var u=!o&&(n&127)===0&&(n&s.expiredLanes)===0||et(s,n),h=u?A_(s,n):Wf(s,n,!0),g=u;do{if(h===0){ri&&!u&&on(s,n,0,!1);break}else{if(o=s.current.alternate,g&&!k_(o)){h=Wf(s,n,!1),g=!1;continue}if(h===2){if(g=n,s.errorRecoveryDisabledLanes&g)var S=0;else S=s.pendingLanes&-536870913,S=S!==0?S:S&536870912?536870912:0;if(S!==0){n=S;e:{var k=s;h=Do;var U=k.current.memoizedState.isDehydrated;if(U&&(li(k,S).flags|=256),S=Wf(k,S,!1),S!==2){if($f&&!U){k.errorRecoveryDisabledLanes|=g,sr|=g,h=4;break e}g=is,is=h,g!==null&&(is===null?is=g:is.push.apply(is,g))}h=S}if(g=!1,h!==2)continue}}if(h===1){li(s,0),on(s,n,0,!0);break}e:{switch(u=s,g=h,g){case 0:case 1:throw Error(r(345));case 4:if((n&4194048)!==n)break;case 6:on(u,n,xs,!sn);break e;case 2:is=null;break;case 3:case 5:break;default:throw Error(r(329))}if((n&62914560)===n&&(h=yc+300-Qt(),10<h)){if(on(u,n,xs,!sn),_e(u,0,!0)!==0)break e;Oa=n,u.timeoutHandle=f0(Ly.bind(null,u,o,is,bc,Gf,n,xs,sr,ii,sn,g,"Throttled",-0,0),h);break e}Ly(u,o,is,bc,Gf,n,xs,sr,ii,sn,g,null,-0,0)}}break}while(!0);aa(s)}function Ly(s,n,o,u,h,g,S,k,U,Q,te,ne,W,J){if(s.timeoutHandle=-1,ne=n.subtreeFlags,ne&8192||(ne&16785408)===16785408){ne={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:ga},Ay(n,g,ne);var pe=(g&62914560)===g?yc-Qt():(g&4194048)===g?Dy-Qt():0;if(pe=uN(ne,pe),pe!==null){Oa=g,s.cancelPendingCommit=pe(Fy.bind(null,s,n,g,o,u,h,S,k,U,te,ne,null,W,J)),on(s,g,S,!Q);return}}Fy(s,n,g,o,u,h,S,k,U)}function k_(s){for(var n=s;;){var o=n.tag;if((o===0||o===11||o===15)&&n.flags&16384&&(o=n.updateQueue,o!==null&&(o=o.stores,o!==null)))for(var u=0;u<o.length;u++){var h=o[u],g=h.getSnapshot;h=h.value;try{if(!fs(g(),h))return!1}catch{return!1}}if(o=n.child,n.subtreeFlags&16384&&o!==null)o.return=n,n=o;else{if(n===s)break;for(;n.sibling===null;){if(n.return===null||n.return===s)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function on(s,n,o,u){n&=~Ff,n&=~sr,s.suspendedLanes|=n,s.pingedLanes&=~n,u&&(s.warmLanes|=n),u=s.expirationTimes;for(var h=n;0<h;){var g=31-It(h),S=1<<g;u[g]=-1,h&=~S}o!==0&&zn(s,o,n)}function wc(){return(Be&6)===0?(Po(0),!1):!0}function Kf(){if(Oe!==null){if(He===0)var s=Oe.return;else s=Oe,ba=Qn=null,df(s),Jr=null,go=0,s=Oe;for(;s!==null;)hy(s.alternate,s),s=s.return;Oe=null}}function li(s,n){var o=s.timeoutHandle;o!==-1&&(s.timeoutHandle=-1,V_(o)),o=s.cancelPendingCommit,o!==null&&(s.cancelPendingCommit=null,o()),Oa=0,Kf(),Ke=s,Oe=o=ya(s.current,null),Pe=n,He=0,gs=null,sn=!1,ri=et(s,n),$f=!1,ii=xs=Ff=sr=an=ot=0,is=Do=null,Gf=!1,(n&8)!==0&&(n|=n&32);var u=s.entangledLanes;if(u!==0)for(s=s.entanglements,u&=n;0<u;){var h=31-It(u),g=1<<h;n|=s[h],u&=~g}return Ta=n,Hl(),o}function Uy(s,n){Ae=null,D.H=_o,n===Xr||n===Wl?(n=Zg(),He=3):n===Jd?(n=Zg(),He=4):He=n===Ef?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,gs=n,Oe===null&&(ot=1,uc(s,As(n,s.current)))}function Iy(){var s=ps.current;return s===null?!0:(Pe&4194048)===Pe?Ds===null:(Pe&62914560)===Pe||(Pe&536870912)!==0?s===Ds:!1}function zy(){var s=D.H;return D.H=_o,s===null?_o:s}function qy(){var s=D.A;return D.A=__,s}function jc(){ot=4,sn||(Pe&4194048)!==Pe&&ps.current!==null||(ri=!0),(an&134217727)===0&&(sr&134217727)===0||Ke===null||on(Ke,Pe,xs,!1)}function Wf(s,n,o){var u=Be;Be|=2;var h=zy(),g=qy();(Ke!==s||Pe!==n)&&(bc=null,li(s,n)),n=!1;var S=ot;e:do try{if(He!==0&&Oe!==null){var k=Oe,U=gs;switch(He){case 8:Kf(),S=6;break e;case 3:case 2:case 9:case 6:ps.current===null&&(n=!0);var Q=He;if(He=0,gs=null,ci(s,k,U,Q),o&&ri){S=0;break e}break;default:Q=He,He=0,gs=null,ci(s,k,U,Q)}}E_(),S=ot;break}catch(te){Uy(s,te)}while(!0);return n&&s.shellSuspendCounter++,ba=Qn=null,Be=u,D.H=h,D.A=g,Oe===null&&(Ke=null,Pe=0,Hl()),S}function E_(){for(;Oe!==null;)By(Oe)}function A_(s,n){var o=Be;Be|=2;var u=zy(),h=qy();Ke!==s||Pe!==n?(bc=null,vc=Qt()+500,li(s,n)):ri=et(s,n);e:do try{if(He!==0&&Oe!==null){n=Oe;var g=gs;t:switch(He){case 1:He=0,gs=null,ci(s,n,g,1);break;case 2:case 9:if(Xg(g)){He=0,gs=null,Hy(n);break}n=function(){He!==2&&He!==9||Ke!==s||(He=7),aa(s)},g.then(n,n);break e;case 3:He=7;break e;case 4:He=5;break e;case 7:Xg(g)?(He=0,gs=null,Hy(n)):(He=0,gs=null,ci(s,n,g,7));break;case 5:var S=null;switch(Oe.tag){case 26:S=Oe.memoizedState;case 5:case 27:var k=Oe;if(S?E0(S):k.stateNode.complete){He=0,gs=null;var U=k.sibling;if(U!==null)Oe=U;else{var Q=k.return;Q!==null?(Oe=Q,Sc(Q)):Oe=null}break t}}He=0,gs=null,ci(s,n,g,5);break;case 6:He=0,gs=null,ci(s,n,g,6);break;case 8:Kf(),ot=6;break e;default:throw Error(r(462))}}C_();break}catch(te){Uy(s,te)}while(!0);return ba=Qn=null,D.H=u,D.A=h,Be=o,Oe!==null?0:(Ke=null,Pe=0,Hl(),ot)}function C_(){for(;Oe!==null&&!Vt();)By(Oe)}function By(s){var n=dy(s.alternate,s,Ta);s.memoizedProps=s.pendingProps,n===null?Sc(s):Oe=n}function Hy(s){var n=s,o=n.alternate;switch(n.tag){case 15:case 0:n=ry(o,n,n.pendingProps,n.type,void 0,Pe);break;case 11:n=ry(o,n,n.pendingProps,n.type.render,n.ref,Pe);break;case 5:df(n);default:hy(o,n),n=Oe=qg(n,Ta),n=dy(o,n,Ta)}s.memoizedProps=s.pendingProps,n===null?Sc(s):Oe=n}function ci(s,n,o,u){ba=Qn=null,df(n),Jr=null,go=0;var h=n.return;try{if(x_(s,h,n,o,Pe)){ot=1,uc(s,As(o,s.current)),Oe=null;return}}catch(g){if(h!==null)throw Oe=h,g;ot=1,uc(s,As(o,s.current)),Oe=null;return}n.flags&32768?(Ue||u===1?s=!0:ri||(Pe&536870912)!==0?s=!1:(sn=s=!0,(u===2||u===9||u===3||u===6)&&(u=ps.current,u!==null&&u.tag===13&&(u.flags|=16384))),$y(n,s)):Sc(n)}function Sc(s){var n=s;do{if((n.flags&32768)!==0){$y(n,sn);return}s=n.return;var o=b_(n.alternate,n,Ta);if(o!==null){Oe=o;return}if(n=n.sibling,n!==null){Oe=n;return}Oe=n=s}while(n!==null);ot===0&&(ot=5)}function $y(s,n){do{var o=w_(s.alternate,s);if(o!==null){o.flags&=32767,Oe=o;return}if(o=s.return,o!==null&&(o.flags|=32768,o.subtreeFlags=0,o.deletions=null),!n&&(s=s.sibling,s!==null)){Oe=s;return}Oe=s=o}while(s!==null);ot=6,Oe=null}function Fy(s,n,o,u,h,g,S,k,U){s.cancelPendingCommit=null;do _c();while(St!==0);if((Be&6)!==0)throw Error(r(327));if(n!==null){if(n===s.current)throw Error(r(177));if(g=n.lanes|n.childLanes,g|=Ud,Jt(s,o,g,S,k,U),s===Ke&&(Oe=Ke=null,Pe=0),oi=n,rn=s,Oa=o,Vf=g,Qf=h,Ry=u,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(s.callbackNode=null,s.callbackPriority=0,R_(Ln,function(){return Ky(),null})):(s.callbackNode=null,s.callbackPriority=0),u=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||u){u=D.T,D.T=null,h=Y.p,Y.p=2,S=Be,Be|=4;try{j_(s,n,o)}finally{Be=S,Y.p=h,D.T=u}}St=1,Gy(),Vy(),Qy()}}function Gy(){if(St===1){St=0;var s=rn,n=oi,o=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||o){o=D.T,D.T=null;var u=Y.p;Y.p=2;var h=Be;Be|=4;try{Ny(n,s);var g=lh,S=Og(s.containerInfo),k=g.focusedElem,U=g.selectionRange;if(S!==k&&k&&k.ownerDocument&&Tg(k.ownerDocument.documentElement,k)){if(U!==null&&Dd(k)){var Q=U.start,te=U.end;if(te===void 0&&(te=Q),"selectionStart"in k)k.selectionStart=Q,k.selectionEnd=Math.min(te,k.value.length);else{var ne=k.ownerDocument||document,W=ne&&ne.defaultView||window;if(W.getSelection){var J=W.getSelection(),pe=k.textContent.length,Se=Math.min(U.start,pe),Qe=U.end===void 0?Se:Math.min(U.end,pe);!J.extend&&Se>Qe&&(S=Qe,Qe=Se,Se=S);var $=Cg(k,Se),q=Cg(k,Qe);if($&&q&&(J.rangeCount!==1||J.anchorNode!==$.node||J.anchorOffset!==$.offset||J.focusNode!==q.node||J.focusOffset!==q.offset)){var V=ne.createRange();V.setStart($.node,$.offset),J.removeAllRanges(),Se>Qe?(J.addRange(V),J.extend(q.node,q.offset)):(V.setEnd(q.node,q.offset),J.addRange(V))}}}}for(ne=[],J=k;J=J.parentNode;)J.nodeType===1&&ne.push({element:J,left:J.scrollLeft,top:J.scrollTop});for(typeof k.focus=="function"&&k.focus(),k=0;k<ne.length;k++){var ae=ne[k];ae.element.scrollLeft=ae.left,ae.element.scrollTop=ae.top}}Lc=!!oh,lh=oh=null}finally{Be=h,Y.p=u,D.T=o}}s.current=n,St=2}}function Vy(){if(St===2){St=0;var s=rn,n=oi,o=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||o){o=D.T,D.T=null;var u=Y.p;Y.p=2;var h=Be;Be|=4;try{by(s,n.alternate,n)}finally{Be=h,Y.p=u,D.T=o}}St=3}}function Qy(){if(St===4||St===3){St=0,Ba();var s=rn,n=oi,o=Oa,u=Ry;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?St=5:(St=0,oi=rn=null,Yy(s,s.pendingLanes));var h=s.pendingLanes;if(h===0&&(nn=null),qs(o),n=n.stateNode,Yt&&typeof Yt.onCommitFiberRoot=="function")try{Yt.onCommitFiberRoot(Un,n,void 0,(n.current.flags&128)===128)}catch{}if(u!==null){n=D.T,h=Y.p,Y.p=2,D.T=null;try{for(var g=s.onRecoverableError,S=0;S<u.length;S++){var k=u[S];g(k.value,{componentStack:k.stack})}}finally{D.T=n,Y.p=h}}(Oa&3)!==0&&_c(),aa(s),h=s.pendingLanes,(o&261930)!==0&&(h&42)!==0?s===Yf?Ro++:(Ro=0,Yf=s):Ro=0,Po(0)}}function Yy(s,n){(s.pooledCacheLanes&=n)===0&&(n=s.pooledCache,n!=null&&(s.pooledCache=null,po(n)))}function _c(){return Gy(),Vy(),Qy(),Ky()}function Ky(){if(St!==5)return!1;var s=rn,n=Vf;Vf=0;var o=qs(Oa),u=D.T,h=Y.p;try{Y.p=32>o?32:o,D.T=null,o=Qf,Qf=null;var g=rn,S=Oa;if(St=0,oi=rn=null,Oa=0,(Be&6)!==0)throw Error(r(331));var k=Be;if(Be|=4,Ty(g.current),Ey(g,g.current,S,o),Be=k,Po(0,!1),Yt&&typeof Yt.onPostCommitFiberRoot=="function")try{Yt.onPostCommitFiberRoot(Un,g)}catch{}return!0}finally{Y.p=h,D.T=u,Yy(s,n)}}function Wy(s,n,o){n=As(o,n),n=kf(s.stateNode,n,2),s=Ja(s,n,2),s!==null&&(at(s,2),aa(s))}function $e(s,n,o){if(s.tag===3)Wy(s,s,o);else for(;n!==null;){if(n.tag===3){Wy(n,s,o);break}else if(n.tag===1){var u=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(nn===null||!nn.has(u))){s=As(o,s),o=Xx(2),u=Ja(n,o,2),u!==null&&(Jx(o,u,n,s),at(u,2),aa(u));break}}n=n.return}}function Xf(s,n,o){var u=s.pingCache;if(u===null){u=s.pingCache=new N_;var h=new Set;u.set(n,h)}else h=u.get(n),h===void 0&&(h=new Set,u.set(n,h));h.has(o)||($f=!0,h.add(o),s=T_.bind(null,s,n,o),n.then(s,s))}function T_(s,n,o){var u=s.pingCache;u!==null&&u.delete(n),s.pingedLanes|=s.suspendedLanes&o,s.warmLanes&=~o,Ke===s&&(Pe&o)===o&&(ot===4||ot===3&&(Pe&62914560)===Pe&&300>Qt()-yc?(Be&2)===0&&li(s,0):Ff|=o,ii===Pe&&(ii=0)),aa(s)}function Xy(s,n){n===0&&(n=zt()),s=Fn(s,n),s!==null&&(at(s,n),aa(s))}function O_(s){var n=s.memoizedState,o=0;n!==null&&(o=n.retryLane),Xy(s,o)}function D_(s,n){var o=0;switch(s.tag){case 31:case 13:var u=s.stateNode,h=s.memoizedState;h!==null&&(o=h.retryLane);break;case 19:u=s.stateNode;break;case 22:u=s.stateNode._retryCache;break;default:throw Error(r(314))}u!==null&&u.delete(n),Xy(s,o)}function R_(s,n){return Wi(s,n)}var Nc=null,ui=null,Jf=!1,kc=!1,Zf=!1,ln=0;function aa(s){s!==ui&&s.next===null&&(ui===null?Nc=ui=s:ui=ui.next=s),kc=!0,Jf||(Jf=!0,M_())}function Po(s,n){if(!Zf&&kc){Zf=!0;do for(var o=!1,u=Nc;u!==null;){if(s!==0){var h=u.pendingLanes;if(h===0)var g=0;else{var S=u.suspendedLanes,k=u.pingedLanes;g=(1<<31-It(42|s)+1)-1,g&=h&~(S&~k),g=g&201326741?g&201326741|1:g?g|2:0}g!==0&&(o=!0,t0(u,g))}else g=Pe,g=_e(u,u===Ke?g:0,u.cancelPendingCommit!==null||u.timeoutHandle!==-1),(g&3)===0||et(u,g)||(o=!0,t0(u,g));u=u.next}while(o);Zf=!1}}function P_(){Jy()}function Jy(){kc=Jf=!1;var s=0;ln!==0&&G_()&&(s=ln);for(var n=Qt(),o=null,u=Nc;u!==null;){var h=u.next,g=Zy(u,n);g===0?(u.next=null,o===null?Nc=h:o.next=h,h===null&&(ui=o)):(o=u,(s!==0||(g&3)!==0)&&(kc=!0)),u=h}St!==0&&St!==5||Po(s),ln!==0&&(ln=0)}function Zy(s,n){for(var o=s.suspendedLanes,u=s.pingedLanes,h=s.expirationTimes,g=s.pendingLanes&-62914561;0<g;){var S=31-It(g),k=1<<S,U=h[S];U===-1?((k&o)===0||(k&u)!==0)&&(h[S]=Et(k,n)):U<=n&&(s.expiredLanes|=k),g&=~k}if(n=Ke,o=Pe,o=_e(s,s===n?o:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),u=s.callbackNode,o===0||s===n&&(He===2||He===9)||s.cancelPendingCommit!==null)return u!==null&&u!==null&&Xi(u),s.callbackNode=null,s.callbackPriority=0;if((o&3)===0||et(s,o)){if(n=o&-o,n===s.callbackPriority)return n;switch(u!==null&&Xi(u),qs(o)){case 2:case 8:o=Cl;break;case 32:o=Ln;break;case 268435456:o=pa;break;default:o=Ln}return u=e0.bind(null,s),o=Wi(o,u),s.callbackPriority=n,s.callbackNode=o,n}return u!==null&&u!==null&&Xi(u),s.callbackPriority=2,s.callbackNode=null,2}function e0(s,n){if(St!==0&&St!==5)return s.callbackNode=null,s.callbackPriority=0,null;var o=s.callbackNode;if(_c()&&s.callbackNode!==o)return null;var u=Pe;return u=_e(s,s===Ke?u:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),u===0?null:(My(s,u,n),Zy(s,Qt()),s.callbackNode!=null&&s.callbackNode===o?e0.bind(null,s):null)}function t0(s,n){if(_c())return null;My(s,n,!0)}function M_(){Q_(function(){(Be&6)!==0?Wi(Mn,P_):Jy()})}function eh(){if(ln===0){var s=Kr;s===0&&(s=Ar,Ar<<=1,(Ar&261888)===0&&(Ar=256)),ln=s}return ln}function s0(s){return s==null||typeof s=="symbol"||typeof s=="boolean"?null:typeof s=="function"?s:Pl(""+s)}function a0(s,n){var o=n.ownerDocument.createElement("input");return o.name=n.name,o.value=n.value,s.id&&o.setAttribute("form",s.id),n.parentNode.insertBefore(o,n),s=new FormData(s),o.parentNode.removeChild(o),s}function L_(s,n,o,u,h){if(n==="submit"&&o&&o.stateNode===h){var g=s0((h[ts]||null).action),S=u.submitter;S&&(n=(n=S[ts]||null)?s0(n.formAction):S.getAttribute("formAction"),n!==null&&(g=n,S=null));var k=new Il("action","action",null,u,h);s.push({event:k,listeners:[{instance:null,listener:function(){if(u.defaultPrevented){if(ln!==0){var U=S?a0(h,S):new FormData(h);bf(o,{pending:!0,data:U,method:h.method,action:g},null,U)}}else typeof g=="function"&&(k.preventDefault(),U=S?a0(h,S):new FormData(h),bf(o,{pending:!0,data:U,method:h.method,action:g},g,U))},currentTarget:h}]})}}for(var th=0;th<Ld.length;th++){var sh=Ld[th],U_=sh.toLowerCase(),I_=sh[0].toUpperCase()+sh.slice(1);Bs(U_,"on"+I_)}Bs(Pg,"onAnimationEnd"),Bs(Mg,"onAnimationIteration"),Bs(Lg,"onAnimationStart"),Bs("dblclick","onDoubleClick"),Bs("focusin","onFocus"),Bs("focusout","onBlur"),Bs(e_,"onTransitionRun"),Bs(t_,"onTransitionStart"),Bs(s_,"onTransitionCancel"),Bs(Ug,"onTransitionEnd"),Mr("onMouseEnter",["mouseout","mouseover"]),Mr("onMouseLeave",["mouseout","mouseover"]),Mr("onPointerEnter",["pointerout","pointerover"]),Mr("onPointerLeave",["pointerout","pointerover"]),qn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),qn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),qn("onBeforeInput",["compositionend","keypress","textInput","paste"]),qn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),qn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),qn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Mo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),z_=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Mo));function n0(s,n){n=(n&4)!==0;for(var o=0;o<s.length;o++){var u=s[o],h=u.event;u=u.listeners;e:{var g=void 0;if(n)for(var S=u.length-1;0<=S;S--){var k=u[S],U=k.instance,Q=k.currentTarget;if(k=k.listener,U!==g&&h.isPropagationStopped())break e;g=k,h.currentTarget=Q;try{g(h)}catch(te){Bl(te)}h.currentTarget=null,g=U}else for(S=0;S<u.length;S++){if(k=u[S],U=k.instance,Q=k.currentTarget,k=k.listener,U!==g&&h.isPropagationStopped())break e;g=k,h.currentTarget=Q;try{g(h)}catch(te){Bl(te)}h.currentTarget=null,g=U}}}}function De(s,n){var o=n[pd];o===void 0&&(o=n[pd]=new Set);var u=s+"__bubble";o.has(u)||(r0(n,s,2,!1),o.add(u))}function ah(s,n,o){var u=0;n&&(u|=4),r0(o,s,u,n)}var Ec="_reactListening"+Math.random().toString(36).slice(2);function nh(s){if(!s[Ec]){s[Ec]=!0,Jm.forEach(function(o){o!=="selectionchange"&&(z_.has(o)||ah(o,!1,s),ah(o,!0,s))});var n=s.nodeType===9?s:s.ownerDocument;n===null||n[Ec]||(n[Ec]=!0,ah("selectionchange",!1,n))}}function r0(s,n,o,u){switch(P0(n)){case 2:var h=hN;break;case 8:h=pN;break;default:h=vh}o=h.bind(null,n,o,s),h=void 0,!Sd||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(h=!0),u?h!==void 0?s.addEventListener(n,o,{capture:!0,passive:h}):s.addEventListener(n,o,!0):h!==void 0?s.addEventListener(n,o,{passive:h}):s.addEventListener(n,o,!1)}function rh(s,n,o,u,h){var g=u;if((n&1)===0&&(n&2)===0&&u!==null)e:for(;;){if(u===null)return;var S=u.tag;if(S===3||S===4){var k=u.stateNode.containerInfo;if(k===h)break;if(S===4)for(S=u.return;S!==null;){var U=S.tag;if((U===3||U===4)&&S.stateNode.containerInfo===h)return;S=S.return}for(;k!==null;){if(S=Dr(k),S===null)return;if(U=S.tag,U===5||U===6||U===26||U===27){u=g=S;continue e}k=k.parentNode}}u=u.return}ug(function(){var Q=g,te=wd(o),ne=[];e:{var W=Ig.get(s);if(W!==void 0){var J=Il,pe=s;switch(s){case"keypress":if(Ll(o)===0)break e;case"keydown":case"keyup":J=DS;break;case"focusin":pe="focus",J=Ed;break;case"focusout":pe="blur",J=Ed;break;case"beforeblur":case"afterblur":J=Ed;break;case"click":if(o.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":J=hg;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":J=bS;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":J=MS;break;case Pg:case Mg:case Lg:J=SS;break;case Ug:J=US;break;case"scroll":case"scrollend":J=yS;break;case"wheel":J=zS;break;case"copy":case"cut":case"paste":J=NS;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":J=mg;break;case"toggle":case"beforetoggle":J=BS}var Se=(n&4)!==0,Qe=!Se&&(s==="scroll"||s==="scrollend"),$=Se?W!==null?W+"Capture":null:W;Se=[];for(var q=Q,V;q!==null;){var ae=q;if(V=ae.stateNode,ae=ae.tag,ae!==5&&ae!==26&&ae!==27||V===null||$===null||(ae=so(q,$),ae!=null&&Se.push(Lo(q,ae,V))),Qe)break;q=q.return}0<Se.length&&(W=new J(W,pe,null,o,te),ne.push({event:W,listeners:Se}))}}if((n&7)===0){e:{if(W=s==="mouseover"||s==="pointerover",J=s==="mouseout"||s==="pointerout",W&&o!==bd&&(pe=o.relatedTarget||o.fromElement)&&(Dr(pe)||pe[Or]))break e;if((J||W)&&(W=te.window===te?te:(W=te.ownerDocument)?W.defaultView||W.parentWindow:window,J?(pe=o.relatedTarget||o.toElement,J=Q,pe=pe?Dr(pe):null,pe!==null&&(Qe=c(pe),Se=pe.tag,pe!==Qe||Se!==5&&Se!==27&&Se!==6)&&(pe=null)):(J=null,pe=Q),J!==pe)){if(Se=hg,ae="onMouseLeave",$="onMouseEnter",q="mouse",(s==="pointerout"||s==="pointerover")&&(Se=mg,ae="onPointerLeave",$="onPointerEnter",q="pointer"),Qe=J==null?W:to(J),V=pe==null?W:to(pe),W=new Se(ae,q+"leave",J,o,te),W.target=Qe,W.relatedTarget=V,ae=null,Dr(te)===Q&&(Se=new Se($,q+"enter",pe,o,te),Se.target=V,Se.relatedTarget=Qe,ae=Se),Qe=ae,J&&pe)t:{for(Se=q_,$=J,q=pe,V=0,ae=$;ae;ae=Se(ae))V++;ae=0;for(var be=q;be;be=Se(be))ae++;for(;0<V-ae;)$=Se($),V--;for(;0<ae-V;)q=Se(q),ae--;for(;V--;){if($===q||q!==null&&$===q.alternate){Se=$;break t}$=Se($),q=Se(q)}Se=null}else Se=null;J!==null&&i0(ne,W,J,Se,!1),pe!==null&&Qe!==null&&i0(ne,Qe,pe,Se,!0)}}e:{if(W=Q?to(Q):window,J=W.nodeName&&W.nodeName.toLowerCase(),J==="select"||J==="input"&&W.type==="file")var Ie=Sg;else if(wg(W))if(_g)Ie=XS;else{Ie=KS;var ye=YS}else J=W.nodeName,!J||J.toLowerCase()!=="input"||W.type!=="checkbox"&&W.type!=="radio"?Q&&vd(Q.elementType)&&(Ie=Sg):Ie=WS;if(Ie&&(Ie=Ie(s,Q))){jg(ne,Ie,o,te);break e}ye&&ye(s,W,Q),s==="focusout"&&Q&&W.type==="number"&&Q.memoizedProps.value!=null&&yd(W,"number",W.value)}switch(ye=Q?to(Q):window,s){case"focusin":(wg(ye)||ye.contentEditable==="true")&&(Br=ye,Rd=Q,uo=null);break;case"focusout":uo=Rd=Br=null;break;case"mousedown":Pd=!0;break;case"contextmenu":case"mouseup":case"dragend":Pd=!1,Dg(ne,o,te);break;case"selectionchange":if(ZS)break;case"keydown":case"keyup":Dg(ne,o,te)}var Ce;if(Cd)e:{switch(s){case"compositionstart":var Me="onCompositionStart";break e;case"compositionend":Me="onCompositionEnd";break e;case"compositionupdate":Me="onCompositionUpdate";break e}Me=void 0}else qr?vg(s,o)&&(Me="onCompositionEnd"):s==="keydown"&&o.keyCode===229&&(Me="onCompositionStart");Me&&(gg&&o.locale!=="ko"&&(qr||Me!=="onCompositionStart"?Me==="onCompositionEnd"&&qr&&(Ce=dg()):(Ga=te,_d="value"in Ga?Ga.value:Ga.textContent,qr=!0)),ye=Ac(Q,Me),0<ye.length&&(Me=new pg(Me,s,null,o,te),ne.push({event:Me,listeners:ye}),Ce?Me.data=Ce:(Ce=bg(o),Ce!==null&&(Me.data=Ce)))),(Ce=$S?FS(s,o):GS(s,o))&&(Me=Ac(Q,"onBeforeInput"),0<Me.length&&(ye=new pg("onBeforeInput","beforeinput",null,o,te),ne.push({event:ye,listeners:Me}),ye.data=Ce)),L_(ne,s,Q,o,te)}n0(ne,n)})}function Lo(s,n,o){return{instance:s,listener:n,currentTarget:o}}function Ac(s,n){for(var o=n+"Capture",u=[];s!==null;){var h=s,g=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||g===null||(h=so(s,o),h!=null&&u.unshift(Lo(s,h,g)),h=so(s,n),h!=null&&u.push(Lo(s,h,g))),s.tag===3)return u;s=s.return}return[]}function q_(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5&&s.tag!==27);return s||null}function i0(s,n,o,u,h){for(var g=n._reactName,S=[];o!==null&&o!==u;){var k=o,U=k.alternate,Q=k.stateNode;if(k=k.tag,U!==null&&U===u)break;k!==5&&k!==26&&k!==27||Q===null||(U=Q,h?(Q=so(o,g),Q!=null&&S.unshift(Lo(o,Q,U))):h||(Q=so(o,g),Q!=null&&S.push(Lo(o,Q,U)))),o=o.return}S.length!==0&&s.push({event:n,listeners:S})}var B_=/\r\n?/g,H_=/\u0000|\uFFFD/g;function o0(s){return(typeof s=="string"?s:""+s).replace(B_,`
`).replace(H_,"")}function l0(s,n){return n=o0(n),o0(s)===n}function Ve(s,n,o,u,h,g){switch(o){case"children":typeof u=="string"?n==="body"||n==="textarea"&&u===""||Ur(s,u):(typeof u=="number"||typeof u=="bigint")&&n!=="body"&&Ur(s,""+u);break;case"className":Dl(s,"class",u);break;case"tabIndex":Dl(s,"tabindex",u);break;case"dir":case"role":case"viewBox":case"width":case"height":Dl(s,o,u);break;case"style":lg(s,u,g);break;case"data":if(n!=="object"){Dl(s,"data",u);break}case"src":case"href":if(u===""&&(n!=="a"||o!=="href")){s.removeAttribute(o);break}if(u==null||typeof u=="function"||typeof u=="symbol"||typeof u=="boolean"){s.removeAttribute(o);break}u=Pl(""+u),s.setAttribute(o,u);break;case"action":case"formAction":if(typeof u=="function"){s.setAttribute(o,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof g=="function"&&(o==="formAction"?(n!=="input"&&Ve(s,n,"name",h.name,h,null),Ve(s,n,"formEncType",h.formEncType,h,null),Ve(s,n,"formMethod",h.formMethod,h,null),Ve(s,n,"formTarget",h.formTarget,h,null)):(Ve(s,n,"encType",h.encType,h,null),Ve(s,n,"method",h.method,h,null),Ve(s,n,"target",h.target,h,null)));if(u==null||typeof u=="symbol"||typeof u=="boolean"){s.removeAttribute(o);break}u=Pl(""+u),s.setAttribute(o,u);break;case"onClick":u!=null&&(s.onclick=ga);break;case"onScroll":u!=null&&De("scroll",s);break;case"onScrollEnd":u!=null&&De("scrollend",s);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(r(61));if(o=u.__html,o!=null){if(h.children!=null)throw Error(r(60));s.innerHTML=o}}break;case"multiple":s.multiple=u&&typeof u!="function"&&typeof u!="symbol";break;case"muted":s.muted=u&&typeof u!="function"&&typeof u!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(u==null||typeof u=="function"||typeof u=="boolean"||typeof u=="symbol"){s.removeAttribute("xlink:href");break}o=Pl(""+u),s.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",o);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":u!=null&&typeof u!="function"&&typeof u!="symbol"?s.setAttribute(o,""+u):s.removeAttribute(o);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":u&&typeof u!="function"&&typeof u!="symbol"?s.setAttribute(o,""):s.removeAttribute(o);break;case"capture":case"download":u===!0?s.setAttribute(o,""):u!==!1&&u!=null&&typeof u!="function"&&typeof u!="symbol"?s.setAttribute(o,u):s.removeAttribute(o);break;case"cols":case"rows":case"size":case"span":u!=null&&typeof u!="function"&&typeof u!="symbol"&&!isNaN(u)&&1<=u?s.setAttribute(o,u):s.removeAttribute(o);break;case"rowSpan":case"start":u==null||typeof u=="function"||typeof u=="symbol"||isNaN(u)?s.removeAttribute(o):s.setAttribute(o,u);break;case"popover":De("beforetoggle",s),De("toggle",s),Ol(s,"popover",u);break;case"xlinkActuate":ma(s,"http://www.w3.org/1999/xlink","xlink:actuate",u);break;case"xlinkArcrole":ma(s,"http://www.w3.org/1999/xlink","xlink:arcrole",u);break;case"xlinkRole":ma(s,"http://www.w3.org/1999/xlink","xlink:role",u);break;case"xlinkShow":ma(s,"http://www.w3.org/1999/xlink","xlink:show",u);break;case"xlinkTitle":ma(s,"http://www.w3.org/1999/xlink","xlink:title",u);break;case"xlinkType":ma(s,"http://www.w3.org/1999/xlink","xlink:type",u);break;case"xmlBase":ma(s,"http://www.w3.org/XML/1998/namespace","xml:base",u);break;case"xmlLang":ma(s,"http://www.w3.org/XML/1998/namespace","xml:lang",u);break;case"xmlSpace":ma(s,"http://www.w3.org/XML/1998/namespace","xml:space",u);break;case"is":Ol(s,"is",u);break;case"innerText":case"textContent":break;default:(!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(o=gS.get(o)||o,Ol(s,o,u))}}function ih(s,n,o,u,h,g){switch(o){case"style":lg(s,u,g);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(r(61));if(o=u.__html,o!=null){if(h.children!=null)throw Error(r(60));s.innerHTML=o}}break;case"children":typeof u=="string"?Ur(s,u):(typeof u=="number"||typeof u=="bigint")&&Ur(s,""+u);break;case"onScroll":u!=null&&De("scroll",s);break;case"onScrollEnd":u!=null&&De("scrollend",s);break;case"onClick":u!=null&&(s.onclick=ga);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Zm.hasOwnProperty(o))e:{if(o[0]==="o"&&o[1]==="n"&&(h=o.endsWith("Capture"),n=o.slice(2,h?o.length-7:void 0),g=s[ts]||null,g=g!=null?g[o]:null,typeof g=="function"&&s.removeEventListener(n,g,h),typeof u=="function")){typeof g!="function"&&g!==null&&(o in s?s[o]=null:s.hasAttribute(o)&&s.removeAttribute(o)),s.addEventListener(n,u,h);break e}o in s?s[o]=u:u===!0?s.setAttribute(o,""):Ol(s,o,u)}}}function Lt(s,n,o){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":De("error",s),De("load",s);var u=!1,h=!1,g;for(g in o)if(o.hasOwnProperty(g)){var S=o[g];if(S!=null)switch(g){case"src":u=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,n));default:Ve(s,n,g,S,o,null)}}h&&Ve(s,n,"srcSet",o.srcSet,o,null),u&&Ve(s,n,"src",o.src,o,null);return;case"input":De("invalid",s);var k=g=S=h=null,U=null,Q=null;for(u in o)if(o.hasOwnProperty(u)){var te=o[u];if(te!=null)switch(u){case"name":h=te;break;case"type":S=te;break;case"checked":U=te;break;case"defaultChecked":Q=te;break;case"value":g=te;break;case"defaultValue":k=te;break;case"children":case"dangerouslySetInnerHTML":if(te!=null)throw Error(r(137,n));break;default:Ve(s,n,u,te,o,null)}}ng(s,g,k,U,Q,S,h,!1);return;case"select":De("invalid",s),u=S=g=null;for(h in o)if(o.hasOwnProperty(h)&&(k=o[h],k!=null))switch(h){case"value":g=k;break;case"defaultValue":S=k;break;case"multiple":u=k;default:Ve(s,n,h,k,o,null)}n=g,o=S,s.multiple=!!u,n!=null?Lr(s,!!u,n,!1):o!=null&&Lr(s,!!u,o,!0);return;case"textarea":De("invalid",s),g=h=u=null;for(S in o)if(o.hasOwnProperty(S)&&(k=o[S],k!=null))switch(S){case"value":u=k;break;case"defaultValue":h=k;break;case"children":g=k;break;case"dangerouslySetInnerHTML":if(k!=null)throw Error(r(91));break;default:Ve(s,n,S,k,o,null)}ig(s,u,h,g);return;case"option":for(U in o)if(o.hasOwnProperty(U)&&(u=o[U],u!=null))switch(U){case"selected":s.selected=u&&typeof u!="function"&&typeof u!="symbol";break;default:Ve(s,n,U,u,o,null)}return;case"dialog":De("beforetoggle",s),De("toggle",s),De("cancel",s),De("close",s);break;case"iframe":case"object":De("load",s);break;case"video":case"audio":for(u=0;u<Mo.length;u++)De(Mo[u],s);break;case"image":De("error",s),De("load",s);break;case"details":De("toggle",s);break;case"embed":case"source":case"link":De("error",s),De("load",s);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Q in o)if(o.hasOwnProperty(Q)&&(u=o[Q],u!=null))switch(Q){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,n));default:Ve(s,n,Q,u,o,null)}return;default:if(vd(n)){for(te in o)o.hasOwnProperty(te)&&(u=o[te],u!==void 0&&ih(s,n,te,u,o,void 0));return}}for(k in o)o.hasOwnProperty(k)&&(u=o[k],u!=null&&Ve(s,n,k,u,o,null))}function $_(s,n,o,u){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,g=null,S=null,k=null,U=null,Q=null,te=null;for(J in o){var ne=o[J];if(o.hasOwnProperty(J)&&ne!=null)switch(J){case"checked":break;case"value":break;case"defaultValue":U=ne;default:u.hasOwnProperty(J)||Ve(s,n,J,null,u,ne)}}for(var W in u){var J=u[W];if(ne=o[W],u.hasOwnProperty(W)&&(J!=null||ne!=null))switch(W){case"type":g=J;break;case"name":h=J;break;case"checked":Q=J;break;case"defaultChecked":te=J;break;case"value":S=J;break;case"defaultValue":k=J;break;case"children":case"dangerouslySetInnerHTML":if(J!=null)throw Error(r(137,n));break;default:J!==ne&&Ve(s,n,W,J,u,ne)}}xd(s,S,k,U,Q,te,g,h);return;case"select":J=S=k=W=null;for(g in o)if(U=o[g],o.hasOwnProperty(g)&&U!=null)switch(g){case"value":break;case"multiple":J=U;default:u.hasOwnProperty(g)||Ve(s,n,g,null,u,U)}for(h in u)if(g=u[h],U=o[h],u.hasOwnProperty(h)&&(g!=null||U!=null))switch(h){case"value":W=g;break;case"defaultValue":k=g;break;case"multiple":S=g;default:g!==U&&Ve(s,n,h,g,u,U)}n=k,o=S,u=J,W!=null?Lr(s,!!o,W,!1):!!u!=!!o&&(n!=null?Lr(s,!!o,n,!0):Lr(s,!!o,o?[]:"",!1));return;case"textarea":J=W=null;for(k in o)if(h=o[k],o.hasOwnProperty(k)&&h!=null&&!u.hasOwnProperty(k))switch(k){case"value":break;case"children":break;default:Ve(s,n,k,null,u,h)}for(S in u)if(h=u[S],g=o[S],u.hasOwnProperty(S)&&(h!=null||g!=null))switch(S){case"value":W=h;break;case"defaultValue":J=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(r(91));break;default:h!==g&&Ve(s,n,S,h,u,g)}rg(s,W,J);return;case"option":for(var pe in o)if(W=o[pe],o.hasOwnProperty(pe)&&W!=null&&!u.hasOwnProperty(pe))switch(pe){case"selected":s.selected=!1;break;default:Ve(s,n,pe,null,u,W)}for(U in u)if(W=u[U],J=o[U],u.hasOwnProperty(U)&&W!==J&&(W!=null||J!=null))switch(U){case"selected":s.selected=W&&typeof W!="function"&&typeof W!="symbol";break;default:Ve(s,n,U,W,u,J)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Se in o)W=o[Se],o.hasOwnProperty(Se)&&W!=null&&!u.hasOwnProperty(Se)&&Ve(s,n,Se,null,u,W);for(Q in u)if(W=u[Q],J=o[Q],u.hasOwnProperty(Q)&&W!==J&&(W!=null||J!=null))switch(Q){case"children":case"dangerouslySetInnerHTML":if(W!=null)throw Error(r(137,n));break;default:Ve(s,n,Q,W,u,J)}return;default:if(vd(n)){for(var Qe in o)W=o[Qe],o.hasOwnProperty(Qe)&&W!==void 0&&!u.hasOwnProperty(Qe)&&ih(s,n,Qe,void 0,u,W);for(te in u)W=u[te],J=o[te],!u.hasOwnProperty(te)||W===J||W===void 0&&J===void 0||ih(s,n,te,W,u,J);return}}for(var $ in o)W=o[$],o.hasOwnProperty($)&&W!=null&&!u.hasOwnProperty($)&&Ve(s,n,$,null,u,W);for(ne in u)W=u[ne],J=o[ne],!u.hasOwnProperty(ne)||W===J||W==null&&J==null||Ve(s,n,ne,W,u,J)}function c0(s){switch(s){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function F_(){if(typeof performance.getEntriesByType=="function"){for(var s=0,n=0,o=performance.getEntriesByType("resource"),u=0;u<o.length;u++){var h=o[u],g=h.transferSize,S=h.initiatorType,k=h.duration;if(g&&k&&c0(S)){for(S=0,k=h.responseEnd,u+=1;u<o.length;u++){var U=o[u],Q=U.startTime;if(Q>k)break;var te=U.transferSize,ne=U.initiatorType;te&&c0(ne)&&(U=U.responseEnd,S+=te*(U<k?1:(k-Q)/(U-Q)))}if(--u,n+=8*(g+S)/(h.duration/1e3),s++,10<s)break}}if(0<s)return n/s/1e6}return navigator.connection&&(s=navigator.connection.downlink,typeof s=="number")?s:5}var oh=null,lh=null;function Cc(s){return s.nodeType===9?s:s.ownerDocument}function u0(s){switch(s){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function d0(s,n){if(s===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return s===1&&n==="foreignObject"?0:s}function ch(s,n){return s==="textarea"||s==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var uh=null;function G_(){var s=window.event;return s&&s.type==="popstate"?s===uh?!1:(uh=s,!0):(uh=null,!1)}var f0=typeof setTimeout=="function"?setTimeout:void 0,V_=typeof clearTimeout=="function"?clearTimeout:void 0,h0=typeof Promise=="function"?Promise:void 0,Q_=typeof queueMicrotask=="function"?queueMicrotask:typeof h0<"u"?function(s){return h0.resolve(null).then(s).catch(Y_)}:f0;function Y_(s){setTimeout(function(){throw s})}function cn(s){return s==="head"}function p0(s,n){var o=n,u=0;do{var h=o.nextSibling;if(s.removeChild(o),h&&h.nodeType===8)if(o=h.data,o==="/$"||o==="/&"){if(u===0){s.removeChild(h),pi(n);return}u--}else if(o==="$"||o==="$?"||o==="$~"||o==="$!"||o==="&")u++;else if(o==="html")Uo(s.ownerDocument.documentElement);else if(o==="head"){o=s.ownerDocument.head,Uo(o);for(var g=o.firstChild;g;){var S=g.nextSibling,k=g.nodeName;g[eo]||k==="SCRIPT"||k==="STYLE"||k==="LINK"&&g.rel.toLowerCase()==="stylesheet"||o.removeChild(g),g=S}}else o==="body"&&Uo(s.ownerDocument.body);o=h}while(o);pi(n)}function m0(s,n){var o=s;s=0;do{var u=o.nextSibling;if(o.nodeType===1?n?(o._stashedDisplay=o.style.display,o.style.display="none"):(o.style.display=o._stashedDisplay||"",o.getAttribute("style")===""&&o.removeAttribute("style")):o.nodeType===3&&(n?(o._stashedText=o.nodeValue,o.nodeValue=""):o.nodeValue=o._stashedText||""),u&&u.nodeType===8)if(o=u.data,o==="/$"){if(s===0)break;s--}else o!=="$"&&o!=="$?"&&o!=="$~"&&o!=="$!"||s++;o=u}while(o)}function dh(s){var n=s.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var o=n;switch(n=n.nextSibling,o.nodeName){case"HTML":case"HEAD":case"BODY":dh(o),md(o);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(o.rel.toLowerCase()==="stylesheet")continue}s.removeChild(o)}}function K_(s,n,o,u){for(;s.nodeType===1;){var h=o;if(s.nodeName.toLowerCase()!==n.toLowerCase()){if(!u&&(s.nodeName!=="INPUT"||s.type!=="hidden"))break}else if(u){if(!s[eo])switch(n){case"meta":if(!s.hasAttribute("itemprop"))break;return s;case"link":if(g=s.getAttribute("rel"),g==="stylesheet"&&s.hasAttribute("data-precedence"))break;if(g!==h.rel||s.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||s.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||s.getAttribute("title")!==(h.title==null?null:h.title))break;return s;case"style":if(s.hasAttribute("data-precedence"))break;return s;case"script":if(g=s.getAttribute("src"),(g!==(h.src==null?null:h.src)||s.getAttribute("type")!==(h.type==null?null:h.type)||s.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&g&&s.hasAttribute("async")&&!s.hasAttribute("itemprop"))break;return s;default:return s}}else if(n==="input"&&s.type==="hidden"){var g=h.name==null?null:""+h.name;if(h.type==="hidden"&&s.getAttribute("name")===g)return s}else return s;if(s=Rs(s.nextSibling),s===null)break}return null}function W_(s,n,o){if(n==="")return null;for(;s.nodeType!==3;)if((s.nodeType!==1||s.nodeName!=="INPUT"||s.type!=="hidden")&&!o||(s=Rs(s.nextSibling),s===null))return null;return s}function g0(s,n){for(;s.nodeType!==8;)if((s.nodeType!==1||s.nodeName!=="INPUT"||s.type!=="hidden")&&!n||(s=Rs(s.nextSibling),s===null))return null;return s}function fh(s){return s.data==="$?"||s.data==="$~"}function hh(s){return s.data==="$!"||s.data==="$?"&&s.ownerDocument.readyState!=="loading"}function X_(s,n){var o=s.ownerDocument;if(s.data==="$~")s._reactRetry=n;else if(s.data!=="$?"||o.readyState!=="loading")n();else{var u=function(){n(),o.removeEventListener("DOMContentLoaded",u)};o.addEventListener("DOMContentLoaded",u),s._reactRetry=u}}function Rs(s){for(;s!=null;s=s.nextSibling){var n=s.nodeType;if(n===1||n===3)break;if(n===8){if(n=s.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return s}var ph=null;function x0(s){s=s.nextSibling;for(var n=0;s;){if(s.nodeType===8){var o=s.data;if(o==="/$"||o==="/&"){if(n===0)return Rs(s.nextSibling);n--}else o!=="$"&&o!=="$!"&&o!=="$?"&&o!=="$~"&&o!=="&"||n++}s=s.nextSibling}return null}function y0(s){s=s.previousSibling;for(var n=0;s;){if(s.nodeType===8){var o=s.data;if(o==="$"||o==="$!"||o==="$?"||o==="$~"||o==="&"){if(n===0)return s;n--}else o!=="/$"&&o!=="/&"||n++}s=s.previousSibling}return null}function v0(s,n,o){switch(n=Cc(o),s){case"html":if(s=n.documentElement,!s)throw Error(r(452));return s;case"head":if(s=n.head,!s)throw Error(r(453));return s;case"body":if(s=n.body,!s)throw Error(r(454));return s;default:throw Error(r(451))}}function Uo(s){for(var n=s.attributes;n.length;)s.removeAttributeNode(n[0]);md(s)}var Ps=new Map,b0=new Set;function Tc(s){return typeof s.getRootNode=="function"?s.getRootNode():s.nodeType===9?s:s.ownerDocument}var Da=Y.d;Y.d={f:J_,r:Z_,D:eN,C:tN,L:sN,m:aN,X:rN,S:nN,M:iN};function J_(){var s=Da.f(),n=wc();return s||n}function Z_(s){var n=Rr(s);n!==null&&n.tag===5&&n.type==="form"?Ux(n):Da.r(s)}var di=typeof document>"u"?null:document;function w0(s,n,o){var u=di;if(u&&typeof n=="string"&&n){var h=ks(n);h='link[rel="'+s+'"][href="'+h+'"]',typeof o=="string"&&(h+='[crossorigin="'+o+'"]'),b0.has(h)||(b0.add(h),s={rel:s,crossOrigin:o,href:n},u.querySelector(h)===null&&(n=u.createElement("link"),Lt(n,"link",s),At(n),u.head.appendChild(n)))}}function eN(s){Da.D(s),w0("dns-prefetch",s,null)}function tN(s,n){Da.C(s,n),w0("preconnect",s,n)}function sN(s,n,o){Da.L(s,n,o);var u=di;if(u&&s&&n){var h='link[rel="preload"][as="'+ks(n)+'"]';n==="image"&&o&&o.imageSrcSet?(h+='[imagesrcset="'+ks(o.imageSrcSet)+'"]',typeof o.imageSizes=="string"&&(h+='[imagesizes="'+ks(o.imageSizes)+'"]')):h+='[href="'+ks(s)+'"]';var g=h;switch(n){case"style":g=fi(s);break;case"script":g=hi(s)}Ps.has(g)||(s=x({rel:"preload",href:n==="image"&&o&&o.imageSrcSet?void 0:s,as:n},o),Ps.set(g,s),u.querySelector(h)!==null||n==="style"&&u.querySelector(Io(g))||n==="script"&&u.querySelector(zo(g))||(n=u.createElement("link"),Lt(n,"link",s),At(n),u.head.appendChild(n)))}}function aN(s,n){Da.m(s,n);var o=di;if(o&&s){var u=n&&typeof n.as=="string"?n.as:"script",h='link[rel="modulepreload"][as="'+ks(u)+'"][href="'+ks(s)+'"]',g=h;switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":g=hi(s)}if(!Ps.has(g)&&(s=x({rel:"modulepreload",href:s},n),Ps.set(g,s),o.querySelector(h)===null)){switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(o.querySelector(zo(g)))return}u=o.createElement("link"),Lt(u,"link",s),At(u),o.head.appendChild(u)}}}function nN(s,n,o){Da.S(s,n,o);var u=di;if(u&&s){var h=Pr(u).hoistableStyles,g=fi(s);n=n||"default";var S=h.get(g);if(!S){var k={loading:0,preload:null};if(S=u.querySelector(Io(g)))k.loading=5;else{s=x({rel:"stylesheet",href:s,"data-precedence":n},o),(o=Ps.get(g))&&mh(s,o);var U=S=u.createElement("link");At(U),Lt(U,"link",s),U._p=new Promise(function(Q,te){U.onload=Q,U.onerror=te}),U.addEventListener("load",function(){k.loading|=1}),U.addEventListener("error",function(){k.loading|=2}),k.loading|=4,Oc(S,n,u)}S={type:"stylesheet",instance:S,count:1,state:k},h.set(g,S)}}}function rN(s,n){Da.X(s,n);var o=di;if(o&&s){var u=Pr(o).hoistableScripts,h=hi(s),g=u.get(h);g||(g=o.querySelector(zo(h)),g||(s=x({src:s,async:!0},n),(n=Ps.get(h))&&gh(s,n),g=o.createElement("script"),At(g),Lt(g,"link",s),o.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},u.set(h,g))}}function iN(s,n){Da.M(s,n);var o=di;if(o&&s){var u=Pr(o).hoistableScripts,h=hi(s),g=u.get(h);g||(g=o.querySelector(zo(h)),g||(s=x({src:s,async:!0,type:"module"},n),(n=Ps.get(h))&&gh(s,n),g=o.createElement("script"),At(g),Lt(g,"link",s),o.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},u.set(h,g))}}function j0(s,n,o,u){var h=(h=ce.current)?Tc(h):null;if(!h)throw Error(r(446));switch(s){case"meta":case"title":return null;case"style":return typeof o.precedence=="string"&&typeof o.href=="string"?(n=fi(o.href),o=Pr(h).hoistableStyles,u=o.get(n),u||(u={type:"style",instance:null,count:0,state:null},o.set(n,u)),u):{type:"void",instance:null,count:0,state:null};case"link":if(o.rel==="stylesheet"&&typeof o.href=="string"&&typeof o.precedence=="string"){s=fi(o.href);var g=Pr(h).hoistableStyles,S=g.get(s);if(S||(h=h.ownerDocument||h,S={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},g.set(s,S),(g=h.querySelector(Io(s)))&&!g._p&&(S.instance=g,S.state.loading=5),Ps.has(s)||(o={rel:"preload",as:"style",href:o.href,crossOrigin:o.crossOrigin,integrity:o.integrity,media:o.media,hrefLang:o.hrefLang,referrerPolicy:o.referrerPolicy},Ps.set(s,o),g||oN(h,s,o,S.state))),n&&u===null)throw Error(r(528,""));return S}if(n&&u!==null)throw Error(r(529,""));return null;case"script":return n=o.async,o=o.src,typeof o=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=hi(o),o=Pr(h).hoistableScripts,u=o.get(n),u||(u={type:"script",instance:null,count:0,state:null},o.set(n,u)),u):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,s))}}function fi(s){return'href="'+ks(s)+'"'}function Io(s){return'link[rel="stylesheet"]['+s+"]"}function S0(s){return x({},s,{"data-precedence":s.precedence,precedence:null})}function oN(s,n,o,u){s.querySelector('link[rel="preload"][as="style"]['+n+"]")?u.loading=1:(n=s.createElement("link"),u.preload=n,n.addEventListener("load",function(){return u.loading|=1}),n.addEventListener("error",function(){return u.loading|=2}),Lt(n,"link",o),At(n),s.head.appendChild(n))}function hi(s){return'[src="'+ks(s)+'"]'}function zo(s){return"script[async]"+s}function _0(s,n,o){if(n.count++,n.instance===null)switch(n.type){case"style":var u=s.querySelector('style[data-href~="'+ks(o.href)+'"]');if(u)return n.instance=u,At(u),u;var h=x({},o,{"data-href":o.href,"data-precedence":o.precedence,href:null,precedence:null});return u=(s.ownerDocument||s).createElement("style"),At(u),Lt(u,"style",h),Oc(u,o.precedence,s),n.instance=u;case"stylesheet":h=fi(o.href);var g=s.querySelector(Io(h));if(g)return n.state.loading|=4,n.instance=g,At(g),g;u=S0(o),(h=Ps.get(h))&&mh(u,h),g=(s.ownerDocument||s).createElement("link"),At(g);var S=g;return S._p=new Promise(function(k,U){S.onload=k,S.onerror=U}),Lt(g,"link",u),n.state.loading|=4,Oc(g,o.precedence,s),n.instance=g;case"script":return g=hi(o.src),(h=s.querySelector(zo(g)))?(n.instance=h,At(h),h):(u=o,(h=Ps.get(g))&&(u=x({},o),gh(u,h)),s=s.ownerDocument||s,h=s.createElement("script"),At(h),Lt(h,"link",u),s.head.appendChild(h),n.instance=h);case"void":return null;default:throw Error(r(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(u=n.instance,n.state.loading|=4,Oc(u,o.precedence,s));return n.instance}function Oc(s,n,o){for(var u=o.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=u.length?u[u.length-1]:null,g=h,S=0;S<u.length;S++){var k=u[S];if(k.dataset.precedence===n)g=k;else if(g!==h)break}g?g.parentNode.insertBefore(s,g.nextSibling):(n=o.nodeType===9?o.head:o,n.insertBefore(s,n.firstChild))}function mh(s,n){s.crossOrigin==null&&(s.crossOrigin=n.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=n.referrerPolicy),s.title==null&&(s.title=n.title)}function gh(s,n){s.crossOrigin==null&&(s.crossOrigin=n.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=n.referrerPolicy),s.integrity==null&&(s.integrity=n.integrity)}var Dc=null;function N0(s,n,o){if(Dc===null){var u=new Map,h=Dc=new Map;h.set(o,u)}else h=Dc,u=h.get(o),u||(u=new Map,h.set(o,u));if(u.has(s))return u;for(u.set(s,null),o=o.getElementsByTagName(s),h=0;h<o.length;h++){var g=o[h];if(!(g[eo]||g[Dt]||s==="link"&&g.getAttribute("rel")==="stylesheet")&&g.namespaceURI!=="http://www.w3.org/2000/svg"){var S=g.getAttribute(n)||"";S=s+S;var k=u.get(S);k?k.push(g):u.set(S,[g])}}return u}function k0(s,n,o){s=s.ownerDocument||s,s.head.insertBefore(o,n==="title"?s.querySelector("head > title"):null)}function lN(s,n,o){if(o===1||n.itemProp!=null)return!1;switch(s){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return s=n.disabled,typeof n.precedence=="string"&&s==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function E0(s){return!(s.type==="stylesheet"&&(s.state.loading&3)===0)}function cN(s,n,o,u){if(o.type==="stylesheet"&&(typeof u.media!="string"||matchMedia(u.media).matches!==!1)&&(o.state.loading&4)===0){if(o.instance===null){var h=fi(u.href),g=n.querySelector(Io(h));if(g){n=g._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(s.count++,s=Rc.bind(s),n.then(s,s)),o.state.loading|=4,o.instance=g,At(g);return}g=n.ownerDocument||n,u=S0(u),(h=Ps.get(h))&&mh(u,h),g=g.createElement("link"),At(g);var S=g;S._p=new Promise(function(k,U){S.onload=k,S.onerror=U}),Lt(g,"link",u),o.instance=g}s.stylesheets===null&&(s.stylesheets=new Map),s.stylesheets.set(o,n),(n=o.state.preload)&&(o.state.loading&3)===0&&(s.count++,o=Rc.bind(s),n.addEventListener("load",o),n.addEventListener("error",o))}}var xh=0;function uN(s,n){return s.stylesheets&&s.count===0&&Mc(s,s.stylesheets),0<s.count||0<s.imgCount?function(o){var u=setTimeout(function(){if(s.stylesheets&&Mc(s,s.stylesheets),s.unsuspend){var g=s.unsuspend;s.unsuspend=null,g()}},6e4+n);0<s.imgBytes&&xh===0&&(xh=62500*F_());var h=setTimeout(function(){if(s.waitingForImages=!1,s.count===0&&(s.stylesheets&&Mc(s,s.stylesheets),s.unsuspend)){var g=s.unsuspend;s.unsuspend=null,g()}},(s.imgBytes>xh?50:800)+n);return s.unsuspend=o,function(){s.unsuspend=null,clearTimeout(u),clearTimeout(h)}}:null}function Rc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Mc(this,this.stylesheets);else if(this.unsuspend){var s=this.unsuspend;this.unsuspend=null,s()}}}var Pc=null;function Mc(s,n){s.stylesheets=null,s.unsuspend!==null&&(s.count++,Pc=new Map,n.forEach(dN,s),Pc=null,Rc.call(s))}function dN(s,n){if(!(n.state.loading&4)){var o=Pc.get(s);if(o)var u=o.get(null);else{o=new Map,Pc.set(s,o);for(var h=s.querySelectorAll("link[data-precedence],style[data-precedence]"),g=0;g<h.length;g++){var S=h[g];(S.nodeName==="LINK"||S.getAttribute("media")!=="not all")&&(o.set(S.dataset.precedence,S),u=S)}u&&o.set(null,u)}h=n.instance,S=h.getAttribute("data-precedence"),g=o.get(S)||u,g===u&&o.set(null,h),o.set(S,h),this.count++,u=Rc.bind(this),h.addEventListener("load",u),h.addEventListener("error",u),g?g.parentNode.insertBefore(h,g.nextSibling):(s=s.nodeType===9?s.head:s,s.insertBefore(h,s.firstChild)),n.state.loading|=4}}var qo={$$typeof:A,Provider:null,Consumer:null,_currentValue:H,_currentValue2:H,_threadCount:0};function fN(s,n,o,u,h,g,S,k,U){this.tag=1,this.containerInfo=s,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=$a(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=$a(0),this.hiddenUpdates=$a(null),this.identifierPrefix=u,this.onUncaughtError=h,this.onCaughtError=g,this.onRecoverableError=S,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=U,this.incompleteTransitions=new Map}function A0(s,n,o,u,h,g,S,k,U,Q,te,ne){return s=new fN(s,n,o,S,U,Q,te,ne,k),n=1,g===!0&&(n|=24),g=hs(3,null,null,n),s.current=g,g.stateNode=s,n=Kd(),n.refCount++,s.pooledCache=n,n.refCount++,g.memoizedState={element:u,isDehydrated:o,cache:n},Zd(g),s}function C0(s){return s?(s=Fr,s):Fr}function T0(s,n,o,u,h,g){h=C0(h),u.context===null?u.context=h:u.pendingContext=h,u=Xa(n),u.payload={element:o},g=g===void 0?null:g,g!==null&&(u.callback=g),o=Ja(s,u,n),o!==null&&(os(o,s,n),yo(o,s,n))}function O0(s,n){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var o=s.retryLane;s.retryLane=o!==0&&o<n?o:n}}function yh(s,n){O0(s,n),(s=s.alternate)&&O0(s,n)}function D0(s){if(s.tag===13||s.tag===31){var n=Fn(s,67108864);n!==null&&os(n,s,67108864),yh(s,67108864)}}function R0(s){if(s.tag===13||s.tag===31){var n=ys();n=Tr(n);var o=Fn(s,n);o!==null&&os(o,s,n),yh(s,n)}}var Lc=!0;function hN(s,n,o,u){var h=D.T;D.T=null;var g=Y.p;try{Y.p=2,vh(s,n,o,u)}finally{Y.p=g,D.T=h}}function pN(s,n,o,u){var h=D.T;D.T=null;var g=Y.p;try{Y.p=8,vh(s,n,o,u)}finally{Y.p=g,D.T=h}}function vh(s,n,o,u){if(Lc){var h=bh(u);if(h===null)rh(s,n,u,Uc,o),M0(s,u);else if(gN(h,s,n,o,u))u.stopPropagation();else if(M0(s,u),n&4&&-1<mN.indexOf(s)){for(;h!==null;){var g=Rr(h);if(g!==null)switch(g.tag){case 3:if(g=g.stateNode,g.current.memoizedState.isDehydrated){var S=Zs(g.pendingLanes);if(S!==0){var k=g;for(k.pendingLanes|=2,k.entangledLanes|=2;S;){var U=1<<31-It(S);k.entanglements[1]|=U,S&=~U}aa(g),(Be&6)===0&&(vc=Qt()+500,Po(0))}}break;case 31:case 13:k=Fn(g,2),k!==null&&os(k,g,2),wc(),yh(g,2)}if(g=bh(u),g===null&&rh(s,n,u,Uc,o),g===h)break;h=g}h!==null&&u.stopPropagation()}else rh(s,n,u,null,o)}}function bh(s){return s=wd(s),wh(s)}var Uc=null;function wh(s){if(Uc=null,s=Dr(s),s!==null){var n=c(s);if(n===null)s=null;else{var o=n.tag;if(o===13){if(s=d(n),s!==null)return s;s=null}else if(o===31){if(s=f(n),s!==null)return s;s=null}else if(o===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;s=null}else n!==s&&(s=null)}}return Uc=s,null}function P0(s){switch(s){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(dd()){case Mn:return 2;case Cl:return 8;case Ln:case Ji:return 32;case pa:return 268435456;default:return 32}default:return 32}}var jh=!1,un=null,dn=null,fn=null,Bo=new Map,Ho=new Map,hn=[],mN="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function M0(s,n){switch(s){case"focusin":case"focusout":un=null;break;case"dragenter":case"dragleave":dn=null;break;case"mouseover":case"mouseout":fn=null;break;case"pointerover":case"pointerout":Bo.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ho.delete(n.pointerId)}}function $o(s,n,o,u,h,g){return s===null||s.nativeEvent!==g?(s={blockedOn:n,domEventName:o,eventSystemFlags:u,nativeEvent:g,targetContainers:[h]},n!==null&&(n=Rr(n),n!==null&&D0(n)),s):(s.eventSystemFlags|=u,n=s.targetContainers,h!==null&&n.indexOf(h)===-1&&n.push(h),s)}function gN(s,n,o,u,h){switch(n){case"focusin":return un=$o(un,s,n,o,u,h),!0;case"dragenter":return dn=$o(dn,s,n,o,u,h),!0;case"mouseover":return fn=$o(fn,s,n,o,u,h),!0;case"pointerover":var g=h.pointerId;return Bo.set(g,$o(Bo.get(g)||null,s,n,o,u,h)),!0;case"gotpointercapture":return g=h.pointerId,Ho.set(g,$o(Ho.get(g)||null,s,n,o,u,h)),!0}return!1}function L0(s){var n=Dr(s.target);if(n!==null){var o=c(n);if(o!==null){if(n=o.tag,n===13){if(n=d(o),n!==null){s.blockedOn=n,Wm(s.priority,function(){R0(o)});return}}else if(n===31){if(n=f(o),n!==null){s.blockedOn=n,Wm(s.priority,function(){R0(o)});return}}else if(n===3&&o.stateNode.current.memoizedState.isDehydrated){s.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}s.blockedOn=null}function Ic(s){if(s.blockedOn!==null)return!1;for(var n=s.targetContainers;0<n.length;){var o=bh(s.nativeEvent);if(o===null){o=s.nativeEvent;var u=new o.constructor(o.type,o);bd=u,o.target.dispatchEvent(u),bd=null}else return n=Rr(o),n!==null&&D0(n),s.blockedOn=o,!1;n.shift()}return!0}function U0(s,n,o){Ic(s)&&o.delete(n)}function xN(){jh=!1,un!==null&&Ic(un)&&(un=null),dn!==null&&Ic(dn)&&(dn=null),fn!==null&&Ic(fn)&&(fn=null),Bo.forEach(U0),Ho.forEach(U0)}function zc(s,n){s.blockedOn===n&&(s.blockedOn=null,jh||(jh=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,xN)))}var qc=null;function I0(s){qc!==s&&(qc=s,e.unstable_scheduleCallback(e.unstable_NormalPriority,function(){qc===s&&(qc=null);for(var n=0;n<s.length;n+=3){var o=s[n],u=s[n+1],h=s[n+2];if(typeof u!="function"){if(wh(u||o)===null)continue;break}var g=Rr(o);g!==null&&(s.splice(n,3),n-=3,bf(g,{pending:!0,data:h,method:o.method,action:u},u,h))}}))}function pi(s){function n(U){return zc(U,s)}un!==null&&zc(un,s),dn!==null&&zc(dn,s),fn!==null&&zc(fn,s),Bo.forEach(n),Ho.forEach(n);for(var o=0;o<hn.length;o++){var u=hn[o];u.blockedOn===s&&(u.blockedOn=null)}for(;0<hn.length&&(o=hn[0],o.blockedOn===null);)L0(o),o.blockedOn===null&&hn.shift();if(o=(s.ownerDocument||s).$$reactFormReplay,o!=null)for(u=0;u<o.length;u+=3){var h=o[u],g=o[u+1],S=h[ts]||null;if(typeof g=="function")S||I0(o);else if(S){var k=null;if(g&&g.hasAttribute("formAction")){if(h=g,S=g[ts]||null)k=S.formAction;else if(wh(h)!==null)continue}else k=S.action;typeof k=="function"?o[u+1]=k:(o.splice(u,3),u-=3),I0(o)}}}function z0(){function s(g){g.canIntercept&&g.info==="react-transition"&&g.intercept({handler:function(){return new Promise(function(S){return h=S})},focusReset:"manual",scroll:"manual"})}function n(){h!==null&&(h(),h=null),u||setTimeout(o,20)}function o(){if(!u&&!navigation.transition){var g=navigation.currentEntry;g&&g.url!=null&&navigation.navigate(g.url,{state:g.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var u=!1,h=null;return navigation.addEventListener("navigate",s),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(o,100),function(){u=!0,navigation.removeEventListener("navigate",s),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),h!==null&&(h(),h=null)}}}function Sh(s){this._internalRoot=s}Bc.prototype.render=Sh.prototype.render=function(s){var n=this._internalRoot;if(n===null)throw Error(r(409));var o=n.current,u=ys();T0(o,u,s,n,null,null)},Bc.prototype.unmount=Sh.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var n=s.containerInfo;T0(s.current,2,null,s,null,null),wc(),n[Or]=null}};function Bc(s){this._internalRoot=s}Bc.prototype.unstable_scheduleHydration=function(s){if(s){var n=hd();s={blockedOn:null,target:s,priority:n};for(var o=0;o<hn.length&&n!==0&&n<hn[o].priority;o++);hn.splice(o,0,s),o===0&&L0(s)}};var q0=t.version;if(q0!=="19.2.0")throw Error(r(527,q0,"19.2.0"));Y.findDOMNode=function(s){var n=s._reactInternals;if(n===void 0)throw typeof s.render=="function"?Error(r(188)):(s=Object.keys(s).join(","),Error(r(268,s)));return s=m(n),s=s!==null?y(s):null,s=s===null?null:s.stateNode,s};var yN={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:D,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Hc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Hc.isDisabled&&Hc.supportsFiber)try{Un=Hc.inject(yN),Yt=Hc}catch{}}return Vo.createRoot=function(s,n){if(!l(s))throw Error(r(299));var o=!1,u="",h=Qx,g=Yx,S=Kx;return n!=null&&(n.unstable_strictMode===!0&&(o=!0),n.identifierPrefix!==void 0&&(u=n.identifierPrefix),n.onUncaughtError!==void 0&&(h=n.onUncaughtError),n.onCaughtError!==void 0&&(g=n.onCaughtError),n.onRecoverableError!==void 0&&(S=n.onRecoverableError)),n=A0(s,1,!1,null,null,o,u,null,h,g,S,z0),s[Or]=n.current,nh(s),new Sh(n)},Vo.hydrateRoot=function(s,n,o){if(!l(s))throw Error(r(299));var u=!1,h="",g=Qx,S=Yx,k=Kx,U=null;return o!=null&&(o.unstable_strictMode===!0&&(u=!0),o.identifierPrefix!==void 0&&(h=o.identifierPrefix),o.onUncaughtError!==void 0&&(g=o.onUncaughtError),o.onCaughtError!==void 0&&(S=o.onCaughtError),o.onRecoverableError!==void 0&&(k=o.onRecoverableError),o.formState!==void 0&&(U=o.formState)),n=A0(s,1,!0,n,o??null,u,h,U,g,S,k,z0),n.context=C0(null),o=n.current,u=ys(),u=Tr(u),h=Xa(u),h.callback=null,Ja(o,h,u),o=u,n.current.lanes=o,at(n,o),aa(n),s[Or]=n.current,nh(s),new Bc(n)},Vo.version="19.2.0",Vo}var fv;function RE(){if(fv)return Th.exports;fv=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),Th.exports=DE(),Th.exports}var PE=RE(),ME=(function(){function e(){this.keyToValue=new Map,this.valueToKey=new Map}return e.prototype.set=function(t,a){this.keyToValue.set(t,a),this.valueToKey.set(a,t)},e.prototype.getByKey=function(t){return this.keyToValue.get(t)},e.prototype.getByValue=function(t){return this.valueToKey.get(t)},e.prototype.clear=function(){this.keyToValue.clear(),this.valueToKey.clear()},e})(),Vw=(function(){function e(t){this.generateIdentifier=t,this.kv=new ME}return e.prototype.register=function(t,a){this.kv.getByValue(t)||(a||(a=this.generateIdentifier(t)),this.kv.set(a,t))},e.prototype.clear=function(){this.kv.clear()},e.prototype.getIdentifier=function(t){return this.kv.getByValue(t)},e.prototype.getValue=function(t){return this.kv.getByKey(t)},e})(),LE=(function(){var e=function(t,a){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,l){r.__proto__=l}||function(r,l){for(var c in l)Object.prototype.hasOwnProperty.call(l,c)&&(r[c]=l[c])},e(t,a)};return function(t,a){if(typeof a!="function"&&a!==null)throw new TypeError("Class extends value "+String(a)+" is not a constructor or null");e(t,a);function r(){this.constructor=t}t.prototype=a===null?Object.create(a):(r.prototype=a.prototype,new r)}})(),UE=(function(e){LE(t,e);function t(){var a=e.call(this,function(r){return r.name})||this;return a.classToAllowedProps=new Map,a}return t.prototype.register=function(a,r){typeof r=="object"?(r.allowProps&&this.classToAllowedProps.set(a,r.allowProps),e.prototype.register.call(this,a,r.identifier)):e.prototype.register.call(this,a,r)},t.prototype.getAllowedProps=function(a){return this.classToAllowedProps.get(a)},t})(Vw),IE=function(e,t){var a=typeof Symbol=="function"&&e[Symbol.iterator];if(!a)return e;var r=a.call(e),l,c=[],d;try{for(;(t===void 0||t-- >0)&&!(l=r.next()).done;)c.push(l.value)}catch(f){d={error:f}}finally{try{l&&!l.done&&(a=r.return)&&a.call(r)}finally{if(d)throw d.error}}return c};function zE(e){if("values"in Object)return Object.values(e);var t=[];for(var a in e)e.hasOwnProperty(a)&&t.push(e[a]);return t}function qE(e,t){var a=zE(e);if("find"in a)return a.find(t);for(var r=a,l=0;l<r.length;l++){var c=r[l];if(t(c))return c}}function Pi(e,t){Object.entries(e).forEach(function(a){var r=IE(a,2),l=r[0],c=r[1];return t(c,l)})}function yu(e,t){return e.indexOf(t)!==-1}function hv(e,t){for(var a=0;a<e.length;a++){var r=e[a];if(t(r))return r}}var BE=(function(){function e(){this.transfomers={}}return e.prototype.register=function(t){this.transfomers[t.name]=t},e.prototype.findApplicable=function(t){return qE(this.transfomers,function(a){return a.isApplicable(t)})},e.prototype.findByName=function(t){return this.transfomers[t]},e})(),HE=function(e){return Object.prototype.toString.call(e).slice(8,-1)},Qw=function(e){return typeof e>"u"},$E=function(e){return e===null},il=function(e){return typeof e!="object"||e===null||e===Object.prototype?!1:Object.getPrototypeOf(e)===null?!0:Object.getPrototypeOf(e)===Object.prototype},vp=function(e){return il(e)&&Object.keys(e).length===0},_n=function(e){return Array.isArray(e)},FE=function(e){return typeof e=="string"},GE=function(e){return typeof e=="number"&&!isNaN(e)},VE=function(e){return typeof e=="boolean"},QE=function(e){return e instanceof RegExp},ol=function(e){return e instanceof Map},ll=function(e){return e instanceof Set},Yw=function(e){return HE(e)==="Symbol"},YE=function(e){return e instanceof Date&&!isNaN(e.valueOf())},KE=function(e){return e instanceof Error},pv=function(e){return typeof e=="number"&&isNaN(e)},WE=function(e){return VE(e)||$E(e)||Qw(e)||GE(e)||FE(e)||Yw(e)},XE=function(e){return typeof e=="bigint"},JE=function(e){return e===1/0||e===-1/0},ZE=function(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)},eA=function(e){return e instanceof URL},Kw=function(e){return e.replace(/\./g,"\\.")},Ph=function(e){return e.map(String).map(Kw).join(".")},Zo=function(e){for(var t=[],a="",r=0;r<e.length;r++){var l=e.charAt(r),c=l==="\\"&&e.charAt(r+1)===".";if(c){a+=".",r++;continue}var d=l===".";if(d){t.push(a),a="";continue}a+=l}var f=a;return t.push(f),t},bp=function(){return bp=Object.assign||function(e){for(var t,a=1,r=arguments.length;a<r;a++){t=arguments[a];for(var l in t)Object.prototype.hasOwnProperty.call(t,l)&&(e[l]=t[l])}return e},bp.apply(this,arguments)},wp=function(e,t){var a=typeof Symbol=="function"&&e[Symbol.iterator];if(!a)return e;var r=a.call(e),l,c=[],d;try{for(;(t===void 0||t-- >0)&&!(l=r.next()).done;)c.push(l.value)}catch(f){d={error:f}}finally{try{l&&!l.done&&(a=r.return)&&a.call(r)}finally{if(d)throw d.error}}return c},jp=function(e,t){for(var a=0,r=t.length,l=e.length;a<r;a++,l++)e[l]=t[a];return e};function na(e,t,a,r){return{isApplicable:e,annotation:t,transform:a,untransform:r}}var Ww=[na(Qw,"undefined",function(){return null},function(){}),na(XE,"bigint",function(e){return e.toString()},function(e){return typeof BigInt<"u"?BigInt(e):(console.error("Please add a BigInt polyfill."),e)}),na(YE,"Date",function(e){return e.toISOString()},function(e){return new Date(e)}),na(KE,"Error",function(e,t){var a={name:e.name,message:e.message};return t.allowedErrorProps.forEach(function(r){a[r]=e[r]}),a},function(e,t){var a=new Error(e.message);return a.name=e.name,a.stack=e.stack,t.allowedErrorProps.forEach(function(r){a[r]=e[r]}),a}),na(QE,"regexp",function(e){return""+e},function(e){var t=e.slice(1,e.lastIndexOf("/")),a=e.slice(e.lastIndexOf("/")+1);return new RegExp(t,a)}),na(ll,"set",function(e){return jp([],wp(e.values()))},function(e){return new Set(e)}),na(ol,"map",function(e){return jp([],wp(e.entries()))},function(e){return new Map(e)}),na(function(e){return pv(e)||JE(e)},"number",function(e){return pv(e)?"NaN":e>0?"Infinity":"-Infinity"},Number),na(function(e){return e===0&&1/e===-1/0},"number",function(){return"-0"},Number),na(eA,"URL",function(e){return e.toString()},function(e){return new URL(e)})];function Vu(e,t,a,r){return{isApplicable:e,annotation:t,transform:a,untransform:r}}var Xw=Vu(function(e,t){if(Yw(e)){var a=!!t.symbolRegistry.getIdentifier(e);return a}return!1},function(e,t){var a=t.symbolRegistry.getIdentifier(e);return["symbol",a]},function(e){return e.description},function(e,t,a){var r=a.symbolRegistry.getValue(t[1]);if(!r)throw new Error("Trying to deserialize unknown symbol");return r}),tA=[Int8Array,Uint8Array,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array,Uint8ClampedArray].reduce(function(e,t){return e[t.name]=t,e},{}),Jw=Vu(ZE,function(e){return["typed-array",e.constructor.name]},function(e){return jp([],wp(e))},function(e,t){var a=tA[t[1]];if(!a)throw new Error("Trying to deserialize unknown typed array");return new a(e)});function Zw(e,t){if(e?.constructor){var a=!!t.classRegistry.getIdentifier(e.constructor);return a}return!1}var e1=Vu(Zw,function(e,t){var a=t.classRegistry.getIdentifier(e.constructor);return["class",a]},function(e,t){var a=t.classRegistry.getAllowedProps(e.constructor);if(!a)return bp({},e);var r={};return a.forEach(function(l){r[l]=e[l]}),r},function(e,t,a){var r=a.classRegistry.getValue(t[1]);if(!r)throw new Error("Trying to deserialize unknown class - check https://github.com/blitz-js/superjson/issues/116#issuecomment-773996564");return Object.assign(Object.create(r.prototype),e)}),t1=Vu(function(e,t){return!!t.customTransformerRegistry.findApplicable(e)},function(e,t){var a=t.customTransformerRegistry.findApplicable(e);return["custom",a.name]},function(e,t){var a=t.customTransformerRegistry.findApplicable(e);return a.serialize(e)},function(e,t,a){var r=a.customTransformerRegistry.findByName(t[1]);if(!r)throw new Error("Trying to deserialize unknown custom value");return r.deserialize(e)}),sA=[e1,Xw,t1,Jw],mv=function(e,t){var a=hv(sA,function(l){return l.isApplicable(e,t)});if(a)return{value:a.transform(e,t),type:a.annotation(e,t)};var r=hv(Ww,function(l){return l.isApplicable(e,t)});if(r)return{value:r.transform(e,t),type:r.annotation}},s1={};Ww.forEach(function(e){s1[e.annotation]=e});var aA=function(e,t,a){if(_n(t))switch(t[0]){case"symbol":return Xw.untransform(e,t,a);case"class":return e1.untransform(e,t,a);case"custom":return t1.untransform(e,t,a);case"typed-array":return Jw.untransform(e,t,a);default:throw new Error("Unknown transformation: "+t)}else{var r=s1[t];if(!r)throw new Error("Unknown transformation: "+t);return r.untransform(e,a)}},Ai=function(e,t){for(var a=e.keys();t>0;)a.next(),t--;return a.next().value};function a1(e){if(yu(e,"__proto__"))throw new Error("__proto__ is not allowed as a property");if(yu(e,"prototype"))throw new Error("prototype is not allowed as a property");if(yu(e,"constructor"))throw new Error("constructor is not allowed as a property")}var nA=function(e,t){a1(t);for(var a=0;a<t.length;a++){var r=t[a];if(ll(e))e=Ai(e,+r);else if(ol(e)){var l=+r,c=+t[++a]==0?"key":"value",d=Ai(e,l);switch(c){case"key":e=d;break;case"value":e=e.get(d);break}}else e=e[r]}return e},Sp=function(e,t,a){if(a1(t),t.length===0)return a(e);for(var r=e,l=0;l<t.length-1;l++){var c=t[l];if(_n(r)){var d=+c;r=r[d]}else if(il(r))r=r[c];else if(ll(r)){var f=+c;r=Ai(r,f)}else if(ol(r)){var p=l===t.length-2;if(p)break;var f=+c,m=+t[++l]==0?"key":"value",y=Ai(r,f);switch(m){case"key":r=y;break;case"value":r=r.get(y);break}}}var x=t[t.length-1];if(_n(r)?r[+x]=a(r[+x]):il(r)&&(r[x]=a(r[x])),ll(r)){var v=Ai(r,+x),b=a(v);v!==b&&(r.delete(v),r.add(b))}if(ol(r)){var f=+t[t.length-2],N=Ai(r,f),m=+x==0?"key":"value";switch(m){case"key":{var w=a(N);r.set(w,r.get(N)),w!==N&&r.delete(N);break}case"value":{r.set(N,a(r.get(N)));break}}}return e},La=function(e,t){var a=typeof Symbol=="function"&&e[Symbol.iterator];if(!a)return e;var r=a.call(e),l,c=[],d;try{for(;(t===void 0||t-- >0)&&!(l=r.next()).done;)c.push(l.value)}catch(f){d={error:f}}finally{try{l&&!l.done&&(a=r.return)&&a.call(r)}finally{if(d)throw d.error}}return c},wn=function(e,t){for(var a=0,r=t.length,l=e.length;a<r;a++,l++)e[l]=t[a];return e};function _p(e,t,a){if(a===void 0&&(a=[]),!!e){if(!_n(e)){Pi(e,function(d,f){return _p(d,t,wn(wn([],La(a)),La(Zo(f))))});return}var r=La(e,2),l=r[0],c=r[1];c&&Pi(c,function(d,f){_p(d,t,wn(wn([],La(a)),La(Zo(f))))}),t(l,a)}}function rA(e,t,a){return _p(t,function(r,l){e=Sp(e,l,function(c){return aA(c,r,a)})}),e}function iA(e,t){function a(d,f){var p=nA(e,Zo(f));d.map(Zo).forEach(function(m){e=Sp(e,m,function(){return p})})}if(_n(t)){var r=La(t,2),l=r[0],c=r[1];l.forEach(function(d){e=Sp(e,Zo(d),function(){return e})}),c&&Pi(c,a)}else Pi(t,a);return e}var oA=function(e,t){return il(e)||_n(e)||ol(e)||ll(e)||Zw(e,t)};function lA(e,t,a){var r=a.get(e);r?r.push(t):a.set(e,[t])}function cA(e,t){var a={},r=void 0;return e.forEach(function(l){if(!(l.length<=1)){t||(l=l.map(function(p){return p.map(String)}).sort(function(p,m){return p.length-m.length}));var c=La(l),d=c[0],f=c.slice(1);d.length===0?r=f.map(Ph):a[Ph(d)]=f.map(Ph)}}),r?vp(a)?[r]:[r,a]:vp(a)?void 0:a}var n1=function(e,t,a,r,l,c,d){var f;l===void 0&&(l=[]),c===void 0&&(c=[]),d===void 0&&(d=new Map);var p=WE(e);if(!p){lA(e,l,t);var m=d.get(e);if(m)return r?{transformedValue:null}:m}if(!oA(e,a)){var y=mv(e,a),x=y?{transformedValue:y.value,annotations:[y.type]}:{transformedValue:e};return p||d.set(e,x),x}if(yu(c,e))return{transformedValue:null};var v=mv(e,a),b=(f=v?.value)!==null&&f!==void 0?f:e,N=_n(b)?[]:{},w={};Pi(b,function(E,T){var A=n1(E,t,a,r,wn(wn([],La(l)),[T]),wn(wn([],La(c)),[e]),d);N[T]=A.transformedValue,_n(A.annotations)?w[T]=A.annotations:il(A.annotations)&&Pi(A.annotations,function(I,M){w[Kw(T)+"."+M]=I})});var _=vp(w)?{transformedValue:N,annotations:v?[v.type]:void 0}:{transformedValue:N,annotations:v?[v.type,w]:w};return p||d.set(e,_),_};function r1(e){return Object.prototype.toString.call(e).slice(8,-1)}function gv(e){return r1(e)==="Array"}function uA(e){if(r1(e)!=="Object")return!1;const t=Object.getPrototypeOf(e);return!!t&&t.constructor===Object&&t===Object.prototype}function dA(e,t,a,r,l){const c={}.propertyIsEnumerable.call(r,t)?"enumerable":"nonenumerable";c==="enumerable"&&(e[t]=a),l&&c==="nonenumerable"&&Object.defineProperty(e,t,{value:a,enumerable:!1,writable:!0,configurable:!0})}function Np(e,t={}){if(gv(e))return e.map(l=>Np(l,t));if(!uA(e))return e;const a=Object.getOwnPropertyNames(e),r=Object.getOwnPropertySymbols(e);return[...a,...r].reduce((l,c)=>{if(gv(t.props)&&!t.props.includes(c))return l;const d=e[c],f=Np(d,t);return dA(l,c,f,e,t.nonenumerable),l},{})}var cr=function(){return cr=Object.assign||function(e){for(var t,a=1,r=arguments.length;a<r;a++){t=arguments[a];for(var l in t)Object.prototype.hasOwnProperty.call(t,l)&&(e[l]=t[l])}return e},cr.apply(this,arguments)},fA=function(e,t){var a=typeof Symbol=="function"&&e[Symbol.iterator];if(!a)return e;var r=a.call(e),l,c=[],d;try{for(;(t===void 0||t-- >0)&&!(l=r.next()).done;)c.push(l.value)}catch(f){d={error:f}}finally{try{l&&!l.done&&(a=r.return)&&a.call(r)}finally{if(d)throw d.error}}return c},hA=function(e,t){for(var a=0,r=t.length,l=e.length;a<r;a++,l++)e[l]=t[a];return e},za=(function(){function e(t){var a=t===void 0?{}:t,r=a.dedupe,l=r===void 0?!1:r;this.classRegistry=new UE,this.symbolRegistry=new Vw(function(c){var d;return(d=c.description)!==null&&d!==void 0?d:""}),this.customTransformerRegistry=new BE,this.allowedErrorProps=[],this.dedupe=l}return e.prototype.serialize=function(t){var a=new Map,r=n1(t,a,this,this.dedupe),l={json:r.transformedValue};r.annotations&&(l.meta=cr(cr({},l.meta),{values:r.annotations}));var c=cA(a,this.dedupe);return c&&(l.meta=cr(cr({},l.meta),{referentialEqualities:c})),l},e.prototype.deserialize=function(t){var a=t.json,r=t.meta,l=Np(a);return r?.values&&(l=rA(l,r.values,this)),r?.referentialEqualities&&(l=iA(l,r.referentialEqualities)),l},e.prototype.stringify=function(t){return JSON.stringify(this.serialize(t))},e.prototype.parse=function(t){return this.deserialize(JSON.parse(t))},e.prototype.registerClass=function(t,a){this.classRegistry.register(t,a)},e.prototype.registerSymbol=function(t,a){this.symbolRegistry.register(t,a)},e.prototype.registerCustom=function(t,a){this.customTransformerRegistry.register(cr({name:a},t))},e.prototype.allowErrorProps=function(){for(var t,a=[],r=0;r<arguments.length;r++)a[r]=arguments[r];(t=this.allowedErrorProps).push.apply(t,hA([],fA(a)))},e.defaultInstance=new e,e.serialize=e.defaultInstance.serialize.bind(e.defaultInstance),e.deserialize=e.defaultInstance.deserialize.bind(e.defaultInstance),e.stringify=e.defaultInstance.stringify.bind(e.defaultInstance),e.parse=e.defaultInstance.parse.bind(e.defaultInstance),e.registerClass=e.defaultInstance.registerClass.bind(e.defaultInstance),e.registerSymbol=e.defaultInstance.registerSymbol.bind(e.defaultInstance),e.registerCustom=e.defaultInstance.registerCustom.bind(e.defaultInstance),e.allowErrorProps=e.defaultInstance.allowErrorProps.bind(e.defaultInstance),e})();za.serialize;za.deserialize;za.stringify;za.parse;za.registerClass;za.registerCustom;za.registerSymbol;za.allowErrorProps;var pA=(e,t,a,r,l,c,d,f)=>{let p=document.documentElement,m=["light","dark"];function y(b){(Array.isArray(e)?e:[e]).forEach(N=>{let w=N==="class",_=w&&c?l.map(E=>c[E]||E):l;w?(p.classList.remove(..._),p.classList.add(c&&c[b]?c[b]:b)):p.setAttribute(N,b)}),x(b)}function x(b){f&&m.includes(b)&&(p.style.colorScheme=b)}function v(){return window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"}if(r)y(r);else try{let b=localStorage.getItem(t)||a,N=d&&b==="system"?v():b;y(N)}catch{}},mA=j.createContext(void 0),gA={setTheme:e=>{},themes:[]},xA=()=>{var e;return(e=j.useContext(mA))!=null?e:gA};j.memo(({forcedTheme:e,storageKey:t,attribute:a,enableSystem:r,enableColorScheme:l,defaultTheme:c,value:d,themes:f,nonce:p,scriptProps:m})=>{let y=JSON.stringify([a,t,c,e,f,d,r,l]).slice(1,-1);return j.createElement("script",{...m,suppressHydrationWarning:!0,nonce:typeof window>"u"?p:"",dangerouslySetInnerHTML:{__html:`(${pA.toString()})(${y})`}})});var dm=Gw();const i1=sm(dm);function yA(e){if(typeof document>"u")return;let t=document.head||document.getElementsByTagName("head")[0],a=document.createElement("style");a.type="text/css",t.appendChild(a),a.styleSheet?a.styleSheet.cssText=e:a.appendChild(document.createTextNode(e))}const vA=e=>{switch(e){case"success":return jA;case"info":return _A;case"warning":return SA;case"error":return NA;default:return null}},bA=Array(12).fill(0),wA=({visible:e,className:t})=>oe.createElement("div",{className:["sonner-loading-wrapper",t].filter(Boolean).join(" "),"data-visible":e},oe.createElement("div",{className:"sonner-spinner"},bA.map((a,r)=>oe.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${r}`})))),jA=oe.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},oe.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),SA=oe.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},oe.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),_A=oe.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},oe.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),NA=oe.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},oe.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),kA=oe.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},oe.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),oe.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),EA=()=>{const[e,t]=oe.useState(document.hidden);return oe.useEffect(()=>{const a=()=>{t(document.hidden)};return document.addEventListener("visibilitychange",a),()=>window.removeEventListener("visibilitychange",a)},[]),e};let kp=1;class AA{constructor(){this.subscribe=t=>(this.subscribers.push(t),()=>{const a=this.subscribers.indexOf(t);this.subscribers.splice(a,1)}),this.publish=t=>{this.subscribers.forEach(a=>a(t))},this.addToast=t=>{this.publish(t),this.toasts=[...this.toasts,t]},this.create=t=>{var a;const{message:r,...l}=t,c=typeof t?.id=="number"||((a=t.id)==null?void 0:a.length)>0?t.id:kp++,d=this.toasts.find(p=>p.id===c),f=t.dismissible===void 0?!0:t.dismissible;return this.dismissedToasts.has(c)&&this.dismissedToasts.delete(c),d?this.toasts=this.toasts.map(p=>p.id===c?(this.publish({...p,...t,id:c,title:r}),{...p,...t,id:c,dismissible:f,title:r}):p):this.addToast({title:r,...l,dismissible:f,id:c}),c},this.dismiss=t=>(t?(this.dismissedToasts.add(t),requestAnimationFrame(()=>this.subscribers.forEach(a=>a({id:t,dismiss:!0})))):this.toasts.forEach(a=>{this.subscribers.forEach(r=>r({id:a.id,dismiss:!0}))}),t),this.message=(t,a)=>this.create({...a,message:t}),this.error=(t,a)=>this.create({...a,message:t,type:"error"}),this.success=(t,a)=>this.create({...a,type:"success",message:t}),this.info=(t,a)=>this.create({...a,type:"info",message:t}),this.warning=(t,a)=>this.create({...a,type:"warning",message:t}),this.loading=(t,a)=>this.create({...a,type:"loading",message:t}),this.promise=(t,a)=>{if(!a)return;let r;a.loading!==void 0&&(r=this.create({...a,promise:t,type:"loading",message:a.loading,description:typeof a.description!="function"?a.description:void 0}));const l=Promise.resolve(t instanceof Function?t():t);let c=r!==void 0,d;const f=l.then(async m=>{if(d=["resolve",m],oe.isValidElement(m))c=!1,this.create({id:r,type:"default",message:m});else if(TA(m)&&!m.ok){c=!1;const x=typeof a.error=="function"?await a.error(`HTTP error! status: ${m.status}`):a.error,v=typeof a.description=="function"?await a.description(`HTTP error! status: ${m.status}`):a.description,N=typeof x=="object"&&!oe.isValidElement(x)?x:{message:x};this.create({id:r,type:"error",description:v,...N})}else if(m instanceof Error){c=!1;const x=typeof a.error=="function"?await a.error(m):a.error,v=typeof a.description=="function"?await a.description(m):a.description,N=typeof x=="object"&&!oe.isValidElement(x)?x:{message:x};this.create({id:r,type:"error",description:v,...N})}else if(a.success!==void 0){c=!1;const x=typeof a.success=="function"?await a.success(m):a.success,v=typeof a.description=="function"?await a.description(m):a.description,N=typeof x=="object"&&!oe.isValidElement(x)?x:{message:x};this.create({id:r,type:"success",description:v,...N})}}).catch(async m=>{if(d=["reject",m],a.error!==void 0){c=!1;const y=typeof a.error=="function"?await a.error(m):a.error,x=typeof a.description=="function"?await a.description(m):a.description,b=typeof y=="object"&&!oe.isValidElement(y)?y:{message:y};this.create({id:r,type:"error",description:x,...b})}}).finally(()=>{c&&(this.dismiss(r),r=void 0),a.finally==null||a.finally.call(a)}),p=()=>new Promise((m,y)=>f.then(()=>d[0]==="reject"?y(d[1]):m(d[1])).catch(y));return typeof r!="string"&&typeof r!="number"?{unwrap:p}:Object.assign(r,{unwrap:p})},this.custom=(t,a)=>{const r=a?.id||kp++;return this.create({jsx:t(r),id:r,...a}),r},this.getActiveToasts=()=>this.toasts.filter(t=>!this.dismissedToasts.has(t.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}}const ls=new AA,CA=(e,t)=>{const a=t?.id||kp++;return ls.addToast({title:e,...t,id:a}),a},TA=e=>e&&typeof e=="object"&&"ok"in e&&typeof e.ok=="boolean"&&"status"in e&&typeof e.status=="number",OA=CA,DA=()=>ls.toasts,RA=()=>ls.getActiveToasts(),le=Object.assign(OA,{success:ls.success,info:ls.info,warning:ls.warning,error:ls.error,custom:ls.custom,message:ls.message,promise:ls.promise,dismiss:ls.dismiss,loading:ls.loading},{getHistory:DA,getToasts:RA});yA("[data-sonner-toaster][dir=ltr],html[dir=ltr]{--toast-icon-margin-start:-3px;--toast-icon-margin-end:4px;--toast-svg-margin-start:-1px;--toast-svg-margin-end:0px;--toast-button-margin-start:auto;--toast-button-margin-end:0;--toast-close-button-start:0;--toast-close-button-end:unset;--toast-close-button-transform:translate(-35%, -35%)}[data-sonner-toaster][dir=rtl],html[dir=rtl]{--toast-icon-margin-start:4px;--toast-icon-margin-end:-3px;--toast-svg-margin-start:0px;--toast-svg-margin-end:-1px;--toast-button-margin-start:0;--toast-button-margin-end:auto;--toast-close-button-start:unset;--toast-close-button-end:0;--toast-close-button-transform:translate(35%, -35%)}[data-sonner-toaster]{position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1:hsl(0, 0%, 99%);--gray2:hsl(0, 0%, 97.3%);--gray3:hsl(0, 0%, 95.1%);--gray4:hsl(0, 0%, 93%);--gray5:hsl(0, 0%, 90.9%);--gray6:hsl(0, 0%, 88.7%);--gray7:hsl(0, 0%, 85.8%);--gray8:hsl(0, 0%, 78%);--gray9:hsl(0, 0%, 56.1%);--gray10:hsl(0, 0%, 52.3%);--gray11:hsl(0, 0%, 43.5%);--gray12:hsl(0, 0%, 9%);--border-radius:8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:0;z-index:999999999;transition:transform .4s ease}@media (hover:none) and (pointer:coarse){[data-sonner-toaster][data-lifted=true]{transform:none}}[data-sonner-toaster][data-x-position=right]{right:var(--offset-right)}[data-sonner-toaster][data-x-position=left]{left:var(--offset-left)}[data-sonner-toaster][data-x-position=center]{left:50%;transform:translateX(-50%)}[data-sonner-toaster][data-y-position=top]{top:var(--offset-top)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--offset-bottom)}[data-sonner-toast]{--y:translateY(100%);--lift-amount:calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:0;overflow-wrap:anywhere}[data-sonner-toast][data-styled=true]{padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px rgba(0,0,0,.1);width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}[data-sonner-toast]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-y-position=top]{top:0;--y:translateY(-100%);--lift:1;--lift-amount:calc(1 * var(--gap))}[data-sonner-toast][data-y-position=bottom]{bottom:0;--y:translateY(100%);--lift:-1;--lift-amount:calc(var(--lift) * var(--gap))}[data-sonner-toast][data-styled=true] [data-description]{font-weight:400;line-height:1.4;color:#3f3f3f}[data-rich-colors=true][data-sonner-toast][data-styled=true] [data-description]{color:inherit}[data-sonner-toaster][data-sonner-theme=dark] [data-description]{color:#e8e8e8}[data-sonner-toast][data-styled=true] [data-title]{font-weight:500;line-height:1.5;color:inherit}[data-sonner-toast][data-styled=true] [data-icon]{display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}[data-sonner-toast][data-promise=true] [data-icon]>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}[data-sonner-toast][data-styled=true] [data-icon]>*{flex-shrink:0}[data-sonner-toast][data-styled=true] [data-icon] svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}[data-sonner-toast][data-styled=true] [data-content]{display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;font-weight:500;cursor:pointer;outline:0;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}[data-sonner-toast][data-styled=true] [data-button]:focus-visible{box-shadow:0 0 0 2px rgba(0,0,0,.4)}[data-sonner-toast][data-styled=true] [data-button]:first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}[data-sonner-toast][data-styled=true] [data-cancel]{color:var(--normal-text);background:rgba(0,0,0,.08)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-styled=true] [data-cancel]{background:rgba(255,255,255,.3)}[data-sonner-toast][data-styled=true] [data-close-button]{position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);background:var(--normal-bg);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast][data-styled=true] [data-close-button]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-styled=true] [data-disabled=true]{cursor:not-allowed}[data-sonner-toast][data-styled=true]:hover [data-close-button]:hover{background:var(--gray2);border-color:var(--gray5)}[data-sonner-toast][data-swiping=true]::before{content:'';position:absolute;left:-100%;right:-100%;height:100%;z-index:-1}[data-sonner-toast][data-y-position=top][data-swiping=true]::before{bottom:50%;transform:scaleY(3) translateY(50%)}[data-sonner-toast][data-y-position=bottom][data-swiping=true]::before{top:50%;transform:scaleY(3) translateY(-50%)}[data-sonner-toast][data-swiping=false][data-removed=true]::before{content:'';position:absolute;inset:0;transform:scaleY(2)}[data-sonner-toast][data-expanded=true]::after{content:'';position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}[data-sonner-toast][data-mounted=true]{--y:translateY(0);opacity:1}[data-sonner-toast][data-expanded=false][data-front=false]{--scale:var(--toasts-before) * 0.05 + 1;--y:translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}[data-sonner-toast]>*{transition:opacity .4s}[data-sonner-toast][data-x-position=right]{right:0}[data-sonner-toast][data-x-position=left]{left:0}[data-sonner-toast][data-expanded=false][data-front=false][data-styled=true]>*{opacity:0}[data-sonner-toast][data-visible=false]{opacity:0;pointer-events:none}[data-sonner-toast][data-mounted=true][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}[data-sonner-toast][data-removed=true][data-front=true][data-swipe-out=false]{--y:translateY(calc(var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=false]{--y:translateY(40%);opacity:0;transition:transform .5s,opacity .2s}[data-sonner-toast][data-removed=true][data-front=false]::before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y,0)) translateX(var(--swipe-amount-x,0));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width:600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-sonner-theme=light]{--normal-bg:#fff;--normal-border:var(--gray4);--normal-text:var(--gray12);--success-bg:hsl(143, 85%, 96%);--success-border:hsl(145, 92%, 87%);--success-text:hsl(140, 100%, 27%);--info-bg:hsl(208, 100%, 97%);--info-border:hsl(221, 91%, 93%);--info-text:hsl(210, 92%, 45%);--warning-bg:hsl(49, 100%, 97%);--warning-border:hsl(49, 91%, 84%);--warning-text:hsl(31, 92%, 45%);--error-bg:hsl(359, 100%, 97%);--error-border:hsl(359, 100%, 94%);--error-text:hsl(360, 100%, 45%)}[data-sonner-toaster][data-sonner-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg:#000;--normal-border:hsl(0, 0%, 20%);--normal-text:var(--gray1)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg:#fff;--normal-border:var(--gray3);--normal-text:var(--gray12)}[data-sonner-toaster][data-sonner-theme=dark]{--normal-bg:#000;--normal-bg-hover:hsl(0, 0%, 12%);--normal-border:hsl(0, 0%, 20%);--normal-border-hover:hsl(0, 0%, 25%);--normal-text:var(--gray1);--success-bg:hsl(150, 100%, 6%);--success-border:hsl(147, 100%, 12%);--success-text:hsl(150, 86%, 65%);--info-bg:hsl(215, 100%, 6%);--info-border:hsl(223, 43%, 17%);--info-text:hsl(216, 87%, 65%);--warning-bg:hsl(64, 100%, 6%);--warning-border:hsl(60, 100%, 9%);--warning-text:hsl(46, 87%, 65%);--error-bg:hsl(358, 76%, 10%);--error-border:hsl(357, 89%, 16%);--error-text:hsl(358, 100%, 81%)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size:16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:first-child{animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}100%{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}100%{opacity:.15}}@media (prefers-reduced-motion){.sonner-loading-bar,[data-sonner-toast],[data-sonner-toast]>*{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}");function Qc(e){return e.label!==void 0}const PA=3,MA="24px",LA="16px",xv=4e3,UA=356,IA=14,zA=45,qA=200;function ra(...e){return e.filter(Boolean).join(" ")}function BA(e){const[t,a]=e.split("-"),r=[];return t&&r.push(t),a&&r.push(a),r}const HA=e=>{var t,a,r,l,c,d,f,p,m;const{invert:y,toast:x,unstyled:v,interacting:b,setHeights:N,visibleToasts:w,heights:_,index:E,toasts:T,expanded:A,removeToast:I,defaultRichColors:M,closeButton:P,style:O,cancelButtonStyle:C,actionButtonStyle:z,className:G="",descriptionClassName:X="",duration:B,position:se,gap:R,expandByDefault:ee,classNames:D,icons:Y,closeButtonAriaLabel:H="Close toast"}=e,[de,he]=oe.useState(null),[L,Z]=oe.useState(null),[K,F]=oe.useState(!1),[ie,ce]=oe.useState(!1),[ue,xe]=oe.useState(!1),[Ee,dt]=oe.useState(!1),[jt,Ot]=oe.useState(!1),[ha,Is]=oe.useState(0),[Yi,Er]=oe.useState(0),Pn=oe.useRef(x.duration||B||xv),Ki=oe.useRef(null),ds=oe.useRef(null),Wi=E===0,Xi=E+1<=w,Vt=x.type,Ba=x.dismissible!==!1,Qt=x.className||"",dd=x.descriptionClassName||"",Mn=oe.useMemo(()=>_.findIndex(_e=>_e.toastId===x.id)||0,[_,x.id]),Cl=oe.useMemo(()=>{var _e;return(_e=x.closeButton)!=null?_e:P},[x.closeButton,P]),Ln=oe.useMemo(()=>x.duration||B||xv,[x.duration,B]),Ji=oe.useRef(0),pa=oe.useRef(0),Tl=oe.useRef(0),Ha=oe.useRef(null),[Un,Yt]=se.split("-"),zs=oe.useMemo(()=>_.reduce((_e,et,Et)=>Et>=Mn?_e:_e+et.height,0),[_,Mn]),It=EA(),fd=x.invert||y,Zi=Vt==="loading";pa.current=oe.useMemo(()=>Mn*R+zs,[Mn,zs]),oe.useEffect(()=>{Pn.current=Ln},[Ln]),oe.useEffect(()=>{F(!0)},[]),oe.useEffect(()=>{const _e=ds.current;if(_e){const et=_e.getBoundingClientRect().height;return Er(et),N(Et=>[{toastId:x.id,height:et,position:x.position},...Et]),()=>N(Et=>Et.filter(zt=>zt.toastId!==x.id))}},[N,x.id]),oe.useLayoutEffect(()=>{if(!K)return;const _e=ds.current,et=_e.style.height;_e.style.height="auto";const Et=_e.getBoundingClientRect().height;_e.style.height=et,Er(Et),N(zt=>zt.find(at=>at.toastId===x.id)?zt.map(at=>at.toastId===x.id?{...at,height:Et}:at):[{toastId:x.id,height:Et,position:x.position},...zt])},[K,x.title,x.description,N,x.id,x.jsx,x.action,x.cancel]);const Js=oe.useCallback(()=>{ce(!0),Is(pa.current),N(_e=>_e.filter(et=>et.toastId!==x.id)),setTimeout(()=>{I(x)},qA)},[x,I,N,pa]);oe.useEffect(()=>{if(x.promise&&Vt==="loading"||x.duration===1/0||x.type==="loading")return;let _e;return A||b||It?(()=>{if(Tl.current<Ji.current){const zt=new Date().getTime()-Ji.current;Pn.current=Pn.current-zt}Tl.current=new Date().getTime()})():(()=>{Pn.current!==1/0&&(Ji.current=new Date().getTime(),_e=setTimeout(()=>{x.onAutoClose==null||x.onAutoClose.call(x,x),Js()},Pn.current))})(),()=>clearTimeout(_e)},[A,b,x,Vt,It,Js]),oe.useEffect(()=>{x.delete&&(Js(),x.onDismiss==null||x.onDismiss.call(x,x))},[Js,x.delete]);function Ar(){var _e;if(Y?.loading){var et;return oe.createElement("div",{className:ra(D?.loader,x==null||(et=x.classNames)==null?void 0:et.loader,"sonner-loader"),"data-visible":Vt==="loading"},Y.loading)}return oe.createElement(wA,{className:ra(D?.loader,x==null||(_e=x.classNames)==null?void 0:_e.loader),visible:Vt==="loading"})}const Cr=x.icon||Y?.[Vt]||vA(Vt);var In,Zs;return oe.createElement("li",{tabIndex:0,ref:ds,className:ra(G,Qt,D?.toast,x==null||(t=x.classNames)==null?void 0:t.toast,D?.default,D?.[Vt],x==null||(a=x.classNames)==null?void 0:a[Vt]),"data-sonner-toast":"","data-rich-colors":(In=x.richColors)!=null?In:M,"data-styled":!(x.jsx||x.unstyled||v),"data-mounted":K,"data-promise":!!x.promise,"data-swiped":jt,"data-removed":ie,"data-visible":Xi,"data-y-position":Un,"data-x-position":Yt,"data-index":E,"data-front":Wi,"data-swiping":ue,"data-dismissible":Ba,"data-type":Vt,"data-invert":fd,"data-swipe-out":Ee,"data-swipe-direction":L,"data-expanded":!!(A||ee&&K),"data-testid":x.testId,style:{"--index":E,"--toasts-before":E,"--z-index":T.length-E,"--offset":`${ie?ha:pa.current}px`,"--initial-height":ee?"auto":`${Yi}px`,...O,...x.style},onDragEnd:()=>{xe(!1),he(null),Ha.current=null},onPointerDown:_e=>{_e.button!==2&&(Zi||!Ba||(Ki.current=new Date,Is(pa.current),_e.target.setPointerCapture(_e.pointerId),_e.target.tagName!=="BUTTON"&&(xe(!0),Ha.current={x:_e.clientX,y:_e.clientY})))},onPointerUp:()=>{var _e,et,Et;if(Ee||!Ba)return;Ha.current=null;const zt=Number(((_e=ds.current)==null?void 0:_e.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),$a=Number(((et=ds.current)==null?void 0:et.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),at=new Date().getTime()-((Et=Ki.current)==null?void 0:Et.getTime()),Jt=de==="x"?zt:$a,zn=Math.abs(Jt)/at;if(Math.abs(Jt)>=zA||zn>.11){Is(pa.current),x.onDismiss==null||x.onDismiss.call(x,x),Z(de==="x"?zt>0?"right":"left":$a>0?"down":"up"),Js(),dt(!0);return}else{var Zt,es;(Zt=ds.current)==null||Zt.style.setProperty("--swipe-amount-x","0px"),(es=ds.current)==null||es.style.setProperty("--swipe-amount-y","0px")}Ot(!1),xe(!1),he(null)},onPointerMove:_e=>{var et,Et,zt;if(!Ha.current||!Ba||((et=window.getSelection())==null?void 0:et.toString().length)>0)return;const at=_e.clientY-Ha.current.y,Jt=_e.clientX-Ha.current.x;var zn;const Zt=(zn=e.swipeDirections)!=null?zn:BA(se);!de&&(Math.abs(Jt)>1||Math.abs(at)>1)&&he(Math.abs(Jt)>Math.abs(at)?"x":"y");let es={x:0,y:0};const Tr=qs=>1/(1.5+Math.abs(qs)/20);if(de==="y"){if(Zt.includes("top")||Zt.includes("bottom"))if(Zt.includes("top")&&at<0||Zt.includes("bottom")&&at>0)es.y=at;else{const qs=at*Tr(at);es.y=Math.abs(qs)<Math.abs(at)?qs:at}}else if(de==="x"&&(Zt.includes("left")||Zt.includes("right")))if(Zt.includes("left")&&Jt<0||Zt.includes("right")&&Jt>0)es.x=Jt;else{const qs=Jt*Tr(Jt);es.x=Math.abs(qs)<Math.abs(Jt)?qs:Jt}(Math.abs(es.x)>0||Math.abs(es.y)>0)&&Ot(!0),(Et=ds.current)==null||Et.style.setProperty("--swipe-amount-x",`${es.x}px`),(zt=ds.current)==null||zt.style.setProperty("--swipe-amount-y",`${es.y}px`)}},Cl&&!x.jsx&&Vt!=="loading"?oe.createElement("button",{"aria-label":H,"data-disabled":Zi,"data-close-button":!0,onClick:Zi||!Ba?()=>{}:()=>{Js(),x.onDismiss==null||x.onDismiss.call(x,x)},className:ra(D?.closeButton,x==null||(r=x.classNames)==null?void 0:r.closeButton)},(Zs=Y?.close)!=null?Zs:kA):null,(Vt||x.icon||x.promise)&&x.icon!==null&&(Y?.[Vt]!==null||x.icon)?oe.createElement("div",{"data-icon":"",className:ra(D?.icon,x==null||(l=x.classNames)==null?void 0:l.icon)},x.promise||x.type==="loading"&&!x.icon?x.icon||Ar():null,x.type!=="loading"?Cr:null):null,oe.createElement("div",{"data-content":"",className:ra(D?.content,x==null||(c=x.classNames)==null?void 0:c.content)},oe.createElement("div",{"data-title":"",className:ra(D?.title,x==null||(d=x.classNames)==null?void 0:d.title)},x.jsx?x.jsx:typeof x.title=="function"?x.title():x.title),x.description?oe.createElement("div",{"data-description":"",className:ra(X,dd,D?.description,x==null||(f=x.classNames)==null?void 0:f.description)},typeof x.description=="function"?x.description():x.description):null),oe.isValidElement(x.cancel)?x.cancel:x.cancel&&Qc(x.cancel)?oe.createElement("button",{"data-button":!0,"data-cancel":!0,style:x.cancelButtonStyle||C,onClick:_e=>{Qc(x.cancel)&&Ba&&(x.cancel.onClick==null||x.cancel.onClick.call(x.cancel,_e),Js())},className:ra(D?.cancelButton,x==null||(p=x.classNames)==null?void 0:p.cancelButton)},x.cancel.label):null,oe.isValidElement(x.action)?x.action:x.action&&Qc(x.action)?oe.createElement("button",{"data-button":!0,"data-action":!0,style:x.actionButtonStyle||z,onClick:_e=>{Qc(x.action)&&(x.action.onClick==null||x.action.onClick.call(x.action,_e),!_e.defaultPrevented&&Js())},className:ra(D?.actionButton,x==null||(m=x.classNames)==null?void 0:m.actionButton)},x.action.label):null)};function yv(){if(typeof window>"u"||typeof document>"u")return"ltr";const e=document.documentElement.getAttribute("dir");return e==="auto"||!e?window.getComputedStyle(document.documentElement).direction:e}function $A(e,t){const a={};return[e,t].forEach((r,l)=>{const c=l===1,d=c?"--mobile-offset":"--offset",f=c?LA:MA;function p(m){["top","right","bottom","left"].forEach(y=>{a[`${d}-${y}`]=typeof m=="number"?`${m}px`:m})}typeof r=="number"||typeof r=="string"?p(r):typeof r=="object"?["top","right","bottom","left"].forEach(m=>{r[m]===void 0?a[`${d}-${m}`]=f:a[`${d}-${m}`]=typeof r[m]=="number"?`${r[m]}px`:r[m]}):p(f)}),a}const FA=oe.forwardRef(function(t,a){const{id:r,invert:l,position:c="bottom-right",hotkey:d=["altKey","KeyT"],expand:f,closeButton:p,className:m,offset:y,mobileOffset:x,theme:v="light",richColors:b,duration:N,style:w,visibleToasts:_=PA,toastOptions:E,dir:T=yv(),gap:A=IA,icons:I,containerAriaLabel:M="Notifications"}=t,[P,O]=oe.useState([]),C=oe.useMemo(()=>r?P.filter(K=>K.toasterId===r):P.filter(K=>!K.toasterId),[P,r]),z=oe.useMemo(()=>Array.from(new Set([c].concat(C.filter(K=>K.position).map(K=>K.position)))),[C,c]),[G,X]=oe.useState([]),[B,se]=oe.useState(!1),[R,ee]=oe.useState(!1),[D,Y]=oe.useState(v!=="system"?v:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),H=oe.useRef(null),de=d.join("+").replace(/Key/g,"").replace(/Digit/g,""),he=oe.useRef(null),L=oe.useRef(!1),Z=oe.useCallback(K=>{O(F=>{var ie;return(ie=F.find(ce=>ce.id===K.id))!=null&&ie.delete||ls.dismiss(K.id),F.filter(({id:ce})=>ce!==K.id)})},[]);return oe.useEffect(()=>ls.subscribe(K=>{if(K.dismiss){requestAnimationFrame(()=>{O(F=>F.map(ie=>ie.id===K.id?{...ie,delete:!0}:ie))});return}setTimeout(()=>{i1.flushSync(()=>{O(F=>{const ie=F.findIndex(ce=>ce.id===K.id);return ie!==-1?[...F.slice(0,ie),{...F[ie],...K},...F.slice(ie+1)]:[K,...F]})})})}),[P]),oe.useEffect(()=>{if(v!=="system"){Y(v);return}if(v==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?Y("dark"):Y("light")),typeof window>"u")return;const K=window.matchMedia("(prefers-color-scheme: dark)");try{K.addEventListener("change",({matches:F})=>{Y(F?"dark":"light")})}catch{K.addListener(({matches:ie})=>{try{Y(ie?"dark":"light")}catch(ce){console.error(ce)}})}},[v]),oe.useEffect(()=>{P.length<=1&&se(!1)},[P]),oe.useEffect(()=>{const K=F=>{var ie;if(d.every(xe=>F[xe]||F.code===xe)){var ue;se(!0),(ue=H.current)==null||ue.focus()}F.code==="Escape"&&(document.activeElement===H.current||(ie=H.current)!=null&&ie.contains(document.activeElement))&&se(!1)};return document.addEventListener("keydown",K),()=>document.removeEventListener("keydown",K)},[d]),oe.useEffect(()=>{if(H.current)return()=>{he.current&&(he.current.focus({preventScroll:!0}),he.current=null,L.current=!1)}},[H.current]),oe.createElement("section",{ref:a,"aria-label":`${M} ${de}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},z.map((K,F)=>{var ie;const[ce,ue]=K.split("-");return C.length?oe.createElement("ol",{key:K,dir:T==="auto"?yv():T,tabIndex:-1,ref:H,className:m,"data-sonner-toaster":!0,"data-sonner-theme":D,"data-y-position":ce,"data-x-position":ue,style:{"--front-toast-height":`${((ie=G[0])==null?void 0:ie.height)||0}px`,"--width":`${UA}px`,"--gap":`${A}px`,...w,...$A(y,x)},onBlur:xe=>{L.current&&!xe.currentTarget.contains(xe.relatedTarget)&&(L.current=!1,he.current&&(he.current.focus({preventScroll:!0}),he.current=null))},onFocus:xe=>{xe.target instanceof HTMLElement&&xe.target.dataset.dismissible==="false"||L.current||(L.current=!0,he.current=xe.relatedTarget)},onMouseEnter:()=>se(!0),onMouseMove:()=>se(!0),onMouseLeave:()=>{R||se(!1)},onDragEnd:()=>se(!1),onPointerDown:xe=>{xe.target instanceof HTMLElement&&xe.target.dataset.dismissible==="false"||ee(!0)},onPointerUp:()=>ee(!1)},C.filter(xe=>!xe.position&&F===0||xe.position===K).map((xe,Ee)=>{var dt,jt;return oe.createElement(HA,{key:xe.id,icons:I,index:Ee,toast:xe,defaultRichColors:b,duration:(dt=E?.duration)!=null?dt:N,className:E?.className,descriptionClassName:E?.descriptionClassName,invert:l,visibleToasts:_,closeButton:(jt=E?.closeButton)!=null?jt:p,interacting:R,position:K,style:E?.style,unstyled:E?.unstyled,classNames:E?.classNames,cancelButtonStyle:E?.cancelButtonStyle,actionButtonStyle:E?.actionButtonStyle,closeButtonAriaLabel:E?.closeButtonAriaLabel,removeToast:Z,toasts:C.filter(Ot=>Ot.position==xe.position),heights:G.filter(Ot=>Ot.position==xe.position),setHeights:X,expandByDefault:f,gap:A,expanded:B,swipeDirections:t.swipeDirections})})):null}))}),GA=({...e})=>{const{theme:t="system"}=xA();return i.jsx(FA,{"data-loc":"client/src/components/ui/sonner.tsx:8",theme:t,className:"toaster group",style:{"--normal-bg":"var(--popover)","--normal-text":"var(--popover-foreground)","--normal-border":"var(--border)"},...e})};function rt(e,t,{checkForDefaultPrevented:a=!0}={}){return function(l){if(e?.(l),a===!1||!l.defaultPrevented)return t?.(l)}}function vv(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function o1(...e){return t=>{let a=!1;const r=e.map(l=>{const c=vv(l,t);return!a&&typeof c=="function"&&(a=!0),c});if(a)return()=>{for(let l=0;l<r.length;l++){const c=r[l];typeof c=="function"?c():vv(e[l],null)}}}}function us(...e){return j.useCallback(o1(...e),e)}function VA(e,t){const a=j.createContext(t),r=c=>{const{children:d,...f}=c,p=j.useMemo(()=>f,Object.values(f));return i.jsx(a.Provider,{value:p,children:d})};r.displayName=e+"Provider";function l(c){const d=j.useContext(a);if(d)return d;if(t!==void 0)return t;throw new Error(`\`${c}\` must be used within \`${e}\``)}return[r,l]}function qi(e,t=[]){let a=[];function r(c,d){const f=j.createContext(d),p=a.length;a=[...a,d];const m=x=>{const{scope:v,children:b,...N}=x,w=v?.[e]?.[p]||f,_=j.useMemo(()=>N,Object.values(N));return i.jsx(w.Provider,{value:_,children:b})};m.displayName=c+"Provider";function y(x,v){const b=v?.[e]?.[p]||f,N=j.useContext(b);if(N)return N;if(d!==void 0)return d;throw new Error(`\`${x}\` must be used within \`${c}\``)}return[m,y]}const l=()=>{const c=a.map(d=>j.createContext(d));return function(f){const p=f?.[e]||c;return j.useMemo(()=>({[`__scope${e}`]:{...f,[e]:p}}),[f,p])}};return l.scopeName=e,[r,QA(l,...t)]}function QA(...e){const t=e[0];if(e.length===1)return t;const a=()=>{const r=e.map(l=>({useScope:l(),scopeName:l.scopeName}));return function(c){const d=r.reduce((f,{useScope:p,scopeName:m})=>{const x=p(c)[`__scope${m}`];return{...f,...x}},{});return j.useMemo(()=>({[`__scope${t.scopeName}`]:d}),[d])}};return a.scopeName=t.scopeName,a}function cl(e){const t=YA(e),a=j.forwardRef((r,l)=>{const{children:c,...d}=r,f=j.Children.toArray(c),p=f.find(WA);if(p){const m=p.props.children,y=f.map(x=>x===p?j.Children.count(m)>1?j.Children.only(null):j.isValidElement(m)?m.props.children:null:x);return i.jsx(t,{...d,ref:l,children:j.isValidElement(m)?j.cloneElement(m,void 0,y):null})}return i.jsx(t,{...d,ref:l,children:c})});return a.displayName=`${e}.Slot`,a}var l1=cl("Slot");function YA(e){const t=j.forwardRef((a,r)=>{const{children:l,...c}=a;if(j.isValidElement(l)){const d=JA(l),f=XA(c,l.props);return l.type!==j.Fragment&&(f.ref=r?o1(r,d):d),j.cloneElement(l,f)}return j.Children.count(l)>1?j.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var c1=Symbol("radix.slottable");function KA(e){const t=({children:a})=>i.jsx(i.Fragment,{children:a});return t.displayName=`${e}.Slottable`,t.__radixId=c1,t}function WA(e){return j.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===c1}function XA(e,t){const a={...t};for(const r in t){const l=e[r],c=t[r];/^on[A-Z]/.test(r)?l&&c?a[r]=(...f)=>{const p=c(...f);return l(...f),p}:l&&(a[r]=l):r==="style"?a[r]={...l,...c}:r==="className"&&(a[r]=[l,c].filter(Boolean).join(" "))}return{...e,...a}}function JA(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,a=t&&"isReactWarning"in t&&t.isReactWarning;return a?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,a=t&&"isReactWarning"in t&&t.isReactWarning,a?e.props.ref:e.props.ref||e.ref)}var ZA=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],ct=ZA.reduce((e,t)=>{const a=cl(`Primitive.${t}`),r=j.forwardRef((l,c)=>{const{asChild:d,...f}=l,p=d?a:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),i.jsx(p,{...f,ref:c})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{});function eC(e,t){e&&dm.flushSync(()=>e.dispatchEvent(t))}function yr(e){const t=j.useRef(e);return j.useEffect(()=>{t.current=e}),j.useMemo(()=>(...a)=>t.current?.(...a),[])}function tC(e,t=globalThis?.document){const a=yr(e);j.useEffect(()=>{const r=l=>{l.key==="Escape"&&a(l)};return t.addEventListener("keydown",r,{capture:!0}),()=>t.removeEventListener("keydown",r,{capture:!0})},[a,t])}var sC="DismissableLayer",Ep="dismissableLayer.update",aC="dismissableLayer.pointerDownOutside",nC="dismissableLayer.focusOutside",bv,u1=j.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),fm=j.forwardRef((e,t)=>{const{disableOutsidePointerEvents:a=!1,onEscapeKeyDown:r,onPointerDownOutside:l,onFocusOutside:c,onInteractOutside:d,onDismiss:f,...p}=e,m=j.useContext(u1),[y,x]=j.useState(null),v=y?.ownerDocument??globalThis?.document,[,b]=j.useState({}),N=us(t,O=>x(O)),w=Array.from(m.layers),[_]=[...m.layersWithOutsidePointerEventsDisabled].slice(-1),E=w.indexOf(_),T=y?w.indexOf(y):-1,A=m.layersWithOutsidePointerEventsDisabled.size>0,I=T>=E,M=oC(O=>{const C=O.target,z=[...m.branches].some(G=>G.contains(C));!I||z||(l?.(O),d?.(O),O.defaultPrevented||f?.())},v),P=lC(O=>{const C=O.target;[...m.branches].some(G=>G.contains(C))||(c?.(O),d?.(O),O.defaultPrevented||f?.())},v);return tC(O=>{T===m.layers.size-1&&(r?.(O),!O.defaultPrevented&&f&&(O.preventDefault(),f()))},v),j.useEffect(()=>{if(y)return a&&(m.layersWithOutsidePointerEventsDisabled.size===0&&(bv=v.body.style.pointerEvents,v.body.style.pointerEvents="none"),m.layersWithOutsidePointerEventsDisabled.add(y)),m.layers.add(y),wv(),()=>{a&&m.layersWithOutsidePointerEventsDisabled.size===1&&(v.body.style.pointerEvents=bv)}},[y,v,a,m]),j.useEffect(()=>()=>{y&&(m.layers.delete(y),m.layersWithOutsidePointerEventsDisabled.delete(y),wv())},[y,m]),j.useEffect(()=>{const O=()=>b({});return document.addEventListener(Ep,O),()=>document.removeEventListener(Ep,O)},[]),i.jsx(ct.div,{...p,ref:N,style:{pointerEvents:A?I?"auto":"none":void 0,...e.style},onFocusCapture:rt(e.onFocusCapture,P.onFocusCapture),onBlurCapture:rt(e.onBlurCapture,P.onBlurCapture),onPointerDownCapture:rt(e.onPointerDownCapture,M.onPointerDownCapture)})});fm.displayName=sC;var rC="DismissableLayerBranch",iC=j.forwardRef((e,t)=>{const a=j.useContext(u1),r=j.useRef(null),l=us(t,r);return j.useEffect(()=>{const c=r.current;if(c)return a.branches.add(c),()=>{a.branches.delete(c)}},[a.branches]),i.jsx(ct.div,{...e,ref:l})});iC.displayName=rC;function oC(e,t=globalThis?.document){const a=yr(e),r=j.useRef(!1),l=j.useRef(()=>{});return j.useEffect(()=>{const c=f=>{if(f.target&&!r.current){let p=function(){d1(aC,a,m,{discrete:!0})};const m={originalEvent:f};f.pointerType==="touch"?(t.removeEventListener("click",l.current),l.current=p,t.addEventListener("click",l.current,{once:!0})):p()}else t.removeEventListener("click",l.current);r.current=!1},d=window.setTimeout(()=>{t.addEventListener("pointerdown",c)},0);return()=>{window.clearTimeout(d),t.removeEventListener("pointerdown",c),t.removeEventListener("click",l.current)}},[t,a]),{onPointerDownCapture:()=>r.current=!0}}function lC(e,t=globalThis?.document){const a=yr(e),r=j.useRef(!1);return j.useEffect(()=>{const l=c=>{c.target&&!r.current&&d1(nC,a,{originalEvent:c},{discrete:!1})};return t.addEventListener("focusin",l),()=>t.removeEventListener("focusin",l)},[t,a]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function wv(){const e=new CustomEvent(Ep);document.dispatchEvent(e)}function d1(e,t,a,{discrete:r}){const l=a.originalEvent.target,c=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:a});t&&l.addEventListener(e,t,{once:!0}),r?eC(l,c):l.dispatchEvent(c)}var Nn=globalThis?.document?j.useLayoutEffect:()=>{},cC=qu[" useId ".trim().toString()]||(()=>{}),uC=0;function el(e){const[t,a]=j.useState(cC());return Nn(()=>{a(r=>r??String(uC++))},[e]),e||(t?`radix-${t}`:"")}const dC=["top","right","bottom","left"],kn=Math.min,bs=Math.max,Nu=Math.round,Yc=Math.floor,la=e=>({x:e,y:e}),fC={left:"right",right:"left",bottom:"top",top:"bottom"},hC={start:"end",end:"start"};function Ap(e,t,a){return bs(e,kn(t,a))}function Ua(e,t){return typeof e=="function"?e(t):e}function Ia(e){return e.split("-")[0]}function Bi(e){return e.split("-")[1]}function hm(e){return e==="x"?"y":"x"}function pm(e){return e==="y"?"height":"width"}const pC=new Set(["top","bottom"]);function oa(e){return pC.has(Ia(e))?"y":"x"}function mm(e){return hm(oa(e))}function mC(e,t,a){a===void 0&&(a=!1);const r=Bi(e),l=mm(e),c=pm(l);let d=l==="x"?r===(a?"end":"start")?"right":"left":r==="start"?"bottom":"top";return t.reference[c]>t.floating[c]&&(d=ku(d)),[d,ku(d)]}function gC(e){const t=ku(e);return[Cp(e),t,Cp(t)]}function Cp(e){return e.replace(/start|end/g,t=>hC[t])}const jv=["left","right"],Sv=["right","left"],xC=["top","bottom"],yC=["bottom","top"];function vC(e,t,a){switch(e){case"top":case"bottom":return a?t?Sv:jv:t?jv:Sv;case"left":case"right":return t?xC:yC;default:return[]}}function bC(e,t,a,r){const l=Bi(e);let c=vC(Ia(e),a==="start",r);return l&&(c=c.map(d=>d+"-"+l),t&&(c=c.concat(c.map(Cp)))),c}function ku(e){return e.replace(/left|right|bottom|top/g,t=>fC[t])}function wC(e){return{top:0,right:0,bottom:0,left:0,...e}}function f1(e){return typeof e!="number"?wC(e):{top:e,right:e,bottom:e,left:e}}function Eu(e){const{x:t,y:a,width:r,height:l}=e;return{width:r,height:l,top:a,left:t,right:t+r,bottom:a+l,x:t,y:a}}function _v(e,t,a){let{reference:r,floating:l}=e;const c=oa(t),d=mm(t),f=pm(d),p=Ia(t),m=c==="y",y=r.x+r.width/2-l.width/2,x=r.y+r.height/2-l.height/2,v=r[f]/2-l[f]/2;let b;switch(p){case"top":b={x:y,y:r.y-l.height};break;case"bottom":b={x:y,y:r.y+r.height};break;case"right":b={x:r.x+r.width,y:x};break;case"left":b={x:r.x-l.width,y:x};break;default:b={x:r.x,y:r.y}}switch(Bi(t)){case"start":b[d]-=v*(a&&m?-1:1);break;case"end":b[d]+=v*(a&&m?-1:1);break}return b}const jC=async(e,t,a)=>{const{placement:r="bottom",strategy:l="absolute",middleware:c=[],platform:d}=a,f=c.filter(Boolean),p=await(d.isRTL==null?void 0:d.isRTL(t));let m=await d.getElementRects({reference:e,floating:t,strategy:l}),{x:y,y:x}=_v(m,r,p),v=r,b={},N=0;for(let w=0;w<f.length;w++){const{name:_,fn:E}=f[w],{x:T,y:A,data:I,reset:M}=await E({x:y,y:x,initialPlacement:r,placement:v,strategy:l,middlewareData:b,rects:m,platform:d,elements:{reference:e,floating:t}});y=T??y,x=A??x,b={...b,[_]:{...b[_],...I}},M&&N<=50&&(N++,typeof M=="object"&&(M.placement&&(v=M.placement),M.rects&&(m=M.rects===!0?await d.getElementRects({reference:e,floating:t,strategy:l}):M.rects),{x:y,y:x}=_v(m,v,p)),w=-1)}return{x:y,y:x,placement:v,strategy:l,middlewareData:b}};async function ul(e,t){var a;t===void 0&&(t={});const{x:r,y:l,platform:c,rects:d,elements:f,strategy:p}=e,{boundary:m="clippingAncestors",rootBoundary:y="viewport",elementContext:x="floating",altBoundary:v=!1,padding:b=0}=Ua(t,e),N=f1(b),_=f[v?x==="floating"?"reference":"floating":x],E=Eu(await c.getClippingRect({element:(a=await(c.isElement==null?void 0:c.isElement(_)))==null||a?_:_.contextElement||await(c.getDocumentElement==null?void 0:c.getDocumentElement(f.floating)),boundary:m,rootBoundary:y,strategy:p})),T=x==="floating"?{x:r,y:l,width:d.floating.width,height:d.floating.height}:d.reference,A=await(c.getOffsetParent==null?void 0:c.getOffsetParent(f.floating)),I=await(c.isElement==null?void 0:c.isElement(A))?await(c.getScale==null?void 0:c.getScale(A))||{x:1,y:1}:{x:1,y:1},M=Eu(c.convertOffsetParentRelativeRectToViewportRelativeRect?await c.convertOffsetParentRelativeRectToViewportRelativeRect({elements:f,rect:T,offsetParent:A,strategy:p}):T);return{top:(E.top-M.top+N.top)/I.y,bottom:(M.bottom-E.bottom+N.bottom)/I.y,left:(E.left-M.left+N.left)/I.x,right:(M.right-E.right+N.right)/I.x}}const SC=e=>({name:"arrow",options:e,async fn(t){const{x:a,y:r,placement:l,rects:c,platform:d,elements:f,middlewareData:p}=t,{element:m,padding:y=0}=Ua(e,t)||{};if(m==null)return{};const x=f1(y),v={x:a,y:r},b=mm(l),N=pm(b),w=await d.getDimensions(m),_=b==="y",E=_?"top":"left",T=_?"bottom":"right",A=_?"clientHeight":"clientWidth",I=c.reference[N]+c.reference[b]-v[b]-c.floating[N],M=v[b]-c.reference[b],P=await(d.getOffsetParent==null?void 0:d.getOffsetParent(m));let O=P?P[A]:0;(!O||!await(d.isElement==null?void 0:d.isElement(P)))&&(O=f.floating[A]||c.floating[N]);const C=I/2-M/2,z=O/2-w[N]/2-1,G=kn(x[E],z),X=kn(x[T],z),B=G,se=O-w[N]-X,R=O/2-w[N]/2+C,ee=Ap(B,R,se),D=!p.arrow&&Bi(l)!=null&&R!==ee&&c.reference[N]/2-(R<B?G:X)-w[N]/2<0,Y=D?R<B?R-B:R-se:0;return{[b]:v[b]+Y,data:{[b]:ee,centerOffset:R-ee-Y,...D&&{alignmentOffset:Y}},reset:D}}}),_C=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var a,r;const{placement:l,middlewareData:c,rects:d,initialPlacement:f,platform:p,elements:m}=t,{mainAxis:y=!0,crossAxis:x=!0,fallbackPlacements:v,fallbackStrategy:b="bestFit",fallbackAxisSideDirection:N="none",flipAlignment:w=!0,..._}=Ua(e,t);if((a=c.arrow)!=null&&a.alignmentOffset)return{};const E=Ia(l),T=oa(f),A=Ia(f)===f,I=await(p.isRTL==null?void 0:p.isRTL(m.floating)),M=v||(A||!w?[ku(f)]:gC(f)),P=N!=="none";!v&&P&&M.push(...bC(f,w,N,I));const O=[f,...M],C=await ul(t,_),z=[];let G=((r=c.flip)==null?void 0:r.overflows)||[];if(y&&z.push(C[E]),x){const R=mC(l,d,I);z.push(C[R[0]],C[R[1]])}if(G=[...G,{placement:l,overflows:z}],!z.every(R=>R<=0)){var X,B;const R=(((X=c.flip)==null?void 0:X.index)||0)+1,ee=O[R];if(ee&&(!(x==="alignment"?T!==oa(ee):!1)||G.every(H=>oa(H.placement)===T?H.overflows[0]>0:!0)))return{data:{index:R,overflows:G},reset:{placement:ee}};let D=(B=G.filter(Y=>Y.overflows[0]<=0).sort((Y,H)=>Y.overflows[1]-H.overflows[1])[0])==null?void 0:B.placement;if(!D)switch(b){case"bestFit":{var se;const Y=(se=G.filter(H=>{if(P){const de=oa(H.placement);return de===T||de==="y"}return!0}).map(H=>[H.placement,H.overflows.filter(de=>de>0).reduce((de,he)=>de+he,0)]).sort((H,de)=>H[1]-de[1])[0])==null?void 0:se[0];Y&&(D=Y);break}case"initialPlacement":D=f;break}if(l!==D)return{reset:{placement:D}}}return{}}}};function Nv(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function kv(e){return dC.some(t=>e[t]>=0)}const NC=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:a}=t,{strategy:r="referenceHidden",...l}=Ua(e,t);switch(r){case"referenceHidden":{const c=await ul(t,{...l,elementContext:"reference"}),d=Nv(c,a.reference);return{data:{referenceHiddenOffsets:d,referenceHidden:kv(d)}}}case"escaped":{const c=await ul(t,{...l,altBoundary:!0}),d=Nv(c,a.floating);return{data:{escapedOffsets:d,escaped:kv(d)}}}default:return{}}}}},h1=new Set(["left","top"]);async function kC(e,t){const{placement:a,platform:r,elements:l}=e,c=await(r.isRTL==null?void 0:r.isRTL(l.floating)),d=Ia(a),f=Bi(a),p=oa(a)==="y",m=h1.has(d)?-1:1,y=c&&p?-1:1,x=Ua(t,e);let{mainAxis:v,crossAxis:b,alignmentAxis:N}=typeof x=="number"?{mainAxis:x,crossAxis:0,alignmentAxis:null}:{mainAxis:x.mainAxis||0,crossAxis:x.crossAxis||0,alignmentAxis:x.alignmentAxis};return f&&typeof N=="number"&&(b=f==="end"?N*-1:N),p?{x:b*y,y:v*m}:{x:v*m,y:b*y}}const EC=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var a,r;const{x:l,y:c,placement:d,middlewareData:f}=t,p=await kC(t,e);return d===((a=f.offset)==null?void 0:a.placement)&&(r=f.arrow)!=null&&r.alignmentOffset?{}:{x:l+p.x,y:c+p.y,data:{...p,placement:d}}}}},AC=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:a,y:r,placement:l}=t,{mainAxis:c=!0,crossAxis:d=!1,limiter:f={fn:_=>{let{x:E,y:T}=_;return{x:E,y:T}}},...p}=Ua(e,t),m={x:a,y:r},y=await ul(t,p),x=oa(Ia(l)),v=hm(x);let b=m[v],N=m[x];if(c){const _=v==="y"?"top":"left",E=v==="y"?"bottom":"right",T=b+y[_],A=b-y[E];b=Ap(T,b,A)}if(d){const _=x==="y"?"top":"left",E=x==="y"?"bottom":"right",T=N+y[_],A=N-y[E];N=Ap(T,N,A)}const w=f.fn({...t,[v]:b,[x]:N});return{...w,data:{x:w.x-a,y:w.y-r,enabled:{[v]:c,[x]:d}}}}}},CC=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:a,y:r,placement:l,rects:c,middlewareData:d}=t,{offset:f=0,mainAxis:p=!0,crossAxis:m=!0}=Ua(e,t),y={x:a,y:r},x=oa(l),v=hm(x);let b=y[v],N=y[x];const w=Ua(f,t),_=typeof w=="number"?{mainAxis:w,crossAxis:0}:{mainAxis:0,crossAxis:0,...w};if(p){const A=v==="y"?"height":"width",I=c.reference[v]-c.floating[A]+_.mainAxis,M=c.reference[v]+c.reference[A]-_.mainAxis;b<I?b=I:b>M&&(b=M)}if(m){var E,T;const A=v==="y"?"width":"height",I=h1.has(Ia(l)),M=c.reference[x]-c.floating[A]+(I&&((E=d.offset)==null?void 0:E[x])||0)+(I?0:_.crossAxis),P=c.reference[x]+c.reference[A]+(I?0:((T=d.offset)==null?void 0:T[x])||0)-(I?_.crossAxis:0);N<M?N=M:N>P&&(N=P)}return{[v]:b,[x]:N}}}},TC=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var a,r;const{placement:l,rects:c,platform:d,elements:f}=t,{apply:p=()=>{},...m}=Ua(e,t),y=await ul(t,m),x=Ia(l),v=Bi(l),b=oa(l)==="y",{width:N,height:w}=c.floating;let _,E;x==="top"||x==="bottom"?(_=x,E=v===(await(d.isRTL==null?void 0:d.isRTL(f.floating))?"start":"end")?"left":"right"):(E=x,_=v==="end"?"top":"bottom");const T=w-y.top-y.bottom,A=N-y.left-y.right,I=kn(w-y[_],T),M=kn(N-y[E],A),P=!t.middlewareData.shift;let O=I,C=M;if((a=t.middlewareData.shift)!=null&&a.enabled.x&&(C=A),(r=t.middlewareData.shift)!=null&&r.enabled.y&&(O=T),P&&!v){const G=bs(y.left,0),X=bs(y.right,0),B=bs(y.top,0),se=bs(y.bottom,0);b?C=N-2*(G!==0||X!==0?G+X:bs(y.left,y.right)):O=w-2*(B!==0||se!==0?B+se:bs(y.top,y.bottom))}await p({...t,availableWidth:C,availableHeight:O});const z=await d.getDimensions(f.floating);return N!==z.width||w!==z.height?{reset:{rects:!0}}:{}}}};function Qu(){return typeof window<"u"}function Hi(e){return p1(e)?(e.nodeName||"").toLowerCase():"#document"}function _s(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function fa(e){var t;return(t=(p1(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function p1(e){return Qu()?e instanceof Node||e instanceof _s(e).Node:!1}function Qs(e){return Qu()?e instanceof Element||e instanceof _s(e).Element:!1}function ca(e){return Qu()?e instanceof HTMLElement||e instanceof _s(e).HTMLElement:!1}function Ev(e){return!Qu()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof _s(e).ShadowRoot}const OC=new Set(["inline","contents"]);function Sl(e){const{overflow:t,overflowX:a,overflowY:r,display:l}=Ys(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+a)&&!OC.has(l)}const DC=new Set(["table","td","th"]);function RC(e){return DC.has(Hi(e))}const PC=[":popover-open",":modal"];function Yu(e){return PC.some(t=>{try{return e.matches(t)}catch{return!1}})}const MC=["transform","translate","scale","rotate","perspective"],LC=["transform","translate","scale","rotate","perspective","filter"],UC=["paint","layout","strict","content"];function gm(e){const t=xm(),a=Qs(e)?Ys(e):e;return MC.some(r=>a[r]?a[r]!=="none":!1)||(a.containerType?a.containerType!=="normal":!1)||!t&&(a.backdropFilter?a.backdropFilter!=="none":!1)||!t&&(a.filter?a.filter!=="none":!1)||LC.some(r=>(a.willChange||"").includes(r))||UC.some(r=>(a.contain||"").includes(r))}function IC(e){let t=En(e);for(;ca(t)&&!Mi(t);){if(gm(t))return t;if(Yu(t))return null;t=En(t)}return null}function xm(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const zC=new Set(["html","body","#document"]);function Mi(e){return zC.has(Hi(e))}function Ys(e){return _s(e).getComputedStyle(e)}function Ku(e){return Qs(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function En(e){if(Hi(e)==="html")return e;const t=e.assignedSlot||e.parentNode||Ev(e)&&e.host||fa(e);return Ev(t)?t.host:t}function m1(e){const t=En(e);return Mi(t)?e.ownerDocument?e.ownerDocument.body:e.body:ca(t)&&Sl(t)?t:m1(t)}function dl(e,t,a){var r;t===void 0&&(t=[]),a===void 0&&(a=!0);const l=m1(e),c=l===((r=e.ownerDocument)==null?void 0:r.body),d=_s(l);if(c){const f=Tp(d);return t.concat(d,d.visualViewport||[],Sl(l)?l:[],f&&a?dl(f):[])}return t.concat(l,dl(l,[],a))}function Tp(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function g1(e){const t=Ys(e);let a=parseFloat(t.width)||0,r=parseFloat(t.height)||0;const l=ca(e),c=l?e.offsetWidth:a,d=l?e.offsetHeight:r,f=Nu(a)!==c||Nu(r)!==d;return f&&(a=c,r=d),{width:a,height:r,$:f}}function ym(e){return Qs(e)?e:e.contextElement}function Ti(e){const t=ym(e);if(!ca(t))return la(1);const a=t.getBoundingClientRect(),{width:r,height:l,$:c}=g1(t);let d=(c?Nu(a.width):a.width)/r,f=(c?Nu(a.height):a.height)/l;return(!d||!Number.isFinite(d))&&(d=1),(!f||!Number.isFinite(f))&&(f=1),{x:d,y:f}}const qC=la(0);function x1(e){const t=_s(e);return!xm()||!t.visualViewport?qC:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function BC(e,t,a){return t===void 0&&(t=!1),!a||t&&a!==_s(e)?!1:t}function vr(e,t,a,r){t===void 0&&(t=!1),a===void 0&&(a=!1);const l=e.getBoundingClientRect(),c=ym(e);let d=la(1);t&&(r?Qs(r)&&(d=Ti(r)):d=Ti(e));const f=BC(c,a,r)?x1(c):la(0);let p=(l.left+f.x)/d.x,m=(l.top+f.y)/d.y,y=l.width/d.x,x=l.height/d.y;if(c){const v=_s(c),b=r&&Qs(r)?_s(r):r;let N=v,w=Tp(N);for(;w&&r&&b!==N;){const _=Ti(w),E=w.getBoundingClientRect(),T=Ys(w),A=E.left+(w.clientLeft+parseFloat(T.paddingLeft))*_.x,I=E.top+(w.clientTop+parseFloat(T.paddingTop))*_.y;p*=_.x,m*=_.y,y*=_.x,x*=_.y,p+=A,m+=I,N=_s(w),w=Tp(N)}}return Eu({width:y,height:x,x:p,y:m})}function Wu(e,t){const a=Ku(e).scrollLeft;return t?t.left+a:vr(fa(e)).left+a}function y1(e,t){const a=e.getBoundingClientRect(),r=a.left+t.scrollLeft-Wu(e,a),l=a.top+t.scrollTop;return{x:r,y:l}}function HC(e){let{elements:t,rect:a,offsetParent:r,strategy:l}=e;const c=l==="fixed",d=fa(r),f=t?Yu(t.floating):!1;if(r===d||f&&c)return a;let p={scrollLeft:0,scrollTop:0},m=la(1);const y=la(0),x=ca(r);if((x||!x&&!c)&&((Hi(r)!=="body"||Sl(d))&&(p=Ku(r)),ca(r))){const b=vr(r);m=Ti(r),y.x=b.x+r.clientLeft,y.y=b.y+r.clientTop}const v=d&&!x&&!c?y1(d,p):la(0);return{width:a.width*m.x,height:a.height*m.y,x:a.x*m.x-p.scrollLeft*m.x+y.x+v.x,y:a.y*m.y-p.scrollTop*m.y+y.y+v.y}}function $C(e){return Array.from(e.getClientRects())}function FC(e){const t=fa(e),a=Ku(e),r=e.ownerDocument.body,l=bs(t.scrollWidth,t.clientWidth,r.scrollWidth,r.clientWidth),c=bs(t.scrollHeight,t.clientHeight,r.scrollHeight,r.clientHeight);let d=-a.scrollLeft+Wu(e);const f=-a.scrollTop;return Ys(r).direction==="rtl"&&(d+=bs(t.clientWidth,r.clientWidth)-l),{width:l,height:c,x:d,y:f}}const Av=25;function GC(e,t){const a=_s(e),r=fa(e),l=a.visualViewport;let c=r.clientWidth,d=r.clientHeight,f=0,p=0;if(l){c=l.width,d=l.height;const y=xm();(!y||y&&t==="fixed")&&(f=l.offsetLeft,p=l.offsetTop)}const m=Wu(r);if(m<=0){const y=r.ownerDocument,x=y.body,v=getComputedStyle(x),b=y.compatMode==="CSS1Compat"&&parseFloat(v.marginLeft)+parseFloat(v.marginRight)||0,N=Math.abs(r.clientWidth-x.clientWidth-b);N<=Av&&(c-=N)}else m<=Av&&(c+=m);return{width:c,height:d,x:f,y:p}}const VC=new Set(["absolute","fixed"]);function QC(e,t){const a=vr(e,!0,t==="fixed"),r=a.top+e.clientTop,l=a.left+e.clientLeft,c=ca(e)?Ti(e):la(1),d=e.clientWidth*c.x,f=e.clientHeight*c.y,p=l*c.x,m=r*c.y;return{width:d,height:f,x:p,y:m}}function Cv(e,t,a){let r;if(t==="viewport")r=GC(e,a);else if(t==="document")r=FC(fa(e));else if(Qs(t))r=QC(t,a);else{const l=x1(e);r={x:t.x-l.x,y:t.y-l.y,width:t.width,height:t.height}}return Eu(r)}function v1(e,t){const a=En(e);return a===t||!Qs(a)||Mi(a)?!1:Ys(a).position==="fixed"||v1(a,t)}function YC(e,t){const a=t.get(e);if(a)return a;let r=dl(e,[],!1).filter(f=>Qs(f)&&Hi(f)!=="body"),l=null;const c=Ys(e).position==="fixed";let d=c?En(e):e;for(;Qs(d)&&!Mi(d);){const f=Ys(d),p=gm(d);!p&&f.position==="fixed"&&(l=null),(c?!p&&!l:!p&&f.position==="static"&&!!l&&VC.has(l.position)||Sl(d)&&!p&&v1(e,d))?r=r.filter(y=>y!==d):l=f,d=En(d)}return t.set(e,r),r}function KC(e){let{element:t,boundary:a,rootBoundary:r,strategy:l}=e;const d=[...a==="clippingAncestors"?Yu(t)?[]:YC(t,this._c):[].concat(a),r],f=d[0],p=d.reduce((m,y)=>{const x=Cv(t,y,l);return m.top=bs(x.top,m.top),m.right=kn(x.right,m.right),m.bottom=kn(x.bottom,m.bottom),m.left=bs(x.left,m.left),m},Cv(t,f,l));return{width:p.right-p.left,height:p.bottom-p.top,x:p.left,y:p.top}}function WC(e){const{width:t,height:a}=g1(e);return{width:t,height:a}}function XC(e,t,a){const r=ca(t),l=fa(t),c=a==="fixed",d=vr(e,!0,c,t);let f={scrollLeft:0,scrollTop:0};const p=la(0);function m(){p.x=Wu(l)}if(r||!r&&!c)if((Hi(t)!=="body"||Sl(l))&&(f=Ku(t)),r){const b=vr(t,!0,c,t);p.x=b.x+t.clientLeft,p.y=b.y+t.clientTop}else l&&m();c&&!r&&l&&m();const y=l&&!r&&!c?y1(l,f):la(0),x=d.left+f.scrollLeft-p.x-y.x,v=d.top+f.scrollTop-p.y-y.y;return{x,y:v,width:d.width,height:d.height}}function Mh(e){return Ys(e).position==="static"}function Tv(e,t){if(!ca(e)||Ys(e).position==="fixed")return null;if(t)return t(e);let a=e.offsetParent;return fa(e)===a&&(a=a.ownerDocument.body),a}function b1(e,t){const a=_s(e);if(Yu(e))return a;if(!ca(e)){let l=En(e);for(;l&&!Mi(l);){if(Qs(l)&&!Mh(l))return l;l=En(l)}return a}let r=Tv(e,t);for(;r&&RC(r)&&Mh(r);)r=Tv(r,t);return r&&Mi(r)&&Mh(r)&&!gm(r)?a:r||IC(e)||a}const JC=async function(e){const t=this.getOffsetParent||b1,a=this.getDimensions,r=await a(e.floating);return{reference:XC(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function ZC(e){return Ys(e).direction==="rtl"}const eT={convertOffsetParentRelativeRectToViewportRelativeRect:HC,getDocumentElement:fa,getClippingRect:KC,getOffsetParent:b1,getElementRects:JC,getClientRects:$C,getDimensions:WC,getScale:Ti,isElement:Qs,isRTL:ZC};function w1(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function tT(e,t){let a=null,r;const l=fa(e);function c(){var f;clearTimeout(r),(f=a)==null||f.disconnect(),a=null}function d(f,p){f===void 0&&(f=!1),p===void 0&&(p=1),c();const m=e.getBoundingClientRect(),{left:y,top:x,width:v,height:b}=m;if(f||t(),!v||!b)return;const N=Yc(x),w=Yc(l.clientWidth-(y+v)),_=Yc(l.clientHeight-(x+b)),E=Yc(y),A={rootMargin:-N+"px "+-w+"px "+-_+"px "+-E+"px",threshold:bs(0,kn(1,p))||1};let I=!0;function M(P){const O=P[0].intersectionRatio;if(O!==p){if(!I)return d();O?d(!1,O):r=setTimeout(()=>{d(!1,1e-7)},1e3)}O===1&&!w1(m,e.getBoundingClientRect())&&d(),I=!1}try{a=new IntersectionObserver(M,{...A,root:l.ownerDocument})}catch{a=new IntersectionObserver(M,A)}a.observe(e)}return d(!0),c}function sT(e,t,a,r){r===void 0&&(r={});const{ancestorScroll:l=!0,ancestorResize:c=!0,elementResize:d=typeof ResizeObserver=="function",layoutShift:f=typeof IntersectionObserver=="function",animationFrame:p=!1}=r,m=ym(e),y=l||c?[...m?dl(m):[],...dl(t)]:[];y.forEach(E=>{l&&E.addEventListener("scroll",a,{passive:!0}),c&&E.addEventListener("resize",a)});const x=m&&f?tT(m,a):null;let v=-1,b=null;d&&(b=new ResizeObserver(E=>{let[T]=E;T&&T.target===m&&b&&(b.unobserve(t),cancelAnimationFrame(v),v=requestAnimationFrame(()=>{var A;(A=b)==null||A.observe(t)})),a()}),m&&!p&&b.observe(m),b.observe(t));let N,w=p?vr(e):null;p&&_();function _(){const E=vr(e);w&&!w1(w,E)&&a(),w=E,N=requestAnimationFrame(_)}return a(),()=>{var E;y.forEach(T=>{l&&T.removeEventListener("scroll",a),c&&T.removeEventListener("resize",a)}),x?.(),(E=b)==null||E.disconnect(),b=null,p&&cancelAnimationFrame(N)}}const aT=EC,nT=AC,rT=_C,iT=TC,oT=NC,Ov=SC,lT=CC,cT=(e,t,a)=>{const r=new Map,l={platform:eT,...a},c={...l.platform,_c:r};return jC(e,t,{...l,platform:c})};var uT=typeof document<"u",dT=function(){},vu=uT?j.useLayoutEffect:dT;function Au(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let a,r,l;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(a=e.length,a!==t.length)return!1;for(r=a;r--!==0;)if(!Au(e[r],t[r]))return!1;return!0}if(l=Object.keys(e),a=l.length,a!==Object.keys(t).length)return!1;for(r=a;r--!==0;)if(!{}.hasOwnProperty.call(t,l[r]))return!1;for(r=a;r--!==0;){const c=l[r];if(!(c==="_owner"&&e.$$typeof)&&!Au(e[c],t[c]))return!1}return!0}return e!==e&&t!==t}function j1(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function Dv(e,t){const a=j1(e);return Math.round(t*a)/a}function Lh(e){const t=j.useRef(e);return vu(()=>{t.current=e}),t}function fT(e){e===void 0&&(e={});const{placement:t="bottom",strategy:a="absolute",middleware:r=[],platform:l,elements:{reference:c,floating:d}={},transform:f=!0,whileElementsMounted:p,open:m}=e,[y,x]=j.useState({x:0,y:0,strategy:a,placement:t,middlewareData:{},isPositioned:!1}),[v,b]=j.useState(r);Au(v,r)||b(r);const[N,w]=j.useState(null),[_,E]=j.useState(null),T=j.useCallback(H=>{H!==P.current&&(P.current=H,w(H))},[]),A=j.useCallback(H=>{H!==O.current&&(O.current=H,E(H))},[]),I=c||N,M=d||_,P=j.useRef(null),O=j.useRef(null),C=j.useRef(y),z=p!=null,G=Lh(p),X=Lh(l),B=Lh(m),se=j.useCallback(()=>{if(!P.current||!O.current)return;const H={placement:t,strategy:a,middleware:v};X.current&&(H.platform=X.current),cT(P.current,O.current,H).then(de=>{const he={...de,isPositioned:B.current!==!1};R.current&&!Au(C.current,he)&&(C.current=he,dm.flushSync(()=>{x(he)}))})},[v,t,a,X,B]);vu(()=>{m===!1&&C.current.isPositioned&&(C.current.isPositioned=!1,x(H=>({...H,isPositioned:!1})))},[m]);const R=j.useRef(!1);vu(()=>(R.current=!0,()=>{R.current=!1}),[]),vu(()=>{if(I&&(P.current=I),M&&(O.current=M),I&&M){if(G.current)return G.current(I,M,se);se()}},[I,M,se,G,z]);const ee=j.useMemo(()=>({reference:P,floating:O,setReference:T,setFloating:A}),[T,A]),D=j.useMemo(()=>({reference:I,floating:M}),[I,M]),Y=j.useMemo(()=>{const H={position:a,left:0,top:0};if(!D.floating)return H;const de=Dv(D.floating,y.x),he=Dv(D.floating,y.y);return f?{...H,transform:"translate("+de+"px, "+he+"px)",...j1(D.floating)>=1.5&&{willChange:"transform"}}:{position:a,left:de,top:he}},[a,f,D.floating,y.x,y.y]);return j.useMemo(()=>({...y,update:se,refs:ee,elements:D,floatingStyles:Y}),[y,se,ee,D,Y])}const hT=e=>{function t(a){return{}.hasOwnProperty.call(a,"current")}return{name:"arrow",options:e,fn(a){const{element:r,padding:l}=typeof e=="function"?e(a):e;return r&&t(r)?r.current!=null?Ov({element:r.current,padding:l}).fn(a):{}:r?Ov({element:r,padding:l}).fn(a):{}}}},pT=(e,t)=>({...aT(e),options:[e,t]}),mT=(e,t)=>({...nT(e),options:[e,t]}),gT=(e,t)=>({...lT(e),options:[e,t]}),xT=(e,t)=>({...rT(e),options:[e,t]}),yT=(e,t)=>({...iT(e),options:[e,t]}),vT=(e,t)=>({...oT(e),options:[e,t]}),bT=(e,t)=>({...hT(e),options:[e,t]});var wT="Arrow",S1=j.forwardRef((e,t)=>{const{children:a,width:r=10,height:l=5,...c}=e;return i.jsx(ct.svg,{...c,ref:t,width:r,height:l,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?a:i.jsx("polygon",{points:"0,0 30,0 15,10"})})});S1.displayName=wT;var jT=S1;function ST(e){const[t,a]=j.useState(void 0);return Nn(()=>{if(e){a({width:e.offsetWidth,height:e.offsetHeight});const r=new ResizeObserver(l=>{if(!Array.isArray(l)||!l.length)return;const c=l[0];let d,f;if("borderBoxSize"in c){const p=c.borderBoxSize,m=Array.isArray(p)?p[0]:p;d=m.inlineSize,f=m.blockSize}else d=e.offsetWidth,f=e.offsetHeight;a({width:d,height:f})});return r.observe(e,{box:"border-box"}),()=>r.unobserve(e)}else a(void 0)},[e]),t}var _1="Popper",[N1,k1]=qi(_1),[AP,E1]=N1(_1),A1="PopperAnchor",C1=j.forwardRef((e,t)=>{const{__scopePopper:a,virtualRef:r,...l}=e,c=E1(A1,a),d=j.useRef(null),f=us(t,d),p=j.useRef(null);return j.useEffect(()=>{const m=p.current;p.current=r?.current||d.current,m!==p.current&&c.onAnchorChange(p.current)}),r?null:i.jsx(ct.div,{...l,ref:f})});C1.displayName=A1;var vm="PopperContent",[_T,NT]=N1(vm),T1=j.forwardRef((e,t)=>{const{__scopePopper:a,side:r="bottom",sideOffset:l=0,align:c="center",alignOffset:d=0,arrowPadding:f=0,avoidCollisions:p=!0,collisionBoundary:m=[],collisionPadding:y=0,sticky:x="partial",hideWhenDetached:v=!1,updatePositionStrategy:b="optimized",onPlaced:N,...w}=e,_=E1(vm,a),[E,T]=j.useState(null),A=us(t,ue=>T(ue)),[I,M]=j.useState(null),P=ST(I),O=P?.width??0,C=P?.height??0,z=r+(c!=="center"?"-"+c:""),G=typeof y=="number"?y:{top:0,right:0,bottom:0,left:0,...y},X=Array.isArray(m)?m:[m],B=X.length>0,se={padding:G,boundary:X.filter(ET),altBoundary:B},{refs:R,floatingStyles:ee,placement:D,isPositioned:Y,middlewareData:H}=fT({strategy:"fixed",placement:z,whileElementsMounted:(...ue)=>sT(...ue,{animationFrame:b==="always"}),elements:{reference:_.anchor},middleware:[pT({mainAxis:l+C,alignmentAxis:d}),p&&mT({mainAxis:!0,crossAxis:!1,limiter:x==="partial"?gT():void 0,...se}),p&&xT({...se}),yT({...se,apply:({elements:ue,rects:xe,availableWidth:Ee,availableHeight:dt})=>{const{width:jt,height:Ot}=xe.reference,ha=ue.floating.style;ha.setProperty("--radix-popper-available-width",`${Ee}px`),ha.setProperty("--radix-popper-available-height",`${dt}px`),ha.setProperty("--radix-popper-anchor-width",`${jt}px`),ha.setProperty("--radix-popper-anchor-height",`${Ot}px`)}}),I&&bT({element:I,padding:f}),AT({arrowWidth:O,arrowHeight:C}),v&&vT({strategy:"referenceHidden",...se})]}),[de,he]=R1(D),L=yr(N);Nn(()=>{Y&&L?.()},[Y,L]);const Z=H.arrow?.x,K=H.arrow?.y,F=H.arrow?.centerOffset!==0,[ie,ce]=j.useState();return Nn(()=>{E&&ce(window.getComputedStyle(E).zIndex)},[E]),i.jsx("div",{ref:R.setFloating,"data-radix-popper-content-wrapper":"",style:{...ee,transform:Y?ee.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:ie,"--radix-popper-transform-origin":[H.transformOrigin?.x,H.transformOrigin?.y].join(" "),...H.hide?.referenceHidden&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:i.jsx(_T,{scope:a,placedSide:de,onArrowChange:M,arrowX:Z,arrowY:K,shouldHideArrow:F,children:i.jsx(ct.div,{"data-side":de,"data-align":he,...w,ref:A,style:{...w.style,animation:Y?void 0:"none"}})})})});T1.displayName=vm;var O1="PopperArrow",kT={top:"bottom",right:"left",bottom:"top",left:"right"},D1=j.forwardRef(function(t,a){const{__scopePopper:r,...l}=t,c=NT(O1,r),d=kT[c.placedSide];return i.jsx("span",{ref:c.onArrowChange,style:{position:"absolute",left:c.arrowX,top:c.arrowY,[d]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[c.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[c.placedSide],visibility:c.shouldHideArrow?"hidden":void 0},children:i.jsx(jT,{...l,ref:a,style:{...l.style,display:"block"}})})});D1.displayName=O1;function ET(e){return e!==null}var AT=e=>({name:"transformOrigin",options:e,fn(t){const{placement:a,rects:r,middlewareData:l}=t,d=l.arrow?.centerOffset!==0,f=d?0:e.arrowWidth,p=d?0:e.arrowHeight,[m,y]=R1(a),x={start:"0%",center:"50%",end:"100%"}[y],v=(l.arrow?.x??0)+f/2,b=(l.arrow?.y??0)+p/2;let N="",w="";return m==="bottom"?(N=d?x:`${v}px`,w=`${-p}px`):m==="top"?(N=d?x:`${v}px`,w=`${r.floating.height+p}px`):m==="right"?(N=`${-p}px`,w=d?x:`${b}px`):m==="left"&&(N=`${r.floating.width+p}px`,w=d?x:`${b}px`),{data:{x:N,y:w}}}});function R1(e){const[t,a="center"]=e.split("-");return[t,a]}var CT=C1,TT=T1,OT=D1,DT="Portal",P1=j.forwardRef((e,t)=>{const{container:a,...r}=e,[l,c]=j.useState(!1);Nn(()=>c(!0),[]);const d=a||l&&globalThis?.document?.body;return d?i1.createPortal(i.jsx(ct.div,{...r,ref:t}),d):null});P1.displayName=DT;function RT(e,t){return j.useReducer((a,r)=>t[a][r]??a,e)}var $i=e=>{const{present:t,children:a}=e,r=PT(t),l=typeof a=="function"?a({present:r.isPresent}):j.Children.only(a),c=us(r.ref,MT(l));return typeof a=="function"||r.isPresent?j.cloneElement(l,{ref:c}):null};$i.displayName="Presence";function PT(e){const[t,a]=j.useState(),r=j.useRef(null),l=j.useRef(e),c=j.useRef("none"),d=e?"mounted":"unmounted",[f,p]=RT(d,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return j.useEffect(()=>{const m=Kc(r.current);c.current=f==="mounted"?m:"none"},[f]),Nn(()=>{const m=r.current,y=l.current;if(y!==e){const v=c.current,b=Kc(m);e?p("MOUNT"):b==="none"||m?.display==="none"?p("UNMOUNT"):p(y&&v!==b?"ANIMATION_OUT":"UNMOUNT"),l.current=e}},[e,p]),Nn(()=>{if(t){let m;const y=t.ownerDocument.defaultView??window,x=b=>{const w=Kc(r.current).includes(CSS.escape(b.animationName));if(b.target===t&&w&&(p("ANIMATION_END"),!l.current)){const _=t.style.animationFillMode;t.style.animationFillMode="forwards",m=y.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=_)})}},v=b=>{b.target===t&&(c.current=Kc(r.current))};return t.addEventListener("animationstart",v),t.addEventListener("animationcancel",x),t.addEventListener("animationend",x),()=>{y.clearTimeout(m),t.removeEventListener("animationstart",v),t.removeEventListener("animationcancel",x),t.removeEventListener("animationend",x)}}else p("ANIMATION_END")},[t,p]),{isPresent:["mounted","unmountSuspended"].includes(f),ref:j.useCallback(m=>{r.current=m?getComputedStyle(m):null,a(m)},[])}}function Kc(e){return e?.animationName||"none"}function MT(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,a=t&&"isReactWarning"in t&&t.isReactWarning;return a?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,a=t&&"isReactWarning"in t&&t.isReactWarning,a?e.props.ref:e.props.ref||e.ref)}var LT=qu[" useInsertionEffect ".trim().toString()]||Nn;function bm({prop:e,defaultProp:t,onChange:a=()=>{},caller:r}){const[l,c,d]=UT({defaultProp:t,onChange:a}),f=e!==void 0,p=f?e:l;{const y=j.useRef(e!==void 0);j.useEffect(()=>{const x=y.current;x!==f&&console.warn(`${r} is changing from ${x?"controlled":"uncontrolled"} to ${f?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),y.current=f},[f,r])}const m=j.useCallback(y=>{if(f){const x=IT(y)?y(e):y;x!==e&&d.current?.(x)}else c(y)},[f,e,c,d]);return[p,m]}function UT({defaultProp:e,onChange:t}){const[a,r]=j.useState(e),l=j.useRef(a),c=j.useRef(t);return LT(()=>{c.current=t},[t]),j.useEffect(()=>{l.current!==a&&(c.current?.(a),l.current=a)},[a,l]),[a,r,c]}function IT(e){return typeof e=="function"}var zT=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),qT="VisuallyHidden",M1=j.forwardRef((e,t)=>i.jsx(ct.span,{...e,ref:t,style:{...zT,...e.style}}));M1.displayName=qT;var BT=M1,[Xu]=qi("Tooltip",[k1]),wm=k1(),L1="TooltipProvider",HT=700,Rv="tooltip.open",[$T,U1]=Xu(L1),I1=e=>{const{__scopeTooltip:t,delayDuration:a=HT,skipDelayDuration:r=300,disableHoverableContent:l=!1,children:c}=e,d=j.useRef(!0),f=j.useRef(!1),p=j.useRef(0);return j.useEffect(()=>{const m=p.current;return()=>window.clearTimeout(m)},[]),i.jsx($T,{scope:t,isOpenDelayedRef:d,delayDuration:a,onOpen:j.useCallback(()=>{window.clearTimeout(p.current),d.current=!1},[]),onClose:j.useCallback(()=>{window.clearTimeout(p.current),p.current=window.setTimeout(()=>d.current=!0,r)},[r]),isPointerInTransitRef:f,onPointerInTransitChange:j.useCallback(m=>{f.current=m},[]),disableHoverableContent:l,children:c})};I1.displayName=L1;var z1="Tooltip",[CP,Ju]=Xu(z1),Op="TooltipTrigger",FT=j.forwardRef((e,t)=>{const{__scopeTooltip:a,...r}=e,l=Ju(Op,a),c=U1(Op,a),d=wm(a),f=j.useRef(null),p=us(t,f,l.onTriggerChange),m=j.useRef(!1),y=j.useRef(!1),x=j.useCallback(()=>m.current=!1,[]);return j.useEffect(()=>()=>document.removeEventListener("pointerup",x),[x]),i.jsx(CT,{asChild:!0,...d,children:i.jsx(ct.button,{"aria-describedby":l.open?l.contentId:void 0,"data-state":l.stateAttribute,...r,ref:p,onPointerMove:rt(e.onPointerMove,v=>{v.pointerType!=="touch"&&!y.current&&!c.isPointerInTransitRef.current&&(l.onTriggerEnter(),y.current=!0)}),onPointerLeave:rt(e.onPointerLeave,()=>{l.onTriggerLeave(),y.current=!1}),onPointerDown:rt(e.onPointerDown,()=>{l.open&&l.onClose(),m.current=!0,document.addEventListener("pointerup",x,{once:!0})}),onFocus:rt(e.onFocus,()=>{m.current||l.onOpen()}),onBlur:rt(e.onBlur,l.onClose),onClick:rt(e.onClick,l.onClose)})})});FT.displayName=Op;var GT="TooltipPortal",[TP,VT]=Xu(GT,{forceMount:void 0}),Li="TooltipContent",QT=j.forwardRef((e,t)=>{const a=VT(Li,e.__scopeTooltip),{forceMount:r=a.forceMount,side:l="top",...c}=e,d=Ju(Li,e.__scopeTooltip);return i.jsx($i,{present:r||d.open,children:d.disableHoverableContent?i.jsx(q1,{side:l,...c,ref:t}):i.jsx(YT,{side:l,...c,ref:t})})}),YT=j.forwardRef((e,t)=>{const a=Ju(Li,e.__scopeTooltip),r=U1(Li,e.__scopeTooltip),l=j.useRef(null),c=us(t,l),[d,f]=j.useState(null),{trigger:p,onClose:m}=a,y=l.current,{onPointerInTransitChange:x}=r,v=j.useCallback(()=>{f(null),x(!1)},[x]),b=j.useCallback((N,w)=>{const _=N.currentTarget,E={x:N.clientX,y:N.clientY},T=ZT(E,_.getBoundingClientRect()),A=e4(E,T),I=t4(w.getBoundingClientRect()),M=a4([...A,...I]);f(M),x(!0)},[x]);return j.useEffect(()=>()=>v(),[v]),j.useEffect(()=>{if(p&&y){const N=_=>b(_,y),w=_=>b(_,p);return p.addEventListener("pointerleave",N),y.addEventListener("pointerleave",w),()=>{p.removeEventListener("pointerleave",N),y.removeEventListener("pointerleave",w)}}},[p,y,b,v]),j.useEffect(()=>{if(d){const N=w=>{const _=w.target,E={x:w.clientX,y:w.clientY},T=p?.contains(_)||y?.contains(_),A=!s4(E,d);T?v():A&&(v(),m())};return document.addEventListener("pointermove",N),()=>document.removeEventListener("pointermove",N)}},[p,y,d,m,v]),i.jsx(q1,{...e,ref:c})}),[KT,WT]=Xu(z1,{isInside:!1}),XT=KA("TooltipContent"),q1=j.forwardRef((e,t)=>{const{__scopeTooltip:a,children:r,"aria-label":l,onEscapeKeyDown:c,onPointerDownOutside:d,...f}=e,p=Ju(Li,a),m=wm(a),{onClose:y}=p;return j.useEffect(()=>(document.addEventListener(Rv,y),()=>document.removeEventListener(Rv,y)),[y]),j.useEffect(()=>{if(p.trigger){const x=v=>{v.target?.contains(p.trigger)&&y()};return window.addEventListener("scroll",x,{capture:!0}),()=>window.removeEventListener("scroll",x,{capture:!0})}},[p.trigger,y]),i.jsx(fm,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:c,onPointerDownOutside:d,onFocusOutside:x=>x.preventDefault(),onDismiss:y,children:i.jsxs(TT,{"data-state":p.stateAttribute,...m,...f,ref:t,style:{...f.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[i.jsx(XT,{children:r}),i.jsx(KT,{scope:a,isInside:!0,children:i.jsx(BT,{id:p.contentId,role:"tooltip",children:l||r})})]})})});QT.displayName=Li;var B1="TooltipArrow",JT=j.forwardRef((e,t)=>{const{__scopeTooltip:a,...r}=e,l=wm(a);return WT(B1,a).isInside?null:i.jsx(OT,{...l,...r,ref:t})});JT.displayName=B1;function ZT(e,t){const a=Math.abs(t.top-e.y),r=Math.abs(t.bottom-e.y),l=Math.abs(t.right-e.x),c=Math.abs(t.left-e.x);switch(Math.min(a,r,l,c)){case c:return"left";case l:return"right";case a:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function e4(e,t,a=5){const r=[];switch(t){case"top":r.push({x:e.x-a,y:e.y+a},{x:e.x+a,y:e.y+a});break;case"bottom":r.push({x:e.x-a,y:e.y-a},{x:e.x+a,y:e.y-a});break;case"left":r.push({x:e.x+a,y:e.y-a},{x:e.x+a,y:e.y+a});break;case"right":r.push({x:e.x-a,y:e.y-a},{x:e.x-a,y:e.y+a});break}return r}function t4(e){const{top:t,right:a,bottom:r,left:l}=e;return[{x:l,y:t},{x:a,y:t},{x:a,y:r},{x:l,y:r}]}function s4(e,t){const{x:a,y:r}=e;let l=!1;for(let c=0,d=t.length-1;c<t.length;d=c++){const f=t[c],p=t[d],m=f.x,y=f.y,x=p.x,v=p.y;y>r!=v>r&&a<(x-m)*(r-y)/(v-y)+m&&(l=!l)}return l}function a4(e){const t=e.slice();return t.sort((a,r)=>a.x<r.x?-1:a.x>r.x?1:a.y<r.y?-1:a.y>r.y?1:0),n4(t)}function n4(e){if(e.length<=1)return e.slice();const t=[];for(let r=0;r<e.length;r++){const l=e[r];for(;t.length>=2;){const c=t[t.length-1],d=t[t.length-2];if((c.x-d.x)*(l.y-d.y)>=(c.y-d.y)*(l.x-d.x))t.pop();else break}t.push(l)}t.pop();const a=[];for(let r=e.length-1;r>=0;r--){const l=e[r];for(;a.length>=2;){const c=a[a.length-1],d=a[a.length-2];if((c.x-d.x)*(l.y-d.y)>=(c.y-d.y)*(l.x-d.x))a.pop();else break}a.push(l)}return a.pop(),t.length===1&&a.length===1&&t[0].x===a[0].x&&t[0].y===a[0].y?t:t.concat(a)}var r4=I1;function H1(e){var t,a,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var l=e.length;for(t=0;t<l;t++)e[t]&&(a=H1(e[t]))&&(r&&(r+=" "),r+=a)}else for(a in e)e[a]&&(r&&(r+=" "),r+=a);return r}function $1(){for(var e,t,a=0,r="",l=arguments.length;a<l;a++)(e=arguments[a])&&(t=H1(e))&&(r&&(r+=" "),r+=t);return r}const jm="-",i4=e=>{const t=l4(e),{conflictingClassGroups:a,conflictingClassGroupModifiers:r}=e;return{getClassGroupId:d=>{const f=d.split(jm);return f[0]===""&&f.length!==1&&f.shift(),F1(f,t)||o4(d)},getConflictingClassGroupIds:(d,f)=>{const p=a[d]||[];return f&&r[d]?[...p,...r[d]]:p}}},F1=(e,t)=>{if(e.length===0)return t.classGroupId;const a=e[0],r=t.nextPart.get(a),l=r?F1(e.slice(1),r):void 0;if(l)return l;if(t.validators.length===0)return;const c=e.join(jm);return t.validators.find(({validator:d})=>d(c))?.classGroupId},Pv=/^\[(.+)\]$/,o4=e=>{if(Pv.test(e)){const t=Pv.exec(e)[1],a=t?.substring(0,t.indexOf(":"));if(a)return"arbitrary.."+a}},l4=e=>{const{theme:t,classGroups:a}=e,r={nextPart:new Map,validators:[]};for(const l in a)Dp(a[l],r,l,t);return r},Dp=(e,t,a,r)=>{e.forEach(l=>{if(typeof l=="string"){const c=l===""?t:Mv(t,l);c.classGroupId=a;return}if(typeof l=="function"){if(c4(l)){Dp(l(r),t,a,r);return}t.validators.push({validator:l,classGroupId:a});return}Object.entries(l).forEach(([c,d])=>{Dp(d,Mv(t,c),a,r)})})},Mv=(e,t)=>{let a=e;return t.split(jm).forEach(r=>{a.nextPart.has(r)||a.nextPart.set(r,{nextPart:new Map,validators:[]}),a=a.nextPart.get(r)}),a},c4=e=>e.isThemeGetter,u4=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,a=new Map,r=new Map;const l=(c,d)=>{a.set(c,d),t++,t>e&&(t=0,r=a,a=new Map)};return{get(c){let d=a.get(c);if(d!==void 0)return d;if((d=r.get(c))!==void 0)return l(c,d),d},set(c,d){a.has(c)?a.set(c,d):l(c,d)}}},Rp="!",Pp=":",d4=Pp.length,f4=e=>{const{prefix:t,experimentalParseClassName:a}=e;let r=l=>{const c=[];let d=0,f=0,p=0,m;for(let N=0;N<l.length;N++){let w=l[N];if(d===0&&f===0){if(w===Pp){c.push(l.slice(p,N)),p=N+d4;continue}if(w==="/"){m=N;continue}}w==="["?d++:w==="]"?d--:w==="("?f++:w===")"&&f--}const y=c.length===0?l:l.substring(p),x=h4(y),v=x!==y,b=m&&m>p?m-p:void 0;return{modifiers:c,hasImportantModifier:v,baseClassName:x,maybePostfixModifierPosition:b}};if(t){const l=t+Pp,c=r;r=d=>d.startsWith(l)?c(d.substring(l.length)):{isExternal:!0,modifiers:[],hasImportantModifier:!1,baseClassName:d,maybePostfixModifierPosition:void 0}}if(a){const l=r;r=c=>a({className:c,parseClassName:l})}return r},h4=e=>e.endsWith(Rp)?e.substring(0,e.length-1):e.startsWith(Rp)?e.substring(1):e,p4=e=>{const t=Object.fromEntries(e.orderSensitiveModifiers.map(r=>[r,!0]));return r=>{if(r.length<=1)return r;const l=[];let c=[];return r.forEach(d=>{d[0]==="["||t[d]?(l.push(...c.sort(),d),c=[]):c.push(d)}),l.push(...c.sort()),l}},m4=e=>({cache:u4(e.cacheSize),parseClassName:f4(e),sortModifiers:p4(e),...i4(e)}),g4=/\s+/,x4=(e,t)=>{const{parseClassName:a,getClassGroupId:r,getConflictingClassGroupIds:l,sortModifiers:c}=t,d=[],f=e.trim().split(g4);let p="";for(let m=f.length-1;m>=0;m-=1){const y=f[m],{isExternal:x,modifiers:v,hasImportantModifier:b,baseClassName:N,maybePostfixModifierPosition:w}=a(y);if(x){p=y+(p.length>0?" "+p:p);continue}let _=!!w,E=r(_?N.substring(0,w):N);if(!E){if(!_){p=y+(p.length>0?" "+p:p);continue}if(E=r(N),!E){p=y+(p.length>0?" "+p:p);continue}_=!1}const T=c(v).join(":"),A=b?T+Rp:T,I=A+E;if(d.includes(I))continue;d.push(I);const M=l(E,_);for(let P=0;P<M.length;++P){const O=M[P];d.push(A+O)}p=y+(p.length>0?" "+p:p)}return p};function y4(){let e=0,t,a,r="";for(;e<arguments.length;)(t=arguments[e++])&&(a=G1(t))&&(r&&(r+=" "),r+=a);return r}const G1=e=>{if(typeof e=="string")return e;let t,a="";for(let r=0;r<e.length;r++)e[r]&&(t=G1(e[r]))&&(a&&(a+=" "),a+=t);return a};function v4(e,...t){let a,r,l,c=d;function d(p){const m=t.reduce((y,x)=>x(y),e());return a=m4(m),r=a.cache.get,l=a.cache.set,c=f,f(p)}function f(p){const m=r(p);if(m)return m;const y=x4(p,a);return l(p,y),y}return function(){return c(y4.apply(null,arguments))}}const _t=e=>{const t=a=>a[e]||[];return t.isThemeGetter=!0,t},V1=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,Q1=/^\((?:(\w[\w-]*):)?(.+)\)$/i,b4=/^\d+\/\d+$/,w4=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,j4=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,S4=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,_4=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,N4=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,gi=e=>b4.test(e),Te=e=>!!e&&!Number.isNaN(Number(e)),mn=e=>!!e&&Number.isInteger(Number(e)),Uh=e=>e.endsWith("%")&&Te(e.slice(0,-1)),Ra=e=>w4.test(e),k4=()=>!0,E4=e=>j4.test(e)&&!S4.test(e),Y1=()=>!1,A4=e=>_4.test(e),C4=e=>N4.test(e),T4=e=>!me(e)&&!ge(e),O4=e=>Fi(e,X1,Y1),me=e=>V1.test(e),ar=e=>Fi(e,J1,E4),Ih=e=>Fi(e,L4,Te),Lv=e=>Fi(e,K1,Y1),D4=e=>Fi(e,W1,C4),Wc=e=>Fi(e,Z1,A4),ge=e=>Q1.test(e),Qo=e=>Gi(e,J1),R4=e=>Gi(e,U4),Uv=e=>Gi(e,K1),P4=e=>Gi(e,X1),M4=e=>Gi(e,W1),Xc=e=>Gi(e,Z1,!0),Fi=(e,t,a)=>{const r=V1.exec(e);return r?r[1]?t(r[1]):a(r[2]):!1},Gi=(e,t,a=!1)=>{const r=Q1.exec(e);return r?r[1]?t(r[1]):a:!1},K1=e=>e==="position"||e==="percentage",W1=e=>e==="image"||e==="url",X1=e=>e==="length"||e==="size"||e==="bg-size",J1=e=>e==="length",L4=e=>e==="number",U4=e=>e==="family-name",Z1=e=>e==="shadow",I4=()=>{const e=_t("color"),t=_t("font"),a=_t("text"),r=_t("font-weight"),l=_t("tracking"),c=_t("leading"),d=_t("breakpoint"),f=_t("container"),p=_t("spacing"),m=_t("radius"),y=_t("shadow"),x=_t("inset-shadow"),v=_t("text-shadow"),b=_t("drop-shadow"),N=_t("blur"),w=_t("perspective"),_=_t("aspect"),E=_t("ease"),T=_t("animate"),A=()=>["auto","avoid","all","avoid-page","page","left","right","column"],I=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],M=()=>[...I(),ge,me],P=()=>["auto","hidden","clip","visible","scroll"],O=()=>["auto","contain","none"],C=()=>[ge,me,p],z=()=>[gi,"full","auto",...C()],G=()=>[mn,"none","subgrid",ge,me],X=()=>["auto",{span:["full",mn,ge,me]},mn,ge,me],B=()=>[mn,"auto",ge,me],se=()=>["auto","min","max","fr",ge,me],R=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],ee=()=>["start","end","center","stretch","center-safe","end-safe"],D=()=>["auto",...C()],Y=()=>[gi,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...C()],H=()=>[e,ge,me],de=()=>[...I(),Uv,Lv,{position:[ge,me]}],he=()=>["no-repeat",{repeat:["","x","y","space","round"]}],L=()=>["auto","cover","contain",P4,O4,{size:[ge,me]}],Z=()=>[Uh,Qo,ar],K=()=>["","none","full",m,ge,me],F=()=>["",Te,Qo,ar],ie=()=>["solid","dashed","dotted","double"],ce=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],ue=()=>[Te,Uh,Uv,Lv],xe=()=>["","none",N,ge,me],Ee=()=>["none",Te,ge,me],dt=()=>["none",Te,ge,me],jt=()=>[Te,ge,me],Ot=()=>[gi,"full",...C()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[Ra],breakpoint:[Ra],color:[k4],container:[Ra],"drop-shadow":[Ra],ease:["in","out","in-out"],font:[T4],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[Ra],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[Ra],shadow:[Ra],spacing:["px",Te],text:[Ra],"text-shadow":[Ra],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",gi,me,ge,_]}],container:["container"],columns:[{columns:[Te,me,ge,f]}],"break-after":[{"break-after":A()}],"break-before":[{"break-before":A()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:M()}],overflow:[{overflow:P()}],"overflow-x":[{"overflow-x":P()}],"overflow-y":[{"overflow-y":P()}],overscroll:[{overscroll:O()}],"overscroll-x":[{"overscroll-x":O()}],"overscroll-y":[{"overscroll-y":O()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:z()}],"inset-x":[{"inset-x":z()}],"inset-y":[{"inset-y":z()}],start:[{start:z()}],end:[{end:z()}],top:[{top:z()}],right:[{right:z()}],bottom:[{bottom:z()}],left:[{left:z()}],visibility:["visible","invisible","collapse"],z:[{z:[mn,"auto",ge,me]}],basis:[{basis:[gi,"full","auto",f,...C()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[Te,gi,"auto","initial","none",me]}],grow:[{grow:["",Te,ge,me]}],shrink:[{shrink:["",Te,ge,me]}],order:[{order:[mn,"first","last","none",ge,me]}],"grid-cols":[{"grid-cols":G()}],"col-start-end":[{col:X()}],"col-start":[{"col-start":B()}],"col-end":[{"col-end":B()}],"grid-rows":[{"grid-rows":G()}],"row-start-end":[{row:X()}],"row-start":[{"row-start":B()}],"row-end":[{"row-end":B()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":se()}],"auto-rows":[{"auto-rows":se()}],gap:[{gap:C()}],"gap-x":[{"gap-x":C()}],"gap-y":[{"gap-y":C()}],"justify-content":[{justify:[...R(),"normal"]}],"justify-items":[{"justify-items":[...ee(),"normal"]}],"justify-self":[{"justify-self":["auto",...ee()]}],"align-content":[{content:["normal",...R()]}],"align-items":[{items:[...ee(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...ee(),{baseline:["","last"]}]}],"place-content":[{"place-content":R()}],"place-items":[{"place-items":[...ee(),"baseline"]}],"place-self":[{"place-self":["auto",...ee()]}],p:[{p:C()}],px:[{px:C()}],py:[{py:C()}],ps:[{ps:C()}],pe:[{pe:C()}],pt:[{pt:C()}],pr:[{pr:C()}],pb:[{pb:C()}],pl:[{pl:C()}],m:[{m:D()}],mx:[{mx:D()}],my:[{my:D()}],ms:[{ms:D()}],me:[{me:D()}],mt:[{mt:D()}],mr:[{mr:D()}],mb:[{mb:D()}],ml:[{ml:D()}],"space-x":[{"space-x":C()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":C()}],"space-y-reverse":["space-y-reverse"],size:[{size:Y()}],w:[{w:[f,"screen",...Y()]}],"min-w":[{"min-w":[f,"screen","none",...Y()]}],"max-w":[{"max-w":[f,"screen","none","prose",{screen:[d]},...Y()]}],h:[{h:["screen","lh",...Y()]}],"min-h":[{"min-h":["screen","lh","none",...Y()]}],"max-h":[{"max-h":["screen","lh",...Y()]}],"font-size":[{text:["base",a,Qo,ar]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[r,ge,Ih]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",Uh,me]}],"font-family":[{font:[R4,me,t]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[l,ge,me]}],"line-clamp":[{"line-clamp":[Te,"none",ge,Ih]}],leading:[{leading:[c,...C()]}],"list-image":[{"list-image":["none",ge,me]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",ge,me]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:H()}],"text-color":[{text:H()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...ie(),"wavy"]}],"text-decoration-thickness":[{decoration:[Te,"from-font","auto",ge,ar]}],"text-decoration-color":[{decoration:H()}],"underline-offset":[{"underline-offset":[Te,"auto",ge,me]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:C()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",ge,me]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",ge,me]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:de()}],"bg-repeat":[{bg:he()}],"bg-size":[{bg:L()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},mn,ge,me],radial:["",ge,me],conic:[mn,ge,me]},M4,D4]}],"bg-color":[{bg:H()}],"gradient-from-pos":[{from:Z()}],"gradient-via-pos":[{via:Z()}],"gradient-to-pos":[{to:Z()}],"gradient-from":[{from:H()}],"gradient-via":[{via:H()}],"gradient-to":[{to:H()}],rounded:[{rounded:K()}],"rounded-s":[{"rounded-s":K()}],"rounded-e":[{"rounded-e":K()}],"rounded-t":[{"rounded-t":K()}],"rounded-r":[{"rounded-r":K()}],"rounded-b":[{"rounded-b":K()}],"rounded-l":[{"rounded-l":K()}],"rounded-ss":[{"rounded-ss":K()}],"rounded-se":[{"rounded-se":K()}],"rounded-ee":[{"rounded-ee":K()}],"rounded-es":[{"rounded-es":K()}],"rounded-tl":[{"rounded-tl":K()}],"rounded-tr":[{"rounded-tr":K()}],"rounded-br":[{"rounded-br":K()}],"rounded-bl":[{"rounded-bl":K()}],"border-w":[{border:F()}],"border-w-x":[{"border-x":F()}],"border-w-y":[{"border-y":F()}],"border-w-s":[{"border-s":F()}],"border-w-e":[{"border-e":F()}],"border-w-t":[{"border-t":F()}],"border-w-r":[{"border-r":F()}],"border-w-b":[{"border-b":F()}],"border-w-l":[{"border-l":F()}],"divide-x":[{"divide-x":F()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":F()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...ie(),"hidden","none"]}],"divide-style":[{divide:[...ie(),"hidden","none"]}],"border-color":[{border:H()}],"border-color-x":[{"border-x":H()}],"border-color-y":[{"border-y":H()}],"border-color-s":[{"border-s":H()}],"border-color-e":[{"border-e":H()}],"border-color-t":[{"border-t":H()}],"border-color-r":[{"border-r":H()}],"border-color-b":[{"border-b":H()}],"border-color-l":[{"border-l":H()}],"divide-color":[{divide:H()}],"outline-style":[{outline:[...ie(),"none","hidden"]}],"outline-offset":[{"outline-offset":[Te,ge,me]}],"outline-w":[{outline:["",Te,Qo,ar]}],"outline-color":[{outline:H()}],shadow:[{shadow:["","none",y,Xc,Wc]}],"shadow-color":[{shadow:H()}],"inset-shadow":[{"inset-shadow":["none",x,Xc,Wc]}],"inset-shadow-color":[{"inset-shadow":H()}],"ring-w":[{ring:F()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:H()}],"ring-offset-w":[{"ring-offset":[Te,ar]}],"ring-offset-color":[{"ring-offset":H()}],"inset-ring-w":[{"inset-ring":F()}],"inset-ring-color":[{"inset-ring":H()}],"text-shadow":[{"text-shadow":["none",v,Xc,Wc]}],"text-shadow-color":[{"text-shadow":H()}],opacity:[{opacity:[Te,ge,me]}],"mix-blend":[{"mix-blend":[...ce(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":ce()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[Te]}],"mask-image-linear-from-pos":[{"mask-linear-from":ue()}],"mask-image-linear-to-pos":[{"mask-linear-to":ue()}],"mask-image-linear-from-color":[{"mask-linear-from":H()}],"mask-image-linear-to-color":[{"mask-linear-to":H()}],"mask-image-t-from-pos":[{"mask-t-from":ue()}],"mask-image-t-to-pos":[{"mask-t-to":ue()}],"mask-image-t-from-color":[{"mask-t-from":H()}],"mask-image-t-to-color":[{"mask-t-to":H()}],"mask-image-r-from-pos":[{"mask-r-from":ue()}],"mask-image-r-to-pos":[{"mask-r-to":ue()}],"mask-image-r-from-color":[{"mask-r-from":H()}],"mask-image-r-to-color":[{"mask-r-to":H()}],"mask-image-b-from-pos":[{"mask-b-from":ue()}],"mask-image-b-to-pos":[{"mask-b-to":ue()}],"mask-image-b-from-color":[{"mask-b-from":H()}],"mask-image-b-to-color":[{"mask-b-to":H()}],"mask-image-l-from-pos":[{"mask-l-from":ue()}],"mask-image-l-to-pos":[{"mask-l-to":ue()}],"mask-image-l-from-color":[{"mask-l-from":H()}],"mask-image-l-to-color":[{"mask-l-to":H()}],"mask-image-x-from-pos":[{"mask-x-from":ue()}],"mask-image-x-to-pos":[{"mask-x-to":ue()}],"mask-image-x-from-color":[{"mask-x-from":H()}],"mask-image-x-to-color":[{"mask-x-to":H()}],"mask-image-y-from-pos":[{"mask-y-from":ue()}],"mask-image-y-to-pos":[{"mask-y-to":ue()}],"mask-image-y-from-color":[{"mask-y-from":H()}],"mask-image-y-to-color":[{"mask-y-to":H()}],"mask-image-radial":[{"mask-radial":[ge,me]}],"mask-image-radial-from-pos":[{"mask-radial-from":ue()}],"mask-image-radial-to-pos":[{"mask-radial-to":ue()}],"mask-image-radial-from-color":[{"mask-radial-from":H()}],"mask-image-radial-to-color":[{"mask-radial-to":H()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":I()}],"mask-image-conic-pos":[{"mask-conic":[Te]}],"mask-image-conic-from-pos":[{"mask-conic-from":ue()}],"mask-image-conic-to-pos":[{"mask-conic-to":ue()}],"mask-image-conic-from-color":[{"mask-conic-from":H()}],"mask-image-conic-to-color":[{"mask-conic-to":H()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:de()}],"mask-repeat":[{mask:he()}],"mask-size":[{mask:L()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",ge,me]}],filter:[{filter:["","none",ge,me]}],blur:[{blur:xe()}],brightness:[{brightness:[Te,ge,me]}],contrast:[{contrast:[Te,ge,me]}],"drop-shadow":[{"drop-shadow":["","none",b,Xc,Wc]}],"drop-shadow-color":[{"drop-shadow":H()}],grayscale:[{grayscale:["",Te,ge,me]}],"hue-rotate":[{"hue-rotate":[Te,ge,me]}],invert:[{invert:["",Te,ge,me]}],saturate:[{saturate:[Te,ge,me]}],sepia:[{sepia:["",Te,ge,me]}],"backdrop-filter":[{"backdrop-filter":["","none",ge,me]}],"backdrop-blur":[{"backdrop-blur":xe()}],"backdrop-brightness":[{"backdrop-brightness":[Te,ge,me]}],"backdrop-contrast":[{"backdrop-contrast":[Te,ge,me]}],"backdrop-grayscale":[{"backdrop-grayscale":["",Te,ge,me]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[Te,ge,me]}],"backdrop-invert":[{"backdrop-invert":["",Te,ge,me]}],"backdrop-opacity":[{"backdrop-opacity":[Te,ge,me]}],"backdrop-saturate":[{"backdrop-saturate":[Te,ge,me]}],"backdrop-sepia":[{"backdrop-sepia":["",Te,ge,me]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":C()}],"border-spacing-x":[{"border-spacing-x":C()}],"border-spacing-y":[{"border-spacing-y":C()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",ge,me]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[Te,"initial",ge,me]}],ease:[{ease:["linear","initial",E,ge,me]}],delay:[{delay:[Te,ge,me]}],animate:[{animate:["none",T,ge,me]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[w,ge,me]}],"perspective-origin":[{"perspective-origin":M()}],rotate:[{rotate:Ee()}],"rotate-x":[{"rotate-x":Ee()}],"rotate-y":[{"rotate-y":Ee()}],"rotate-z":[{"rotate-z":Ee()}],scale:[{scale:dt()}],"scale-x":[{"scale-x":dt()}],"scale-y":[{"scale-y":dt()}],"scale-z":[{"scale-z":dt()}],"scale-3d":["scale-3d"],skew:[{skew:jt()}],"skew-x":[{"skew-x":jt()}],"skew-y":[{"skew-y":jt()}],transform:[{transform:[ge,me,"","none","gpu","cpu"]}],"transform-origin":[{origin:M()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:Ot()}],"translate-x":[{"translate-x":Ot()}],"translate-y":[{"translate-y":Ot()}],"translate-z":[{"translate-z":Ot()}],"translate-none":["translate-none"],accent:[{accent:H()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:H()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",ge,me]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":C()}],"scroll-mx":[{"scroll-mx":C()}],"scroll-my":[{"scroll-my":C()}],"scroll-ms":[{"scroll-ms":C()}],"scroll-me":[{"scroll-me":C()}],"scroll-mt":[{"scroll-mt":C()}],"scroll-mr":[{"scroll-mr":C()}],"scroll-mb":[{"scroll-mb":C()}],"scroll-ml":[{"scroll-ml":C()}],"scroll-p":[{"scroll-p":C()}],"scroll-px":[{"scroll-px":C()}],"scroll-py":[{"scroll-py":C()}],"scroll-ps":[{"scroll-ps":C()}],"scroll-pe":[{"scroll-pe":C()}],"scroll-pt":[{"scroll-pt":C()}],"scroll-pr":[{"scroll-pr":C()}],"scroll-pb":[{"scroll-pb":C()}],"scroll-pl":[{"scroll-pl":C()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",ge,me]}],fill:[{fill:["none",...H()]}],"stroke-w":[{stroke:[Te,Qo,ar,Ih]}],stroke:[{stroke:["none",...H()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},z4=v4(I4);function Ye(...e){return z4($1(e))}function q4({delayDuration:e=0,...t}){return i.jsx(r4,{"data-loc":"client/src/components/ui/tooltip.tsx:11","data-slot":"tooltip-provider",delayDuration:e,...t})}function B4(e,t){if(e instanceof RegExp)return{keys:!1,pattern:e};var a,r,l,c,d=[],f="",p=e.split("/");for(p[0]||p.shift();l=p.shift();)a=l[0],a==="*"?(d.push(a),f+=l[1]==="?"?"(?:/(.*))?":"/(.*)"):a===":"?(r=l.indexOf("?",1),c=l.indexOf(".",1),d.push(l.substring(1,~r?r:~c?c:l.length)),f+=~r&&!~c?"(?:/([^/]+?))?":"/([^/]+?)",~c&&(f+=(~r?"?":"")+"\\"+l.substring(c))):f+="/"+l;return{keys:d,pattern:new RegExp("^"+f+(t?"(?=$|/)":"/?$"),"i")}}var zh={exports:{}},qh={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Iv;function H4(){if(Iv)return qh;Iv=1;var e=zu();function t(x,v){return x===v&&(x!==0||1/x===1/v)||x!==x&&v!==v}var a=typeof Object.is=="function"?Object.is:t,r=e.useState,l=e.useEffect,c=e.useLayoutEffect,d=e.useDebugValue;function f(x,v){var b=v(),N=r({inst:{value:b,getSnapshot:v}}),w=N[0].inst,_=N[1];return c(function(){w.value=b,w.getSnapshot=v,p(w)&&_({inst:w})},[x,b,v]),l(function(){return p(w)&&_({inst:w}),x(function(){p(w)&&_({inst:w})})},[x]),d(b),b}function p(x){var v=x.getSnapshot;x=x.value;try{var b=v();return!a(x,b)}catch{return!0}}function m(x,v){return v()}var y=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?m:f;return qh.useSyncExternalStore=e.useSyncExternalStore!==void 0?e.useSyncExternalStore:y,qh}var zv;function $4(){return zv||(zv=1,zh.exports=H4()),zh.exports}var F4=$4();const G4=qu.useInsertionEffect,V4=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Q4=V4?j.useLayoutEffect:j.useEffect,Y4=G4||Q4,e2=e=>{const t=j.useRef([e,(...a)=>t[0](...a)]).current;return Y4(()=>{t[0]=e}),t[1]},K4="popstate",Sm="pushState",_m="replaceState",W4="hashchange",qv=[K4,Sm,_m,W4],X4=e=>{for(const t of qv)addEventListener(t,e);return()=>{for(const t of qv)removeEventListener(t,e)}},t2=(e,t)=>F4.useSyncExternalStore(X4,e,t),J4=()=>location.search,Z4=({ssrSearch:e=""}={})=>t2(J4,()=>e),Bv=()=>location.pathname,e3=({ssrPath:e}={})=>t2(Bv,e?()=>e:Bv),t3=(e,{replace:t=!1,state:a=null}={})=>history[t?_m:Sm](a,"",e),s3=(e={})=>[e3(e),t3],Hv=Symbol.for("wouter_v3");if(typeof history<"u"&&typeof window[Hv]>"u"){for(const e of[Sm,_m]){const t=history[e];history[e]=function(){const a=t.apply(this,arguments),r=new Event(e);return r.arguments=arguments,dispatchEvent(r),a}}Object.defineProperty(window,Hv,{value:!0})}const a3=(e,t)=>t.toLowerCase().indexOf(e.toLowerCase())?"~"+t:t.slice(e.length)||"/",s2=(e="")=>e==="/"?"":e,n3=(e,t)=>e[0]==="~"?e.slice(1):s2(t)+e,r3=(e="",t)=>a3($v(s2(e)),$v(t)),$v=e=>{try{return decodeURI(e)}catch{return e}},a2={hook:s3,searchHook:Z4,parser:B4,base:"",ssrPath:void 0,ssrSearch:void 0,ssrContext:void 0,hrefs:e=>e},n2=j.createContext(a2),Vi=()=>j.useContext(n2),r2={},i2=j.createContext(r2),Zu=()=>j.useContext(i2),ed=e=>{const[t,a]=e.hook(e);return[r3(e.base,t),e2((r,l)=>a(n3(r,e.base),l))]},ut=()=>ed(Vi()),Nm=(e,t,a,r)=>{const{pattern:l,keys:c}=t instanceof RegExp?{keys:!1,pattern:t}:e(t||"*",r),d=l.exec(a)||[],[f,...p]=d;return f!==void 0?[!0,(()=>{const m=c!==!1?Object.fromEntries(c.map((x,v)=>[x,p[v]])):d.groups;let y={...p};return m&&Object.assign(y,m),y})(),...r?[f]:[]]:[!1,null]},_l=e=>Nm(Vi().parser,e,ut()[0]),i3=({children:e,...t})=>{const a=Vi(),r=t.hook?a2:a;let l=r;const[c,d]=t.ssrPath?.split("?")??[];d&&(t.ssrSearch=d,t.ssrPath=c),t.hrefs=t.hrefs??t.hook?.hrefs;let f=j.useRef({}),p=f.current,m=p;for(let y in r){const x=y==="base"?r[y]+(t[y]||""):t[y]||r[y];p===m&&x!==m[y]&&(f.current=m={...m}),m[y]=x,(x!==r[y]||x!==l[y])&&(l=m)}return j.createElement(n2.Provider,{value:l,children:e})},Fv=({children:e,component:t},a)=>t?j.createElement(t,{params:a}):typeof e=="function"?e(a):e,o3=e=>{let t=j.useRef(r2);const a=t.current;return t.current=Object.keys(e).length!==Object.keys(a).length||Object.entries(e).some(([r,l])=>l!==a[r])?e:a},st=({path:e,nest:t,match:a,...r})=>{const l=Vi(),[c]=ed(l),[d,f,p]=a??Nm(l.parser,e,c,t),m=o3({...Zu(),...f});if(!d)return null;const y=p?j.createElement(i3,{base:p},Fv(r,m)):Fv(r,m);return j.createElement(i2.Provider,{value:m,children:y})},Wt=j.forwardRef((e,t)=>{const a=Vi(),[r,l]=ed(a),{to:c="",href:d=c,onClick:f,asChild:p,children:m,className:y,replace:x,state:v,...b}=e,N=e2(_=>{_.ctrlKey||_.metaKey||_.altKey||_.shiftKey||_.button!==0||(f?.(_),_.defaultPrevented||(_.preventDefault(),l(d,e)))}),w=a.hrefs(d[0]==="~"?d.slice(1):a.base+d,a);return p&&j.isValidElement(m)?j.cloneElement(m,{onClick:N,href:w}):j.createElement("a",{...b,onClick:N,href:w,className:y?.call?y(r===d):y,children:m,ref:t})}),o2=e=>Array.isArray(e)?e.flatMap(t=>o2(t&&t.type===j.Fragment?t.props.children:t)):[e],l3=({children:e,location:t})=>{const a=Vi(),[r]=ed(a);for(const l of o2(e)){let c=0;if(j.isValidElement(l)&&(c=Nm(a.parser,l.props.path,t||r,l.props.nest))[0])return j.cloneElement(l,{match:c})}return null};var Mp=function(e,t){return Mp=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,r){a.__proto__=r}||function(a,r){for(var l in r)Object.prototype.hasOwnProperty.call(r,l)&&(a[l]=r[l])},Mp(e,t)};function l2(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");Mp(e,t);function a(){this.constructor=e}e.prototype=t===null?Object.create(t):(a.prototype=t.prototype,new a)}var Ls=function(){return Ls=Object.assign||function(t){for(var a,r=1,l=arguments.length;r<l;r++){a=arguments[r];for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&(t[c]=a[c])}return t},Ls.apply(this,arguments)};function Dn(e,t){var a={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(a[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,r=Object.getOwnPropertySymbols(e);l<r.length;l++)t.indexOf(r[l])<0&&Object.prototype.propertyIsEnumerable.call(e,r[l])&&(a[r[l]]=e[r[l]]);return a}function c2(e,t,a,r){var l=arguments.length,c=l<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,a):r,d;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")c=Reflect.decorate(e,t,a,r);else for(var f=e.length-1;f>=0;f--)(d=e[f])&&(c=(l<3?d(c):l>3?d(t,a,c):d(t,a))||c);return l>3&&c&&Object.defineProperty(t,a,c),c}function u2(e,t){return function(a,r){t(a,r,e)}}function d2(e,t,a,r,l,c){function d(E){if(E!==void 0&&typeof E!="function")throw new TypeError("Function expected");return E}for(var f=r.kind,p=f==="getter"?"get":f==="setter"?"set":"value",m=!t&&e?r.static?e:e.prototype:null,y=t||(m?Object.getOwnPropertyDescriptor(m,r.name):{}),x,v=!1,b=a.length-1;b>=0;b--){var N={};for(var w in r)N[w]=w==="access"?{}:r[w];for(var w in r.access)N.access[w]=r.access[w];N.addInitializer=function(E){if(v)throw new TypeError("Cannot add initializers after decoration has completed");c.push(d(E||null))};var _=(0,a[b])(f==="accessor"?{get:y.get,set:y.set}:y[p],N);if(f==="accessor"){if(_===void 0)continue;if(_===null||typeof _!="object")throw new TypeError("Object expected");(x=d(_.get))&&(y.get=x),(x=d(_.set))&&(y.set=x),(x=d(_.init))&&l.unshift(x)}else(x=d(_))&&(f==="field"?l.unshift(x):y[p]=x)}m&&Object.defineProperty(m,r.name,y),v=!0}function f2(e,t,a){for(var r=arguments.length>2,l=0;l<t.length;l++)a=r?t[l].call(e,a):t[l].call(e);return r?a:void 0}function h2(e){return typeof e=="symbol"?e:"".concat(e)}function p2(e,t,a){return typeof t=="symbol"&&(t=t.description?"[".concat(t.description,"]"):""),Object.defineProperty(e,"name",{configurable:!0,value:a?"".concat(a," ",t):t})}function m2(e,t){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(e,t)}function ve(e,t,a,r){function l(c){return c instanceof a?c:new a(function(d){d(c)})}return new(a||(a=Promise))(function(c,d){function f(y){try{m(r.next(y))}catch(x){d(x)}}function p(y){try{m(r.throw(y))}catch(x){d(x)}}function m(y){y.done?c(y.value):l(y.value).then(f,p)}m((r=r.apply(e,t||[])).next())})}function g2(e,t){var a={label:0,sent:function(){if(c[0]&1)throw c[1];return c[1]},trys:[],ops:[]},r,l,c,d=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return d.next=f(0),d.throw=f(1),d.return=f(2),typeof Symbol=="function"&&(d[Symbol.iterator]=function(){return this}),d;function f(m){return function(y){return p([m,y])}}function p(m){if(r)throw new TypeError("Generator is already executing.");for(;d&&(d=0,m[0]&&(a=0)),a;)try{if(r=1,l&&(c=m[0]&2?l.return:m[0]?l.throw||((c=l.return)&&c.call(l),0):l.next)&&!(c=c.call(l,m[1])).done)return c;switch(l=0,c&&(m=[m[0]&2,c.value]),m[0]){case 0:case 1:c=m;break;case 4:return a.label++,{value:m[1],done:!1};case 5:a.label++,l=m[1],m=[0];continue;case 7:m=a.ops.pop(),a.trys.pop();continue;default:if(c=a.trys,!(c=c.length>0&&c[c.length-1])&&(m[0]===6||m[0]===2)){a=0;continue}if(m[0]===3&&(!c||m[1]>c[0]&&m[1]<c[3])){a.label=m[1];break}if(m[0]===6&&a.label<c[1]){a.label=c[1],c=m;break}if(c&&a.label<c[2]){a.label=c[2],a.ops.push(m);break}c[2]&&a.ops.pop(),a.trys.pop();continue}m=t.call(e,a)}catch(y){m=[6,y],l=0}finally{r=c=0}if(m[0]&5)throw m[1];return{value:m[0]?m[1]:void 0,done:!0}}}var td=Object.create?(function(e,t,a,r){r===void 0&&(r=a);var l=Object.getOwnPropertyDescriptor(t,a);(!l||("get"in l?!t.__esModule:l.writable||l.configurable))&&(l={enumerable:!0,get:function(){return t[a]}}),Object.defineProperty(e,r,l)}):(function(e,t,a,r){r===void 0&&(r=a),e[r]=t[a]});function x2(e,t){for(var a in e)a!=="default"&&!Object.prototype.hasOwnProperty.call(t,a)&&td(t,e,a)}function Cu(e){var t=typeof Symbol=="function"&&Symbol.iterator,a=t&&e[t],r=0;if(a)return a.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function km(e,t){var a=typeof Symbol=="function"&&e[Symbol.iterator];if(!a)return e;var r=a.call(e),l,c=[],d;try{for(;(t===void 0||t-- >0)&&!(l=r.next()).done;)c.push(l.value)}catch(f){d={error:f}}finally{try{l&&!l.done&&(a=r.return)&&a.call(r)}finally{if(d)throw d.error}}return c}function y2(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(km(arguments[t]));return e}function v2(){for(var e=0,t=0,a=arguments.length;t<a;t++)e+=arguments[t].length;for(var r=Array(e),l=0,t=0;t<a;t++)for(var c=arguments[t],d=0,f=c.length;d<f;d++,l++)r[l]=c[d];return r}function Em(e,t,a){if(a||arguments.length===2)for(var r=0,l=t.length,c;r<l;r++)(c||!(r in t))&&(c||(c=Array.prototype.slice.call(t,0,r)),c[r]=t[r]);return e.concat(c||Array.prototype.slice.call(t))}function Ui(e){return this instanceof Ui?(this.v=e,this):new Ui(e)}function b2(e,t,a){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=a.apply(e,t||[]),l,c=[];return l=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),f("next"),f("throw"),f("return",d),l[Symbol.asyncIterator]=function(){return this},l;function d(b){return function(N){return Promise.resolve(N).then(b,x)}}function f(b,N){r[b]&&(l[b]=function(w){return new Promise(function(_,E){c.push([b,w,_,E])>1||p(b,w)})},N&&(l[b]=N(l[b])))}function p(b,N){try{m(r[b](N))}catch(w){v(c[0][3],w)}}function m(b){b.value instanceof Ui?Promise.resolve(b.value.v).then(y,x):v(c[0][2],b)}function y(b){p("next",b)}function x(b){p("throw",b)}function v(b,N){b(N),c.shift(),c.length&&p(c[0][0],c[0][1])}}function w2(e){var t,a;return t={},r("next"),r("throw",function(l){throw l}),r("return"),t[Symbol.iterator]=function(){return this},t;function r(l,c){t[l]=e[l]?function(d){return(a=!a)?{value:Ui(e[l](d)),done:!1}:c?c(d):d}:c}}function j2(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],a;return t?t.call(e):(e=typeof Cu=="function"?Cu(e):e[Symbol.iterator](),a={},r("next"),r("throw"),r("return"),a[Symbol.asyncIterator]=function(){return this},a);function r(c){a[c]=e[c]&&function(d){return new Promise(function(f,p){d=e[c](d),l(f,p,d.done,d.value)})}}function l(c,d,f,p){Promise.resolve(p).then(function(m){c({value:m,done:f})},d)}}function S2(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}var c3=Object.create?(function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}):function(e,t){e.default=t},Lp=function(e){return Lp=Object.getOwnPropertyNames||function(t){var a=[];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(a[a.length]=r);return a},Lp(e)};function _2(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var a=Lp(e),r=0;r<a.length;r++)a[r]!=="default"&&td(t,e,a[r]);return c3(t,e),t}function N2(e){return e&&e.__esModule?e:{default:e}}function k2(e,t,a,r){if(a==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return a==="m"?r:a==="a"?r.call(e):r?r.value:t.get(e)}function E2(e,t,a,r,l){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!l)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!l:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?l.call(e,a):l?l.value=a:t.set(e,a),a}function A2(e,t){if(t===null||typeof t!="object"&&typeof t!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof e=="function"?t===e:e.has(t)}function C2(e,t,a){if(t!=null){if(typeof t!="object"&&typeof t!="function")throw new TypeError("Object expected.");var r,l;if(a){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");r=t[Symbol.asyncDispose]}if(r===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");r=t[Symbol.dispose],a&&(l=r)}if(typeof r!="function")throw new TypeError("Object not disposable.");l&&(r=function(){try{l.call(this)}catch(c){return Promise.reject(c)}}),e.stack.push({value:t,dispose:r,async:a})}else a&&e.stack.push({async:!0});return t}var u3=typeof SuppressedError=="function"?SuppressedError:function(e,t,a){var r=new Error(a);return r.name="SuppressedError",r.error=e,r.suppressed=t,r};function T2(e){function t(c){e.error=e.hasError?new u3(c,e.error,"An error was suppressed during disposal."):c,e.hasError=!0}var a,r=0;function l(){for(;a=e.stack.pop();)try{if(!a.async&&r===1)return r=0,e.stack.push(a),Promise.resolve().then(l);if(a.dispose){var c=a.dispose.call(a.value);if(a.async)return r|=2,Promise.resolve(c).then(l,function(d){return t(d),l()})}else r|=1}catch(d){t(d)}if(r===1)return e.hasError?Promise.reject(e.error):Promise.resolve();if(e.hasError)throw e.error}return l()}function O2(e,t){return typeof e=="string"&&/^\.\.?\//.test(e)?e.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(a,r,l,c,d){return r?t?".jsx":".js":l&&(!c||!d)?a:l+c+"."+d.toLowerCase()+"js"}):e}const d3={__extends:l2,__assign:Ls,__rest:Dn,__decorate:c2,__param:u2,__esDecorate:d2,__runInitializers:f2,__propKey:h2,__setFunctionName:p2,__metadata:m2,__awaiter:ve,__generator:g2,__createBinding:td,__exportStar:x2,__values:Cu,__read:km,__spread:y2,__spreadArrays:v2,__spreadArray:Em,__await:Ui,__asyncGenerator:b2,__asyncDelegator:w2,__asyncValues:j2,__makeTemplateObject:S2,__importStar:_2,__importDefault:N2,__classPrivateFieldGet:k2,__classPrivateFieldSet:E2,__classPrivateFieldIn:A2,__addDisposableResource:C2,__disposeResources:T2,__rewriteRelativeImportExtension:O2},f3=Object.freeze(Object.defineProperty({__proto__:null,__addDisposableResource:C2,get __assign(){return Ls},__asyncDelegator:w2,__asyncGenerator:b2,__asyncValues:j2,__await:Ui,__awaiter:ve,__classPrivateFieldGet:k2,__classPrivateFieldIn:A2,__classPrivateFieldSet:E2,__createBinding:td,__decorate:c2,__disposeResources:T2,__esDecorate:d2,__exportStar:x2,__extends:l2,__generator:g2,__importDefault:N2,__importStar:_2,__makeTemplateObject:S2,__metadata:m2,__param:u2,__propKey:h2,__read:km,__rest:Dn,__rewriteRelativeImportExtension:O2,__runInitializers:f2,__setFunctionName:p2,__spread:y2,__spreadArray:Em,__spreadArrays:v2,__values:Cu,default:d3},Symbol.toStringTag,{value:"Module"})),h3="modulepreload",p3=function(e){return"/"+e},Gv={},qa=function(t,a,r){let l=Promise.resolve();if(a&&a.length>0){let p=function(m){return Promise.all(m.map(y=>Promise.resolve(y).then(x=>({status:"fulfilled",value:x}),x=>({status:"rejected",reason:x}))))};document.getElementsByTagName("link");const d=document.querySelector("meta[property=csp-nonce]"),f=d?.nonce||d?.getAttribute("nonce");l=p(a.map(m=>{if(m=p3(m),m in Gv)return;Gv[m]=!0;const y=m.endsWith(".css"),x=y?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${m}"]${x}`))return;const v=document.createElement("link");if(v.rel=y?"stylesheet":h3,y||(v.as="script"),v.crossOrigin="",v.href=m,f&&v.setAttribute("nonce",f),document.head.appendChild(v),y)return new Promise((b,N)=>{v.addEventListener("load",b),v.addEventListener("error",()=>N(new Error(`Unable to preload CSS for ${m}`)))})}))}function c(d){const f=new Event("vite:preloadError",{cancelable:!0});if(f.payload=d,window.dispatchEvent(f),!f.defaultPrevented)throw d}return l.then(d=>{for(const f of d||[])f.status==="rejected"&&c(f.reason);return t().catch(c)})},m3=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...a)=>qa(async()=>{const{default:r}=await Promise.resolve().then(()=>_r);return{default:r}},void 0).then(({default:r})=>r(...a)):t=fetch,(...a)=>t(...a)};class Am extends Error{constructor(t,a="FunctionsError",r){super(t),this.name=a,this.context=r}}class Vv extends Am{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class Qv extends Am{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class Yv extends Am{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var Up;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(Up||(Up={}));class g3{constructor(t,{headers:a={},customFetch:r,region:l=Up.Any}={}){this.url=t,this.headers=a,this.region=l,this.fetch=m3(r)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t){return ve(this,arguments,void 0,function*(a,r={}){var l;try{const{headers:c,method:d,body:f,signal:p}=r;let m={},{region:y}=r;y||(y=this.region);const x=new URL(`${this.url}/${a}`);y&&y!=="any"&&(m["x-region"]=y,x.searchParams.set("forceFunctionRegion",y));let v;f&&(c&&!Object.prototype.hasOwnProperty.call(c,"Content-Type")||!c)?typeof Blob<"u"&&f instanceof Blob||f instanceof ArrayBuffer?(m["Content-Type"]="application/octet-stream",v=f):typeof f=="string"?(m["Content-Type"]="text/plain",v=f):typeof FormData<"u"&&f instanceof FormData?v=f:(m["Content-Type"]="application/json",v=JSON.stringify(f)):v=f;const b=yield this.fetch(x.toString(),{method:d||"POST",headers:Object.assign(Object.assign(Object.assign({},m),this.headers),c),body:v,signal:p}).catch(E=>{throw E.name==="AbortError"?E:new Vv(E)}),N=b.headers.get("x-relay-error");if(N&&N==="true")throw new Qv(b);if(!b.ok)throw new Yv(b);let w=((l=b.headers.get("Content-Type"))!==null&&l!==void 0?l:"text/plain").split(";")[0].trim(),_;return w==="application/json"?_=yield b.json():w==="application/octet-stream"||w==="application/pdf"?_=yield b.blob():w==="text/event-stream"?_=b:w==="multipart/form-data"?_=yield b.formData():_=yield b.text(),{data:_,error:null,response:b}}catch(c){return c instanceof Error&&c.name==="AbortError"?{data:null,error:new Vv(c)}:{data:null,error:c,response:c instanceof Yv||c instanceof Qv?c.context:void 0}}})}}var Bt={};const Qi=nw(f3);var Jc={},Zc={},eu={},tu={},su={},x3=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},Ii=x3();const y3=Ii.fetch,D2=Ii.fetch.bind(Ii),R2=Ii.Headers,v3=Ii.Request,b3=Ii.Response,_r=Object.freeze(Object.defineProperty({__proto__:null,Headers:R2,Request:v3,Response:b3,default:D2,fetch:y3},Symbol.toStringTag,{value:"Module"})),w3=nw(_r);var au={},Kv;function P2(){if(Kv)return au;Kv=1,Object.defineProperty(au,"__esModule",{value:!0});class e extends Error{constructor(a){super(a.message),this.name="PostgrestError",this.details=a.details,this.hint=a.hint,this.code=a.code}}return au.default=e,au}var Wv;function M2(){if(Wv)return su;Wv=1,Object.defineProperty(su,"__esModule",{value:!0});const e=Qi,t=e.__importDefault(w3),a=e.__importDefault(P2());class r{constructor(c){var d,f;this.shouldThrowOnError=!1,this.method=c.method,this.url=c.url,this.headers=new Headers(c.headers),this.schema=c.schema,this.body=c.body,this.shouldThrowOnError=(d=c.shouldThrowOnError)!==null&&d!==void 0?d:!1,this.signal=c.signal,this.isMaybeSingle=(f=c.isMaybeSingle)!==null&&f!==void 0?f:!1,c.fetch?this.fetch=c.fetch:typeof fetch>"u"?this.fetch=t.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(c,d){return this.headers=new Headers(this.headers),this.headers.set(c,d),this}then(c,d){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const f=this.fetch;let p=f(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async m=>{var y,x,v,b;let N=null,w=null,_=null,E=m.status,T=m.statusText;if(m.ok){if(this.method!=="HEAD"){const P=await m.text();P===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((y=this.headers.get("Accept"))===null||y===void 0)&&y.includes("application/vnd.pgrst.plan+text"))?w=P:w=JSON.parse(P))}const I=(x=this.headers.get("Prefer"))===null||x===void 0?void 0:x.match(/count=(exact|planned|estimated)/),M=(v=m.headers.get("content-range"))===null||v===void 0?void 0:v.split("/");I&&M&&M.length>1&&(_=parseInt(M[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(w)&&(w.length>1?(N={code:"PGRST116",details:`Results contain ${w.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},w=null,_=null,E=406,T="Not Acceptable"):w.length===1?w=w[0]:w=null)}else{const I=await m.text();try{N=JSON.parse(I),Array.isArray(N)&&m.status===404&&(w=[],N=null,E=200,T="OK")}catch{m.status===404&&I===""?(E=204,T="No Content"):N={message:I}}if(N&&this.isMaybeSingle&&(!((b=N?.details)===null||b===void 0)&&b.includes("0 rows"))&&(N=null,E=200,T="OK"),N&&this.shouldThrowOnError)throw new a.default(N)}return{error:N,data:w,count:_,status:E,statusText:T}});return this.shouldThrowOnError||(p=p.catch(m=>{var y,x,v;return{error:{message:`${(y=m?.name)!==null&&y!==void 0?y:"FetchError"}: ${m?.message}`,details:`${(x=m?.stack)!==null&&x!==void 0?x:""}`,hint:"",code:`${(v=m?.code)!==null&&v!==void 0?v:""}`},data:null,count:null,status:0,statusText:""}})),p.then(c,d)}returns(){return this}overrideTypes(){return this}}return su.default=r,su}var Xv;function L2(){if(Xv)return tu;Xv=1,Object.defineProperty(tu,"__esModule",{value:!0});const t=Qi.__importDefault(M2());class a extends t.default{select(l){let c=!1;const d=(l??"*").split("").map(f=>/\s/.test(f)&&!c?"":(f==='"'&&(c=!c),f)).join("");return this.url.searchParams.set("select",d),this.headers.append("Prefer","return=representation"),this}order(l,{ascending:c=!0,nullsFirst:d,foreignTable:f,referencedTable:p=f}={}){const m=p?`${p}.order`:"order",y=this.url.searchParams.get(m);return this.url.searchParams.set(m,`${y?`${y},`:""}${l}.${c?"asc":"desc"}${d===void 0?"":d?".nullsfirst":".nullslast"}`),this}limit(l,{foreignTable:c,referencedTable:d=c}={}){const f=typeof d>"u"?"limit":`${d}.limit`;return this.url.searchParams.set(f,`${l}`),this}range(l,c,{foreignTable:d,referencedTable:f=d}={}){const p=typeof f>"u"?"offset":`${f}.offset`,m=typeof f>"u"?"limit":`${f}.limit`;return this.url.searchParams.set(p,`${l}`),this.url.searchParams.set(m,`${c-l+1}`),this}abortSignal(l){return this.signal=l,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:l=!1,verbose:c=!1,settings:d=!1,buffers:f=!1,wal:p=!1,format:m="text"}={}){var y;const x=[l?"analyze":null,c?"verbose":null,d?"settings":null,f?"buffers":null,p?"wal":null].filter(Boolean).join("|"),v=(y=this.headers.get("Accept"))!==null&&y!==void 0?y:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${m}; for="${v}"; options=${x};`),m==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(l){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${l}`),this}}return tu.default=a,tu}var Jv;function Cm(){if(Jv)return eu;Jv=1,Object.defineProperty(eu,"__esModule",{value:!0});const t=Qi.__importDefault(L2());class a extends t.default{eq(l,c){return this.url.searchParams.append(l,`eq.${c}`),this}neq(l,c){return this.url.searchParams.append(l,`neq.${c}`),this}gt(l,c){return this.url.searchParams.append(l,`gt.${c}`),this}gte(l,c){return this.url.searchParams.append(l,`gte.${c}`),this}lt(l,c){return this.url.searchParams.append(l,`lt.${c}`),this}lte(l,c){return this.url.searchParams.append(l,`lte.${c}`),this}like(l,c){return this.url.searchParams.append(l,`like.${c}`),this}likeAllOf(l,c){return this.url.searchParams.append(l,`like(all).{${c.join(",")}}`),this}likeAnyOf(l,c){return this.url.searchParams.append(l,`like(any).{${c.join(",")}}`),this}ilike(l,c){return this.url.searchParams.append(l,`ilike.${c}`),this}ilikeAllOf(l,c){return this.url.searchParams.append(l,`ilike(all).{${c.join(",")}}`),this}ilikeAnyOf(l,c){return this.url.searchParams.append(l,`ilike(any).{${c.join(",")}}`),this}is(l,c){return this.url.searchParams.append(l,`is.${c}`),this}in(l,c){const d=Array.from(new Set(c)).map(f=>typeof f=="string"&&new RegExp("[,()]").test(f)?`"${f}"`:`${f}`).join(",");return this.url.searchParams.append(l,`in.(${d})`),this}contains(l,c){return typeof c=="string"?this.url.searchParams.append(l,`cs.${c}`):Array.isArray(c)?this.url.searchParams.append(l,`cs.{${c.join(",")}}`):this.url.searchParams.append(l,`cs.${JSON.stringify(c)}`),this}containedBy(l,c){return typeof c=="string"?this.url.searchParams.append(l,`cd.${c}`):Array.isArray(c)?this.url.searchParams.append(l,`cd.{${c.join(",")}}`):this.url.searchParams.append(l,`cd.${JSON.stringify(c)}`),this}rangeGt(l,c){return this.url.searchParams.append(l,`sr.${c}`),this}rangeGte(l,c){return this.url.searchParams.append(l,`nxl.${c}`),this}rangeLt(l,c){return this.url.searchParams.append(l,`sl.${c}`),this}rangeLte(l,c){return this.url.searchParams.append(l,`nxr.${c}`),this}rangeAdjacent(l,c){return this.url.searchParams.append(l,`adj.${c}`),this}overlaps(l,c){return typeof c=="string"?this.url.searchParams.append(l,`ov.${c}`):this.url.searchParams.append(l,`ov.{${c.join(",")}}`),this}textSearch(l,c,{config:d,type:f}={}){let p="";f==="plain"?p="pl":f==="phrase"?p="ph":f==="websearch"&&(p="w");const m=d===void 0?"":`(${d})`;return this.url.searchParams.append(l,`${p}fts${m}.${c}`),this}match(l){return Object.entries(l).forEach(([c,d])=>{this.url.searchParams.append(c,`eq.${d}`)}),this}not(l,c,d){return this.url.searchParams.append(l,`not.${c}.${d}`),this}or(l,{foreignTable:c,referencedTable:d=c}={}){const f=d?`${d}.or`:"or";return this.url.searchParams.append(f,`(${l})`),this}filter(l,c,d){return this.url.searchParams.append(l,`${c}.${d}`),this}}return eu.default=a,eu}var Zv;function U2(){if(Zv)return Zc;Zv=1,Object.defineProperty(Zc,"__esModule",{value:!0});const t=Qi.__importDefault(Cm());class a{constructor(l,{headers:c={},schema:d,fetch:f}){this.url=l,this.headers=new Headers(c),this.schema=d,this.fetch=f}select(l,c){const{head:d=!1,count:f}=c??{},p=d?"HEAD":"GET";let m=!1;const y=(l??"*").split("").map(x=>/\s/.test(x)&&!m?"":(x==='"'&&(m=!m),x)).join("");return this.url.searchParams.set("select",y),f&&this.headers.append("Prefer",`count=${f}`),new t.default({method:p,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(l,{count:c,defaultToNull:d=!0}={}){var f;const p="POST";if(c&&this.headers.append("Prefer",`count=${c}`),d||this.headers.append("Prefer","missing=default"),Array.isArray(l)){const m=l.reduce((y,x)=>y.concat(Object.keys(x)),[]);if(m.length>0){const y=[...new Set(m)].map(x=>`"${x}"`);this.url.searchParams.set("columns",y.join(","))}}return new t.default({method:p,url:this.url,headers:this.headers,schema:this.schema,body:l,fetch:(f=this.fetch)!==null&&f!==void 0?f:fetch})}upsert(l,{onConflict:c,ignoreDuplicates:d=!1,count:f,defaultToNull:p=!0}={}){var m;const y="POST";if(this.headers.append("Prefer",`resolution=${d?"ignore":"merge"}-duplicates`),c!==void 0&&this.url.searchParams.set("on_conflict",c),f&&this.headers.append("Prefer",`count=${f}`),p||this.headers.append("Prefer","missing=default"),Array.isArray(l)){const x=l.reduce((v,b)=>v.concat(Object.keys(b)),[]);if(x.length>0){const v=[...new Set(x)].map(b=>`"${b}"`);this.url.searchParams.set("columns",v.join(","))}}return new t.default({method:y,url:this.url,headers:this.headers,schema:this.schema,body:l,fetch:(m=this.fetch)!==null&&m!==void 0?m:fetch})}update(l,{count:c}={}){var d;const f="PATCH";return c&&this.headers.append("Prefer",`count=${c}`),new t.default({method:f,url:this.url,headers:this.headers,schema:this.schema,body:l,fetch:(d=this.fetch)!==null&&d!==void 0?d:fetch})}delete({count:l}={}){var c;const d="DELETE";return l&&this.headers.append("Prefer",`count=${l}`),new t.default({method:d,url:this.url,headers:this.headers,schema:this.schema,fetch:(c=this.fetch)!==null&&c!==void 0?c:fetch})}}return Zc.default=a,Zc}var eb;function j3(){if(eb)return Jc;eb=1,Object.defineProperty(Jc,"__esModule",{value:!0});const e=Qi,t=e.__importDefault(U2()),a=e.__importDefault(Cm());class r{constructor(c,{headers:d={},schema:f,fetch:p}={}){this.url=c,this.headers=new Headers(d),this.schemaName=f,this.fetch=p}from(c){const d=new URL(`${this.url}/${c}`);return new t.default(d,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(c){return new r(this.url,{headers:this.headers,schema:c,fetch:this.fetch})}rpc(c,d={},{head:f=!1,get:p=!1,count:m}={}){var y;let x;const v=new URL(`${this.url}/rpc/${c}`);let b;f||p?(x=f?"HEAD":"GET",Object.entries(d).filter(([w,_])=>_!==void 0).map(([w,_])=>[w,Array.isArray(_)?`{${_.join(",")}}`:`${_}`]).forEach(([w,_])=>{v.searchParams.append(w,_)})):(x="POST",b=d);const N=new Headers(this.headers);return m&&N.set("Prefer",`count=${m}`),new a.default({method:x,url:v,headers:N,schema:this.schemaName,body:b,fetch:(y=this.fetch)!==null&&y!==void 0?y:fetch})}}return Jc.default=r,Jc}var tb;function S3(){if(tb)return Bt;tb=1,Object.defineProperty(Bt,"__esModule",{value:!0}),Bt.PostgrestError=Bt.PostgrestBuilder=Bt.PostgrestTransformBuilder=Bt.PostgrestFilterBuilder=Bt.PostgrestQueryBuilder=Bt.PostgrestClient=void 0;const e=Qi,t=e.__importDefault(j3());Bt.PostgrestClient=t.default;const a=e.__importDefault(U2());Bt.PostgrestQueryBuilder=a.default;const r=e.__importDefault(Cm());Bt.PostgrestFilterBuilder=r.default;const l=e.__importDefault(L2());Bt.PostgrestTransformBuilder=l.default;const c=e.__importDefault(M2());Bt.PostgrestBuilder=c.default;const d=e.__importDefault(P2());return Bt.PostgrestError=d.default,Bt.default={PostgrestClient:t.default,PostgrestQueryBuilder:a.default,PostgrestFilterBuilder:r.default,PostgrestTransformBuilder:l.default,PostgrestBuilder:c.default,PostgrestError:d.default},Bt}var _3=S3();const N3=sm(_3),{PostgrestClient:k3,PostgrestQueryBuilder:OP,PostgrestFilterBuilder:DP,PostgrestTransformBuilder:RP,PostgrestBuilder:PP,PostgrestError:MP}=N3;class E3{static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const a=process.versions;if(a&&a.node){const r=a.node,l=parseInt(r.replace(/^v/,"").split(".")[0]);return l>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${l} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${l} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let a=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(a+=`

Suggested solution: ${t.workaround}`),new Error(a)}static createWebSocket(t,a){const r=this.getWebSocketConstructor();return new r(t,a)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const A3="2.76.1",C3=`realtime-js/${A3}`,T3="1.0.0",Ip=1e4,O3=1e3,D3=100;var tl;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(tl||(tl={}));var Nt;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(Nt||(Nt={}));var Vs;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(Vs||(Vs={}));var zp;(function(e){e.websocket="websocket"})(zp||(zp={}));var ur;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(ur||(ur={}));class R3{constructor(){this.HEADER_LENGTH=1}decode(t,a){return t.constructor===ArrayBuffer?a(this._binaryDecode(t)):a(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const a=new DataView(t),r=new TextDecoder;return this._decodeBroadcast(t,a,r)}_decodeBroadcast(t,a,r){const l=a.getUint8(1),c=a.getUint8(2);let d=this.HEADER_LENGTH+2;const f=r.decode(t.slice(d,d+l));d=d+l;const p=r.decode(t.slice(d,d+c));d=d+c;const m=JSON.parse(r.decode(t.slice(d,t.byteLength)));return{ref:null,topic:f,event:p,payload:m}}}class I2{constructor(t,a){this.callback=t,this.timerCalc=a,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=a}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var We;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(We||(We={}));const sb=(e,t,a={})=>{var r;const l=(r=a.skipTypes)!==null&&r!==void 0?r:[];return t?Object.keys(t).reduce((c,d)=>(c[d]=P3(d,e,t,l),c),{}):{}},P3=(e,t,a,r)=>{const l=t.find(f=>f.name===e),c=l?.type,d=a[e];return c&&!r.includes(c)?z2(c,d):qp(d)},z2=(e,t)=>{if(e.charAt(0)==="_"){const a=e.slice(1,e.length);return I3(t,a)}switch(e){case We.bool:return M3(t);case We.float4:case We.float8:case We.int2:case We.int4:case We.int8:case We.numeric:case We.oid:return L3(t);case We.json:case We.jsonb:return U3(t);case We.timestamp:return z3(t);case We.abstime:case We.date:case We.daterange:case We.int4range:case We.int8range:case We.money:case We.reltime:case We.text:case We.time:case We.timestamptz:case We.timetz:case We.tsrange:case We.tstzrange:return qp(t);default:return qp(t)}},qp=e=>e,M3=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},L3=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},U3=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},I3=(e,t)=>{if(typeof e!="string")return e;const a=e.length-1,r=e[a];if(e[0]==="{"&&r==="}"){let c;const d=e.slice(1,a);try{c=JSON.parse("["+d+"]")}catch{c=d?d.split(","):[]}return c.map(f=>z2(t,f))}return e},z3=e=>typeof e=="string"?e.replace(" ","T"):e,q2=e=>{const t=new URL(e);return t.protocol=t.protocol.replace(/^ws/i,"http"),t.pathname=t.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),t.pathname===""||t.pathname==="/"?t.pathname="/api/broadcast":t.pathname=t.pathname+"/api/broadcast",t.href};class Bh{constructor(t,a,r={},l=Ip){this.channel=t,this.event=a,this.payload=r,this.timeout=l,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,a){var r;return this._hasReceived(t)&&a((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:t,callback:a}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=a=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=a,this._matchReceive(a)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,a){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:a})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:a}){this.recHooks.filter(r=>r.status===t).forEach(r=>r.callback(a))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var ab;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(ab||(ab={}));class sl{constructor(t,a){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=a?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},l=>{const{onJoin:c,onLeave:d,onSync:f}=this.caller;this.joinRef=this.channel._joinRef(),this.state=sl.syncState(this.state,l,c,d),this.pendingDiffs.forEach(p=>{this.state=sl.syncDiff(this.state,p,c,d)}),this.pendingDiffs=[],f()}),this.channel._on(r.diff,{},l=>{const{onJoin:c,onLeave:d,onSync:f}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(l):(this.state=sl.syncDiff(this.state,l,c,d),f())}),this.onJoin((l,c,d)=>{this.channel._trigger("presence",{event:"join",key:l,currentPresences:c,newPresences:d})}),this.onLeave((l,c,d)=>{this.channel._trigger("presence",{event:"leave",key:l,currentPresences:c,leftPresences:d})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,a,r,l){const c=this.cloneDeep(t),d=this.transformState(a),f={},p={};return this.map(c,(m,y)=>{d[m]||(p[m]=y)}),this.map(d,(m,y)=>{const x=c[m];if(x){const v=y.map(_=>_.presence_ref),b=x.map(_=>_.presence_ref),N=y.filter(_=>b.indexOf(_.presence_ref)<0),w=x.filter(_=>v.indexOf(_.presence_ref)<0);N.length>0&&(f[m]=N),w.length>0&&(p[m]=w)}else f[m]=y}),this.syncDiff(c,{joins:f,leaves:p},r,l)}static syncDiff(t,a,r,l){const{joins:c,leaves:d}={joins:this.transformState(a.joins),leaves:this.transformState(a.leaves)};return r||(r=()=>{}),l||(l=()=>{}),this.map(c,(f,p)=>{var m;const y=(m=t[f])!==null&&m!==void 0?m:[];if(t[f]=this.cloneDeep(p),y.length>0){const x=t[f].map(b=>b.presence_ref),v=y.filter(b=>x.indexOf(b.presence_ref)<0);t[f].unshift(...v)}r(f,y,p)}),this.map(d,(f,p)=>{let m=t[f];if(!m)return;const y=p.map(x=>x.presence_ref);m=m.filter(x=>y.indexOf(x.presence_ref)<0),t[f]=m,l(f,m,p),m.length===0&&delete t[f]}),t}static map(t,a){return Object.getOwnPropertyNames(t).map(r=>a(r,t[r]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((a,r)=>{const l=t[r];return"metas"in l?a[r]=l.metas.map(c=>(c.presence_ref=c.phx_ref,delete c.phx_ref,delete c.phx_ref_prev,c)):a[r]=l,a},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var nb;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(nb||(nb={}));var al;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(al||(al={}));var Pa;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(Pa||(Pa={}));class Tm{constructor(t,a={config:{}},r){var l,c;if(this.topic=t,this.params=a,this.socket=r,this.bindings={},this.state=Nt.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},a.config),this.timeout=this.socket.timeout,this.joinPush=new Bh(this,Vs.join,this.params,this.timeout),this.rejoinTimer=new I2(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Nt.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(d=>d.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Nt.closed,this.socket._remove(this)}),this._onError(d=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,d),this.state=Nt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Nt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",d=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,d),this.state=Nt.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Vs.reply,{},(d,f)=>{this._trigger(this._replyEventName(f),d)}),this.presence=new sl(this),this.broadcastEndpointURL=q2(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((c=(l=this.params.config)===null||l===void 0?void 0:l.broadcast)===null||c===void 0)&&c.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(t,a=this.timeout){var r,l,c;if(this.socket.isConnected()||this.socket.connect(),this.state==Nt.closed){const{config:{broadcast:d,presence:f,private:p}}=this.params,m=(l=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(b=>b.filter))!==null&&l!==void 0?l:[],y=!!this.bindings[al.PRESENCE]&&this.bindings[al.PRESENCE].length>0||((c=this.params.config.presence)===null||c===void 0?void 0:c.enabled)===!0,x={},v={broadcast:d,presence:Object.assign(Object.assign({},f),{enabled:y}),postgres_changes:m,private:p};this.socket.accessTokenValue&&(x.access_token=this.socket.accessTokenValue),this._onError(b=>t?.(Pa.CHANNEL_ERROR,b)),this._onClose(()=>t?.(Pa.CLOSED)),this.updateJoinPayload(Object.assign({config:v},x)),this.joinedOnce=!0,this._rejoin(a),this.joinPush.receive("ok",async({postgres_changes:b})=>{var N;if(this.socket.setAuth(),b===void 0){t?.(Pa.SUBSCRIBED);return}else{const w=this.bindings.postgres_changes,_=(N=w?.length)!==null&&N!==void 0?N:0,E=[];for(let T=0;T<_;T++){const A=w[T],{filter:{event:I,schema:M,table:P,filter:O}}=A,C=b&&b[T];if(C&&C.event===I&&C.schema===M&&C.table===P&&C.filter===O)E.push(Object.assign(Object.assign({},A),{id:C.id}));else{this.unsubscribe(),this.state=Nt.errored,t?.(Pa.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=E,t&&t(Pa.SUBSCRIBED);return}}).receive("error",b=>{this.state=Nt.errored,t?.(Pa.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(b).join(", ")||"error")))}).receive("timeout",()=>{t?.(Pa.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,a={}){return await this.send({type:"presence",event:"track",payload:t},a.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,a,r){return this.state===Nt.joined&&t===al.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(t,a,r)}async httpSend(t,a,r={}){var l;const c=this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"";if(a==null)return Promise.reject("Payload is required for httpSend()");const d={method:"POST",headers:{Authorization:c,apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:t,payload:a,private:this.private}]})},f=await this._fetchWithTimeout(this.broadcastEndpointURL,d,(l=r.timeout)!==null&&l!==void 0?l:this.timeout);if(f.status===202)return{success:!0};let p=f.statusText;try{const m=await f.json();p=m.error||m.message||p}catch{}return Promise.reject(new Error(p))}async send(t,a={}){var r,l;if(!this._canPush()&&t.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:c,payload:d}=t,p={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:c,payload:d,private:this.private}]})};try{const m=await this._fetchWithTimeout(this.broadcastEndpointURL,p,(r=a.timeout)!==null&&r!==void 0?r:this.timeout);return await((l=m.body)===null||l===void 0?void 0:l.cancel()),m.ok?"ok":"error"}catch(m){return m.name==="AbortError"?"timed out":"error"}}else return new Promise(c=>{var d,f,p;const m=this._push(t.type,t,a.timeout||this.timeout);t.type==="broadcast"&&!(!((p=(f=(d=this.params)===null||d===void 0?void 0:d.config)===null||f===void 0?void 0:f.broadcast)===null||p===void 0)&&p.ack)&&c("ok"),m.receive("ok",()=>c("ok")),m.receive("error",()=>c("error")),m.receive("timeout",()=>c("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=Nt.leaving;const a=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Vs.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(l=>{r=new Bh(this,Vs.leave,{},t),r.receive("ok",()=>{a(),l("ok")}).receive("timeout",()=>{a(),l("timed out")}).receive("error",()=>{l("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{r?.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Nt.closed,this.bindings={}}async _fetchWithTimeout(t,a,r){const l=new AbortController,c=setTimeout(()=>l.abort(),r),d=await this.socket.fetch(t,Object.assign(Object.assign({},a),{signal:l.signal}));return clearTimeout(c),d}_push(t,a,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let l=new Bh(this,t,a,r);return this._canPush()?l.send():this._addToPushBuffer(l),l}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>D3){const a=this.pushBuffer.shift();a&&(a.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${a.event}`,a.payload))}}_onMessage(t,a,r){return a}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,a,r){var l,c;const d=t.toLocaleLowerCase(),{close:f,error:p,leave:m,join:y}=Vs;if(r&&[f,p,m,y].indexOf(d)>=0&&r!==this._joinRef())return;let v=this._onMessage(d,a,r);if(a&&!v)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(d)?(l=this.bindings.postgres_changes)===null||l===void 0||l.filter(b=>{var N,w,_;return((N=b.filter)===null||N===void 0?void 0:N.event)==="*"||((_=(w=b.filter)===null||w===void 0?void 0:w.event)===null||_===void 0?void 0:_.toLocaleLowerCase())===d}).map(b=>b.callback(v,r)):(c=this.bindings[d])===null||c===void 0||c.filter(b=>{var N,w,_,E,T,A;if(["broadcast","presence","postgres_changes"].includes(d))if("id"in b){const I=b.id,M=(N=b.filter)===null||N===void 0?void 0:N.event;return I&&((w=a.ids)===null||w===void 0?void 0:w.includes(I))&&(M==="*"||M?.toLocaleLowerCase()===((_=a.data)===null||_===void 0?void 0:_.type.toLocaleLowerCase()))}else{const I=(T=(E=b?.filter)===null||E===void 0?void 0:E.event)===null||T===void 0?void 0:T.toLocaleLowerCase();return I==="*"||I===((A=a?.event)===null||A===void 0?void 0:A.toLocaleLowerCase())}else return b.type.toLocaleLowerCase()===d}).map(b=>{if(typeof v=="object"&&"ids"in v){const N=v.data,{schema:w,table:_,commit_timestamp:E,type:T,errors:A}=N;v=Object.assign(Object.assign({},{schema:w,table:_,commit_timestamp:E,eventType:T,new:{},old:{},errors:A}),this._getPayloadRecords(N))}b.callback(v,r)})}_isClosed(){return this.state===Nt.closed}_isJoined(){return this.state===Nt.joined}_isJoining(){return this.state===Nt.joining}_isLeaving(){return this.state===Nt.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,a,r){const l=t.toLocaleLowerCase(),c={type:l,filter:a,callback:r};return this.bindings[l]?this.bindings[l].push(c):this.bindings[l]=[c],this}_off(t,a){const r=t.toLocaleLowerCase();return this.bindings[r]&&(this.bindings[r]=this.bindings[r].filter(l=>{var c;return!(((c=l.type)===null||c===void 0?void 0:c.toLocaleLowerCase())===r&&Tm.isEqual(l.filter,a))})),this}static isEqual(t,a){if(Object.keys(t).length!==Object.keys(a).length)return!1;for(const r in t)if(t[r]!==a[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(Vs.close,{},t)}_onError(t){this._on(Vs.error,{},a=>t(a))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Nt.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const a={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(a.new=sb(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(a.old=sb(t.columns,t.old_record)),a}}const Hh=()=>{},nu={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},q3=[1e3,2e3,5e3,1e4],B3=1e4,H3=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class $3{constructor(t,a){var r;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Ip,this.transport=null,this.heartbeatIntervalMs=nu.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Hh,this.ref=0,this.reconnectTimer=null,this.logger=Hh,this.conn=null,this.sendBuffer=[],this.serializer=new R3,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=l=>{let c;return l?c=l:typeof fetch>"u"?c=(...d)=>qa(async()=>{const{default:f}=await Promise.resolve().then(()=>_r);return{default:f}},void 0).then(({default:f})=>f(...d)).catch(f=>{throw new Error(`Failed to load @supabase/node-fetch: ${f.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):c=fetch,(...d)=>c(...d)},!(!((r=a?.params)===null||r===void 0)&&r.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=a.params.apikey,this.endPoint=`${t}/${zp.websocket}`,this.httpEndpoint=q2(t),this._initializeOptions(a),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(a?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=E3.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const a=t.message;throw a.includes("Node.js")?new Error(`${a}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${a}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:T3}))}disconnect(t,a){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const r=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(r),this._setConnectionState("disconnected")},t?this.conn.close(t,a??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const a=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),a}async removeAllChannels(){const t=await Promise.all(this.channels.map(a=>a.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,a,r){this.logger(t,a,r)}connectionState(){switch(this.conn&&this.conn.readyState){case tl.connecting:return ur.Connecting;case tl.open:return ur.Open;case tl.closing:return ur.Closing;default:return ur.Closed}}isConnected(){return this.connectionState()===ur.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,a={config:{}}){const r=`realtime:${t}`,l=this.getChannels().find(c=>c.topic===r);if(l)return l;{const c=new Tm(`realtime:${t}`,a,this);return this.channels.push(c),c}}push(t){const{topic:a,event:r,payload:l,ref:c}=t,d=()=>{this.encode(t,f=>{var p;(p=this.conn)===null||p===void 0||p.send(f)})};this.log("push",`${a} ${r} (${c})`,l),this.isConnected()?d():this.sendBuffer.push(d)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(a){this.log("error","error in heartbeat callback",a)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(a){this.log("error","error in heartbeat callback",a)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(O3,"heartbeat timeout"),setTimeout(()=>{var a;this.isConnected()||(a=this.reconnectTimer)===null||a===void 0||a.scheduleTimeout()},nu.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(a){this.log("error","error in heartbeat callback",a)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let a=this.channels.find(r=>r.topic===t&&(r._isJoined()||r._isJoining()));a&&(this.log("transport",`leaving duplicate topic "${t}"`),a.unsubscribe())}_remove(t){this.channels=this.channels.filter(a=>a.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,a=>{if(a.topic==="phoenix"&&a.event==="phx_reply")try{this.heartbeatCallback(a.payload.status==="ok"?"ok":"error")}catch(m){this.log("error","error in heartbeat callback",m)}a.ref&&a.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:r,event:l,payload:c,ref:d}=a,f=d?`(${d})`:"",p=c.status||"";this.log("receive",`${p} ${r} ${l} ${f}`.trim(),c),this.channels.filter(m=>m._isMember(r)).forEach(m=>m._trigger(l,c,d)),this._triggerStateCallbacks("message",a)})}_clearTimer(t){var a;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((a=this.reconnectTimer)===null||a===void 0||a.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=a=>{this.log("worker","worker error",a.message),this.workerRef.terminate()},this.workerRef.onmessage=a=>{a.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(t){var a;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(a=this.reconnectTimer)===null||a===void 0||a.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t)}_triggerChanError(){this.channels.forEach(t=>t._trigger(Vs.error))}_appendParams(t,a){if(Object.keys(a).length===0)return t;const r=t.match(/\?/)?"&":"?",l=new URLSearchParams(a);return`${t}${r}${l}`}_workerObjectUrl(t){let a;if(t)a=t;else{const r=new Blob([H3],{type:"application/javascript"});a=URL.createObjectURL(r)}return a}_setConnectionState(t,a=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=a)}async _performAuth(t=null){let a;t?a=t:this.accessToken?a=await this.accessToken():a=this.accessTokenValue,this.accessTokenValue!=a&&(this.accessTokenValue=a,this.channels.forEach(r=>{const l={access_token:a,version:C3};a&&r.updateJoinPayload(l),r.joinedOnce&&r._isJoined()&&r._push(Vs.access_token,{access_token:a})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this.setAuth().catch(a=>{this.log("error",`error setting auth in ${t}`,a)})}_triggerStateCallbacks(t,a){try{this.stateChangeCallbacks[t].forEach(r=>{try{r(a)}catch(l){this.log("error",`error in ${t} callback`,l)}})}catch(r){this.log("error",`error triggering ${t} callbacks`,r)}}_setupReconnectionTimer(){this.reconnectTimer=new I2(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},nu.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var a,r,l,c,d,f,p,m,y;if(this.transport=(a=t?.transport)!==null&&a!==void 0?a:null,this.timeout=(r=t?.timeout)!==null&&r!==void 0?r:Ip,this.heartbeatIntervalMs=(l=t?.heartbeatIntervalMs)!==null&&l!==void 0?l:nu.HEARTBEAT_INTERVAL,this.worker=(c=t?.worker)!==null&&c!==void 0?c:!1,this.accessToken=(d=t?.accessToken)!==null&&d!==void 0?d:null,this.heartbeatCallback=(f=t?.heartbeatCallback)!==null&&f!==void 0?f:Hh,t?.params&&(this.params=t.params),t?.logger&&(this.logger=t.logger),(t?.logLevel||t?.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(p=t?.reconnectAfterMs)!==null&&p!==void 0?p:(x=>q3[x-1]||B3),this.encode=(m=t?.encode)!==null&&m!==void 0?m:((x,v)=>v(JSON.stringify(x))),this.decode=(y=t?.decode)!==null&&y!==void 0?y:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t?.workerUrl}}}class Om extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function nt(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class F3 extends Om{constructor(t,a,r){super(t),this.name="StorageApiError",this.status=a,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class Bp extends Om{constructor(t,a){super(t),this.name="StorageUnknownError",this.originalError=a}}const Dm=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...a)=>qa(async()=>{const{default:r}=await Promise.resolve().then(()=>_r);return{default:r}},void 0).then(({default:r})=>r(...a)):t=fetch,(...a)=>t(...a)},G3=()=>ve(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield qa(()=>Promise.resolve().then(()=>_r),void 0)).Response:Response}),Hp=e=>{if(Array.isArray(e))return e.map(a=>Hp(a));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([a,r])=>{const l=a.replace(/([-_][a-z])/gi,c=>c.toUpperCase().replace(/[-_]/g,""));t[l]=Hp(r)}),t},V3=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},$h=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),Q3=(e,t,a)=>ve(void 0,void 0,void 0,function*(){const r=yield G3();e instanceof r&&!a?.noResolveJson?e.json().then(l=>{const c=e.status||500,d=l?.statusCode||c+"";t(new F3($h(l),c,d))}).catch(l=>{t(new Bp($h(l),l))}):t(new Bp($h(e),e))}),Y3=(e,t,a,r)=>{const l={method:e,headers:t?.headers||{}};return e==="GET"||!r?l:(V3(r)?(l.headers=Object.assign({"Content-Type":"application/json"},t?.headers),l.body=JSON.stringify(r)):l.body=r,t?.duplex&&(l.duplex=t.duplex),Object.assign(Object.assign({},l),a))};function Nl(e,t,a,r,l,c){return ve(this,void 0,void 0,function*(){return new Promise((d,f)=>{e(a,Y3(t,r,l,c)).then(p=>{if(!p.ok)throw p;return r?.noResolveJson?p:p.json()}).then(p=>d(p)).catch(p=>Q3(p,f,r))})})}function fl(e,t,a,r){return ve(this,void 0,void 0,function*(){return Nl(e,"GET",t,a,r)})}function Gs(e,t,a,r,l){return ve(this,void 0,void 0,function*(){return Nl(e,"POST",t,r,l,a)})}function $p(e,t,a,r,l){return ve(this,void 0,void 0,function*(){return Nl(e,"PUT",t,r,l,a)})}function K3(e,t,a,r){return ve(this,void 0,void 0,function*(){return Nl(e,"HEAD",t,Object.assign(Object.assign({},a),{noResolveJson:!0}),r)})}function Rm(e,t,a,r,l){return ve(this,void 0,void 0,function*(){return Nl(e,"DELETE",t,r,l,a)})}class W3{constructor(t,a){this.downloadFn=t,this.shouldThrowOnError=a}then(t,a){return this.execute().then(t,a)}execute(){return ve(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(nt(t))return{data:null,error:t};throw t}})}}var B2;class X3{constructor(t,a){this.downloadFn=t,this.shouldThrowOnError=a,this[B2]="BlobDownloadBuilder",this.promise=null}asStream(){return new W3(this.downloadFn,this.shouldThrowOnError)}then(t,a){return this.getPromise().then(t,a)}catch(t){return this.getPromise().catch(t)}finally(t){return this.getPromise().finally(t)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}execute(){return ve(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(nt(t))return{data:null,error:t};throw t}})}}B2=Symbol.toStringTag;const J3={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},rb={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class Z3{constructor(t,a={},r,l){this.shouldThrowOnError=!1,this.url=t,this.headers=a,this.bucketId=r,this.fetch=Dm(l)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(t,a,r,l){return ve(this,void 0,void 0,function*(){try{let c;const d=Object.assign(Object.assign({},rb),l);let f=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(d.upsert)});const p=d.metadata;typeof Blob<"u"&&r instanceof Blob?(c=new FormData,c.append("cacheControl",d.cacheControl),p&&c.append("metadata",this.encodeMetadata(p)),c.append("",r)):typeof FormData<"u"&&r instanceof FormData?(c=r,c.append("cacheControl",d.cacheControl),p&&c.append("metadata",this.encodeMetadata(p))):(c=r,f["cache-control"]=`max-age=${d.cacheControl}`,f["content-type"]=d.contentType,p&&(f["x-metadata"]=this.toBase64(this.encodeMetadata(p)))),l?.headers&&(f=Object.assign(Object.assign({},f),l.headers));const m=this._removeEmptyFolders(a),y=this._getFinalPath(m),x=yield(t=="PUT"?$p:Gs)(this.fetch,`${this.url}/object/${y}`,c,Object.assign({headers:f},d?.duplex?{duplex:d.duplex}:{}));return{data:{path:m,id:x.Id,fullPath:x.Key},error:null}}catch(c){if(this.shouldThrowOnError)throw c;if(nt(c))return{data:null,error:c};throw c}})}upload(t,a,r){return ve(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,a,r)})}uploadToSignedUrl(t,a,r,l){return ve(this,void 0,void 0,function*(){const c=this._removeEmptyFolders(t),d=this._getFinalPath(c),f=new URL(this.url+`/object/upload/sign/${d}`);f.searchParams.set("token",a);try{let p;const m=Object.assign({upsert:rb.upsert},l),y=Object.assign(Object.assign({},this.headers),{"x-upsert":String(m.upsert)});typeof Blob<"u"&&r instanceof Blob?(p=new FormData,p.append("cacheControl",m.cacheControl),p.append("",r)):typeof FormData<"u"&&r instanceof FormData?(p=r,p.append("cacheControl",m.cacheControl)):(p=r,y["cache-control"]=`max-age=${m.cacheControl}`,y["content-type"]=m.contentType);const x=yield $p(this.fetch,f.toString(),p,{headers:y});return{data:{path:c,fullPath:x.Key},error:null}}catch(p){if(this.shouldThrowOnError)throw p;if(nt(p))return{data:null,error:p};throw p}})}createSignedUploadUrl(t,a){return ve(this,void 0,void 0,function*(){try{let r=this._getFinalPath(t);const l=Object.assign({},this.headers);a?.upsert&&(l["x-upsert"]="true");const c=yield Gs(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:l}),d=new URL(this.url+c.url),f=d.searchParams.get("token");if(!f)throw new Om("No token returned by API");return{data:{signedUrl:d.toString(),path:t,token:f},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(nt(r))return{data:null,error:r};throw r}})}update(t,a,r){return ve(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,a,r)})}move(t,a,r){return ve(this,void 0,void 0,function*(){try{return{data:yield Gs(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:a,destinationBucket:r?.destinationBucket},{headers:this.headers}),error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(nt(l))return{data:null,error:l};throw l}})}copy(t,a,r){return ve(this,void 0,void 0,function*(){try{return{data:{path:(yield Gs(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:a,destinationBucket:r?.destinationBucket},{headers:this.headers})).Key},error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(nt(l))return{data:null,error:l};throw l}})}createSignedUrl(t,a,r){return ve(this,void 0,void 0,function*(){try{let l=this._getFinalPath(t),c=yield Gs(this.fetch,`${this.url}/object/sign/${l}`,Object.assign({expiresIn:a},r?.transform?{transform:r.transform}:{}),{headers:this.headers});const d=r?.download?`&download=${r.download===!0?"":r.download}`:"";return c={signedUrl:encodeURI(`${this.url}${c.signedURL}${d}`)},{data:c,error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(nt(l))return{data:null,error:l};throw l}})}createSignedUrls(t,a,r){return ve(this,void 0,void 0,function*(){try{const l=yield Gs(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:a,paths:t},{headers:this.headers}),c=r?.download?`&download=${r.download===!0?"":r.download}`:"";return{data:l.map(d=>Object.assign(Object.assign({},d),{signedUrl:d.signedURL?encodeURI(`${this.url}${d.signedURL}${c}`):null})),error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(nt(l))return{data:null,error:l};throw l}})}download(t,a){const l=typeof a?.transform<"u"?"render/image/authenticated":"object",c=this.transformOptsToQueryString(a?.transform||{}),d=c?`?${c}`:"",f=this._getFinalPath(t),p=()=>fl(this.fetch,`${this.url}/${l}/${f}${d}`,{headers:this.headers,noResolveJson:!0});return new X3(p,this.shouldThrowOnError)}info(t){return ve(this,void 0,void 0,function*(){const a=this._getFinalPath(t);try{const r=yield fl(this.fetch,`${this.url}/object/info/${a}`,{headers:this.headers});return{data:Hp(r),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(nt(r))return{data:null,error:r};throw r}})}exists(t){return ve(this,void 0,void 0,function*(){const a=this._getFinalPath(t);try{return yield K3(this.fetch,`${this.url}/object/${a}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(nt(r)&&r instanceof Bp){const l=r.originalError;if([400,404].includes(l?.status))return{data:!1,error:r}}throw r}})}getPublicUrl(t,a){const r=this._getFinalPath(t),l=[],c=a?.download?`download=${a.download===!0?"":a.download}`:"";c!==""&&l.push(c);const f=typeof a?.transform<"u"?"render/image":"object",p=this.transformOptsToQueryString(a?.transform||{});p!==""&&l.push(p);let m=l.join("&");return m!==""&&(m=`?${m}`),{data:{publicUrl:encodeURI(`${this.url}/${f}/public/${r}${m}`)}}}remove(t){return ve(this,void 0,void 0,function*(){try{return{data:yield Rm(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(nt(a))return{data:null,error:a};throw a}})}list(t,a,r){return ve(this,void 0,void 0,function*(){try{const l=Object.assign(Object.assign(Object.assign({},J3),a),{prefix:t||""});return{data:yield Gs(this.fetch,`${this.url}/object/list/${this.bucketId}`,l,{headers:this.headers},r),error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(nt(l))return{data:null,error:l};throw l}})}listV2(t,a){return ve(this,void 0,void 0,function*(){try{const r=Object.assign({},t);return{data:yield Gs(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,r,{headers:this.headers},a),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(nt(r))return{data:null,error:r};throw r}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const a=[];return t.width&&a.push(`width=${t.width}`),t.height&&a.push(`height=${t.height}`),t.resize&&a.push(`resize=${t.resize}`),t.format&&a.push(`format=${t.format}`),t.quality&&a.push(`quality=${t.quality}`),a.join("&")}}const H2="2.76.1",$2={"X-Client-Info":`storage-js/${H2}`};class eO{constructor(t,a={},r,l){this.shouldThrowOnError=!1;const c=new URL(t);l?.useNewHostname&&/supabase\.(co|in|red)$/.test(c.hostname)&&!c.hostname.includes("storage.supabase.")&&(c.hostname=c.hostname.replace("supabase.","storage.supabase.")),this.url=c.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},$2),a),this.fetch=Dm(r)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(){return ve(this,void 0,void 0,function*(){try{return{data:yield fl(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(nt(t))return{data:null,error:t};throw t}})}getBucket(t){return ve(this,void 0,void 0,function*(){try{return{data:yield fl(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(nt(a))return{data:null,error:a};throw a}})}createBucket(t){return ve(this,arguments,void 0,function*(a,r={public:!1}){try{return{data:yield Gs(this.fetch,`${this.url}/bucket`,{id:a,name:a,type:r.type,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(nt(l))return{data:null,error:l};throw l}})}updateBucket(t,a){return ve(this,void 0,void 0,function*(){try{return{data:yield $p(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:a.public,file_size_limit:a.fileSizeLimit,allowed_mime_types:a.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(nt(r))return{data:null,error:r};throw r}})}emptyBucket(t){return ve(this,void 0,void 0,function*(){try{return{data:yield Gs(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(nt(a))return{data:null,error:a};throw a}})}deleteBucket(t){return ve(this,void 0,void 0,function*(){try{return{data:yield Rm(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(nt(a))return{data:null,error:a};throw a}})}}class tO{constructor(t,a={},r){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},$2),a),this.fetch=Dm(r)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(t){return ve(this,void 0,void 0,function*(){try{return{data:yield Gs(this.fetch,`${this.url}/bucket`,{name:t},{headers:this.headers}),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(nt(a))return{data:null,error:a};throw a}})}listBuckets(t){return ve(this,void 0,void 0,function*(){try{const a=new URLSearchParams;t?.limit!==void 0&&a.set("limit",t.limit.toString()),t?.offset!==void 0&&a.set("offset",t.offset.toString()),t?.sortColumn&&a.set("sortColumn",t.sortColumn),t?.sortOrder&&a.set("sortOrder",t.sortOrder),t?.search&&a.set("search",t.search);const r=a.toString(),l=r?`${this.url}/bucket?${r}`:`${this.url}/bucket`,c=yield fl(this.fetch,l,{headers:this.headers});return{data:Array.isArray(c)?c.filter(f=>f.type==="ANALYTICS"):[],error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(nt(a))return{data:null,error:a};throw a}})}deleteBucket(t){return ve(this,void 0,void 0,function*(){try{return{data:yield Rm(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(nt(a))return{data:null,error:a};throw a}})}}const Pm={"X-Client-Info":`storage-js/${H2}`,"Content-Type":"application/json"};class F2 extends Error{constructor(t){super(t),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}}function js(e){return typeof e=="object"&&e!==null&&"__isStorageVectorsError"in e}class Fh extends F2{constructor(t,a,r){super(t),this.name="StorageVectorsApiError",this.status=a,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class sO extends F2{constructor(t,a){super(t),this.name="StorageVectorsUnknownError",this.originalError=a}}var ib;(function(e){e.InternalError="InternalError",e.S3VectorConflictException="S3VectorConflictException",e.S3VectorNotFoundException="S3VectorNotFoundException",e.S3VectorBucketNotEmpty="S3VectorBucketNotEmpty",e.S3VectorMaxBucketsExceeded="S3VectorMaxBucketsExceeded",e.S3VectorMaxIndexesExceeded="S3VectorMaxIndexesExceeded"})(ib||(ib={}));const Mm=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...a)=>qa(async()=>{const{default:r}=await Promise.resolve().then(()=>_r);return{default:r}},void 0).then(({default:r})=>r(...a)):t=fetch,(...a)=>t(...a)},aO=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},ob=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),nO=(e,t,a)=>ve(void 0,void 0,void 0,function*(){if(e&&typeof e=="object"&&"status"in e&&"ok"in e&&typeof e.status=="number"&&!a?.noResolveJson){const l=e.status||500,c=e;if(typeof c.json=="function")c.json().then(d=>{const f=d?.statusCode||d?.code||l+"";t(new Fh(ob(d),l,f))}).catch(()=>{const d=l+"",f=c.statusText||`HTTP ${l} error`;t(new Fh(f,l,d))});else{const d=l+"",f=c.statusText||`HTTP ${l} error`;t(new Fh(f,l,d))}}else t(new sO(ob(e),e))}),rO=(e,t,a,r)=>{const l={method:e,headers:t?.headers||{}};return r?(aO(r)?(l.headers=Object.assign({"Content-Type":"application/json"},t?.headers),l.body=JSON.stringify(r)):l.body=r,Object.assign(Object.assign({},l),a)):l};function iO(e,t,a,r,l,c){return ve(this,void 0,void 0,function*(){return new Promise((d,f)=>{e(a,rO(t,r,l,c)).then(p=>{if(!p.ok)throw p;if(r?.noResolveJson)return p;const m=p.headers.get("content-type");return!m||!m.includes("application/json")?{}:p.json()}).then(p=>d(p)).catch(p=>nO(p,f,r))})})}function Ss(e,t,a,r,l){return ve(this,void 0,void 0,function*(){return iO(e,"POST",t,r,l,a)})}class oO{constructor(t,a={},r){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Pm),a),this.fetch=Mm(r)}throwOnError(){return this.shouldThrowOnError=!0,this}createIndex(t){return ve(this,void 0,void 0,function*(){try{return{data:(yield Ss(this.fetch,`${this.url}/CreateIndex`,t,{headers:this.headers}))||{},error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(js(a))return{data:null,error:a};throw a}})}getIndex(t,a){return ve(this,void 0,void 0,function*(){try{return{data:yield Ss(this.fetch,`${this.url}/GetIndex`,{vectorBucketName:t,indexName:a},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(js(r))return{data:null,error:r};throw r}})}listIndexes(t){return ve(this,void 0,void 0,function*(){try{return{data:yield Ss(this.fetch,`${this.url}/ListIndexes`,t,{headers:this.headers}),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(js(a))return{data:null,error:a};throw a}})}deleteIndex(t,a){return ve(this,void 0,void 0,function*(){try{return{data:(yield Ss(this.fetch,`${this.url}/DeleteIndex`,{vectorBucketName:t,indexName:a},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(js(r))return{data:null,error:r};throw r}})}}class lO{constructor(t,a={},r){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Pm),a),this.fetch=Mm(r)}throwOnError(){return this.shouldThrowOnError=!0,this}putVectors(t){return ve(this,void 0,void 0,function*(){try{if(t.vectors.length<1||t.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:(yield Ss(this.fetch,`${this.url}/PutVectors`,t,{headers:this.headers}))||{},error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(js(a))return{data:null,error:a};throw a}})}getVectors(t){return ve(this,void 0,void 0,function*(){try{return{data:yield Ss(this.fetch,`${this.url}/GetVectors`,t,{headers:this.headers}),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(js(a))return{data:null,error:a};throw a}})}listVectors(t){return ve(this,void 0,void 0,function*(){try{if(t.segmentCount!==void 0){if(t.segmentCount<1||t.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(t.segmentIndex!==void 0&&(t.segmentIndex<0||t.segmentIndex>=t.segmentCount))throw new Error(`segmentIndex must be between 0 and ${t.segmentCount-1}`)}return{data:yield Ss(this.fetch,`${this.url}/ListVectors`,t,{headers:this.headers}),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(js(a))return{data:null,error:a};throw a}})}queryVectors(t){return ve(this,void 0,void 0,function*(){try{return{data:yield Ss(this.fetch,`${this.url}/QueryVectors`,t,{headers:this.headers}),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(js(a))return{data:null,error:a};throw a}})}deleteVectors(t){return ve(this,void 0,void 0,function*(){try{if(t.keys.length<1||t.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:(yield Ss(this.fetch,`${this.url}/DeleteVectors`,t,{headers:this.headers}))||{},error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(js(a))return{data:null,error:a};throw a}})}}class cO{constructor(t,a={},r){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Pm),a),this.fetch=Mm(r)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(t){return ve(this,void 0,void 0,function*(){try{return{data:(yield Ss(this.fetch,`${this.url}/CreateVectorBucket`,{vectorBucketName:t},{headers:this.headers}))||{},error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(js(a))return{data:null,error:a};throw a}})}getBucket(t){return ve(this,void 0,void 0,function*(){try{return{data:yield Ss(this.fetch,`${this.url}/GetVectorBucket`,{vectorBucketName:t},{headers:this.headers}),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(js(a))return{data:null,error:a};throw a}})}listBuckets(){return ve(this,arguments,void 0,function*(t={}){try{return{data:yield Ss(this.fetch,`${this.url}/ListVectorBuckets`,t,{headers:this.headers}),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(js(a))return{data:null,error:a};throw a}})}deleteBucket(t){return ve(this,void 0,void 0,function*(){try{return{data:(yield Ss(this.fetch,`${this.url}/DeleteVectorBucket`,{vectorBucketName:t},{headers:this.headers}))||{},error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(js(a))return{data:null,error:a};throw a}})}}class uO extends cO{constructor(t,a={}){super(t,a.headers||{},a.fetch)}from(t){return new dO(this.url,this.headers,t,this.fetch)}}class dO extends oO{constructor(t,a,r,l){super(t,a,l),this.vectorBucketName=r}createIndex(t){const a=Object.create(null,{createIndex:{get:()=>super.createIndex}});return ve(this,void 0,void 0,function*(){return a.createIndex.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName}))})}listIndexes(){const t=Object.create(null,{listIndexes:{get:()=>super.listIndexes}});return ve(this,arguments,void 0,function*(a={}){return t.listIndexes.call(this,Object.assign(Object.assign({},a),{vectorBucketName:this.vectorBucketName}))})}getIndex(t){const a=Object.create(null,{getIndex:{get:()=>super.getIndex}});return ve(this,void 0,void 0,function*(){return a.getIndex.call(this,this.vectorBucketName,t)})}deleteIndex(t){const a=Object.create(null,{deleteIndex:{get:()=>super.deleteIndex}});return ve(this,void 0,void 0,function*(){return a.deleteIndex.call(this,this.vectorBucketName,t)})}index(t){return new fO(this.url,this.headers,this.vectorBucketName,t,this.fetch)}}class fO extends lO{constructor(t,a,r,l,c){super(t,a,c),this.vectorBucketName=r,this.indexName=l}putVectors(t){const a=Object.create(null,{putVectors:{get:()=>super.putVectors}});return ve(this,void 0,void 0,function*(){return a.putVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}getVectors(t){const a=Object.create(null,{getVectors:{get:()=>super.getVectors}});return ve(this,void 0,void 0,function*(){return a.getVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}listVectors(){const t=Object.create(null,{listVectors:{get:()=>super.listVectors}});return ve(this,arguments,void 0,function*(a={}){return t.listVectors.call(this,Object.assign(Object.assign({},a),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}queryVectors(t){const a=Object.create(null,{queryVectors:{get:()=>super.queryVectors}});return ve(this,void 0,void 0,function*(){return a.queryVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}deleteVectors(t){const a=Object.create(null,{deleteVectors:{get:()=>super.deleteVectors}});return ve(this,void 0,void 0,function*(){return a.deleteVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}}class hO extends eO{constructor(t,a={},r,l){super(t,a,r,l)}from(t){return new Z3(this.url,this.headers,t,this.fetch)}get vectors(){return new uO(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new tO(this.url+"/iceberg",this.headers,this.fetch)}}const pO="2.76.1";let Xo="";typeof Deno<"u"?Xo="deno":typeof document<"u"?Xo="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Xo="react-native":Xo="node";const mO={"X-Client-Info":`supabase-js-${Xo}/${pO}`},gO={headers:mO},xO={schema:"public"},yO={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},vO={},bO=e=>{let t;return e?t=e:typeof fetch>"u"?t=D2:t=fetch,(...a)=>t(...a)},wO=()=>typeof Headers>"u"?R2:Headers,jO=(e,t,a)=>{const r=bO(a),l=wO();return async(c,d)=>{var f;const p=(f=await t())!==null&&f!==void 0?f:e;let m=new l(d?.headers);return m.has("apikey")||m.set("apikey",e),m.has("Authorization")||m.set("Authorization",`Bearer ${p}`),r(c,Object.assign(Object.assign({},d),{headers:m}))}};function SO(e){return e.endsWith("/")?e:e+"/"}function _O(e,t){var a,r;const{db:l,auth:c,realtime:d,global:f}=e,{db:p,auth:m,realtime:y,global:x}=t,v={db:Object.assign(Object.assign({},p),l),auth:Object.assign(Object.assign({},m),c),realtime:Object.assign(Object.assign({},y),d),storage:{},global:Object.assign(Object.assign(Object.assign({},x),f),{headers:Object.assign(Object.assign({},(a=x?.headers)!==null&&a!==void 0?a:{}),(r=f?.headers)!==null&&r!==void 0?r:{})}),accessToken:async()=>""};return e.accessToken?v.accessToken=e.accessToken:delete v.accessToken,v}function NO(e){const t=e?.trim();if(!t)throw new Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(SO(t))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const G2="2.76.1",ki=30*1e3,Fp=3,Gh=Fp*ki,kO="http://localhost:9999",EO="supabase.auth.token",AO={"X-Client-Info":`gotrue-js/${G2}`},Gp="X-Supabase-Api-Version",V2={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},CO=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,TO=600*1e3;class hl extends Error{constructor(t,a,r){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=a,this.code=r}}function je(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class OO extends hl{constructor(t,a,r){super(t,a,r),this.name="AuthApiError",this.status=a,this.code=r}}function DO(e){return je(e)&&e.name==="AuthApiError"}class dr extends hl{constructor(t,a){super(t),this.name="AuthUnknownError",this.originalError=a}}class Rn extends hl{constructor(t,a,r,l){super(t,r,l),this.name=a,this.status=r}}class yn extends Rn{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function RO(e){return je(e)&&e.name==="AuthSessionMissingError"}class xi extends Rn{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class ru extends Rn{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class iu extends Rn{constructor(t,a=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=a}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function PO(e){return je(e)&&e.name==="AuthImplicitGrantRedirectError"}class lb extends Rn{constructor(t,a=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=a}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Vp extends Rn{constructor(t,a){super(t,"AuthRetryableFetchError",a,void 0)}}function Vh(e){return je(e)&&e.name==="AuthRetryableFetchError"}class cb extends Rn{constructor(t,a,r){super(t,"AuthWeakPasswordError",a,"weak_password"),this.reasons=r}}class Qp extends Rn{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const Tu="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),ub=` 	
\r=`.split(""),MO=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<ub.length;t+=1)e[ub[t].charCodeAt(0)]=-2;for(let t=0;t<Tu.length;t+=1)e[Tu[t].charCodeAt(0)]=t;return e})();function db(e,t,a){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const r=t.queue>>t.queuedBits-6&63;a(Tu[r]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const r=t.queue>>t.queuedBits-6&63;a(Tu[r]),t.queuedBits-=6}}function Q2(e,t,a){const r=MO[e];if(r>-1)for(t.queue=t.queue<<6|r,t.queuedBits+=6;t.queuedBits>=8;)a(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function fb(e){const t=[],a=d=>{t.push(String.fromCodePoint(d))},r={utf8seq:0,codepoint:0},l={queue:0,queuedBits:0},c=d=>{IO(d,r,a)};for(let d=0;d<e.length;d+=1)Q2(e.charCodeAt(d),l,c);return t.join("")}function LO(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function UO(e,t){for(let a=0;a<e.length;a+=1){let r=e.charCodeAt(a);if(r>55295&&r<=56319){const l=(r-55296)*1024&65535;r=(e.charCodeAt(a+1)-56320&65535|l)+65536,a+=1}LO(r,t)}}function IO(e,t,a){if(t.utf8seq===0){if(e<=127){a(e);return}for(let r=1;r<6;r+=1)if((e>>7-r&1)===0){t.utf8seq=r;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&a(t.codepoint)}}function Oi(e){const t=[],a={queue:0,queuedBits:0},r=l=>{t.push(l)};for(let l=0;l<e.length;l+=1)Q2(e.charCodeAt(l),a,r);return new Uint8Array(t)}function zO(e){const t=[];return UO(e,a=>t.push(a)),new Uint8Array(t)}function pr(e){const t=[],a={queue:0,queuedBits:0},r=l=>{t.push(l)};return e.forEach(l=>db(l,a,r)),db(null,a,r),t.join("")}function qO(e){return Math.round(Date.now()/1e3)+e}function BO(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const vs=()=>typeof window<"u"&&typeof document<"u",nr={tested:!1,writable:!1},Y2=()=>{if(!vs())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(nr.tested)return nr.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),nr.tested=!0,nr.writable=!0}catch{nr.tested=!0,nr.writable=!1}return nr.writable};function HO(e){const t={},a=new URL(e);if(a.hash&&a.hash[0]==="#")try{new URLSearchParams(a.hash.substring(1)).forEach((l,c)=>{t[c]=l})}catch{}return a.searchParams.forEach((r,l)=>{t[l]=r}),t}const K2=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...a)=>qa(async()=>{const{default:r}=await Promise.resolve().then(()=>_r);return{default:r}},void 0).then(({default:r})=>r(...a)):t=fetch,(...a)=>t(...a)},$O=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",Ei=async(e,t,a)=>{await e.setItem(t,JSON.stringify(a))},rr=async(e,t)=>{const a=await e.getItem(t);if(!a)return null;try{return JSON.parse(a)}catch{return a}},gn=async(e,t)=>{await e.removeItem(t)};class sd{constructor(){this.promise=new sd.promiseConstructor((t,a)=>{this.resolve=t,this.reject=a})}}sd.promiseConstructor=Promise;function Qh(e){const t=e.split(".");if(t.length!==3)throw new Qp("Invalid JWT structure");for(let r=0;r<t.length;r++)if(!CO.test(t[r]))throw new Qp("JWT not in base64url format");return{header:JSON.parse(fb(t[0])),payload:JSON.parse(fb(t[1])),signature:Oi(t[2]),raw:{header:t[0],payload:t[1]}}}async function FO(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function GO(e,t){return new Promise((r,l)=>{(async()=>{for(let c=0;c<1/0;c++)try{const d=await e(c);if(!t(c,null,d)){r(d);return}}catch(d){if(!t(c,d)){l(d);return}}})()})}function VO(e){return("0"+e.toString(16)).substr(-2)}function QO(){const t=new Uint32Array(56);if(typeof crypto>"u"){const a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=a.length;let l="";for(let c=0;c<56;c++)l+=a.charAt(Math.floor(Math.random()*r));return l}return crypto.getRandomValues(t),Array.from(t,VO).join("")}async function YO(e){const a=new TextEncoder().encode(e),r=await crypto.subtle.digest("SHA-256",a),l=new Uint8Array(r);return Array.from(l).map(c=>String.fromCharCode(c)).join("")}async function KO(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const a=await YO(e);return btoa(a).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function yi(e,t,a=!1){const r=QO();let l=r;a&&(l+="/PASSWORD_RECOVERY"),await Ei(e,`${t}-code-verifier`,l);const c=await KO(r);return[c,r===c?"plain":"s256"]}const WO=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function XO(e){const t=e.headers.get(Gp);if(!t||!t.match(WO))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function JO(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function ZO(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const eD=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function vi(e){if(!eD.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Yh(){const e={};return new Proxy(e,{get:(t,a)=>{if(a==="__isUserNotAvailableProxy")return!0;if(typeof a=="symbol"){const r=a.toString();if(r==="Symbol(Symbol.toPrimitive)"||r==="Symbol(Symbol.toStringTag)"||r==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${a}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,a)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${a}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,a)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${a}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function hb(e){return JSON.parse(JSON.stringify(e))}const or=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),tD=[502,503,504];async function pb(e){var t;if(!$O(e))throw new Vp(or(e),0);if(tD.includes(e.status))throw new Vp(or(e),e.status);let a;try{a=await e.json()}catch(c){throw new dr(or(c),c)}let r;const l=XO(e);if(l&&l.getTime()>=V2["2024-01-01"].timestamp&&typeof a=="object"&&a&&typeof a.code=="string"?r=a.code:typeof a=="object"&&a&&typeof a.error_code=="string"&&(r=a.error_code),r){if(r==="weak_password")throw new cb(or(a),e.status,((t=a.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(r==="session_not_found")throw new yn}else if(typeof a=="object"&&a&&typeof a.weak_password=="object"&&a.weak_password&&Array.isArray(a.weak_password.reasons)&&a.weak_password.reasons.length&&a.weak_password.reasons.reduce((c,d)=>c&&typeof d=="string",!0))throw new cb(or(a),e.status,a.weak_password.reasons);throw new OO(or(a),e.status||500,r)}const sD=(e,t,a,r)=>{const l={method:e,headers:t?.headers||{}};return e==="GET"?l:(l.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t?.headers),l.body=JSON.stringify(r),Object.assign(Object.assign({},l),a))};async function ke(e,t,a,r){var l;const c=Object.assign({},r?.headers);c[Gp]||(c[Gp]=V2["2024-01-01"].name),r?.jwt&&(c.Authorization=`Bearer ${r.jwt}`);const d=(l=r?.query)!==null&&l!==void 0?l:{};r?.redirectTo&&(d.redirect_to=r.redirectTo);const f=Object.keys(d).length?"?"+new URLSearchParams(d).toString():"",p=await aD(e,t,a+f,{headers:c,noResolveJson:r?.noResolveJson},{},r?.body);return r?.xform?r?.xform(p):{data:Object.assign({},p),error:null}}async function aD(e,t,a,r,l,c){const d=sD(t,r,l,c);let f;try{f=await e(a,Object.assign({},d))}catch(p){throw console.error(p),new Vp(or(p),0)}if(f.ok||await pb(f),r?.noResolveJson)return f;try{return await f.json()}catch(p){await pb(p)}}function Fs(e){var t;let a=null;iD(e)&&(a=Object.assign({},e),e.expires_at||(a.expires_at=qO(e.expires_in)));const r=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:a,user:r},error:null}}function mb(e){const t=Fs(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((a,r)=>a&&typeof r=="string",!0)&&(t.data.weak_password=e.weak_password),t}function bn(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function nD(e){return{data:e,error:null}}function rD(e){const{action_link:t,email_otp:a,hashed_token:r,redirect_to:l,verification_type:c}=e,d=Dn(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),f={action_link:t,email_otp:a,hashed_token:r,redirect_to:l,verification_type:c},p=Object.assign({},d);return{data:{properties:f,user:p},error:null}}function gb(e){return e}function iD(e){return e.access_token&&e.refresh_token&&e.expires_in}const Kh=["global","local","others"];class oD{constructor({url:t="",headers:a={},fetch:r}){this.url=t,this.headers=a,this.fetch=K2(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(t,a=Kh[0]){if(Kh.indexOf(a)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Kh.join(", ")}`);try{return await ke(this.fetch,"POST",`${this.url}/logout?scope=${a}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(r){if(je(r))return{data:null,error:r};throw r}}async inviteUserByEmail(t,a={}){try{return await ke(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:a.data},headers:this.headers,redirectTo:a.redirectTo,xform:bn})}catch(r){if(je(r))return{data:{user:null},error:r};throw r}}async generateLink(t){try{const{options:a}=t,r=Dn(t,["options"]),l=Object.assign(Object.assign({},r),a);return"newEmail"in r&&(l.new_email=r?.newEmail,delete l.newEmail),await ke(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:l,headers:this.headers,xform:rD,redirectTo:a?.redirectTo})}catch(a){if(je(a))return{data:{properties:null,user:null},error:a};throw a}}async createUser(t){try{return await ke(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:bn})}catch(a){if(je(a))return{data:{user:null},error:a};throw a}}async listUsers(t){var a,r,l,c,d,f,p;try{const m={nextPage:null,lastPage:0,total:0},y=await ke(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(a=t?.page)===null||a===void 0?void 0:a.toString())!==null&&r!==void 0?r:"",per_page:(c=(l=t?.perPage)===null||l===void 0?void 0:l.toString())!==null&&c!==void 0?c:""},xform:gb});if(y.error)throw y.error;const x=await y.json(),v=(d=y.headers.get("x-total-count"))!==null&&d!==void 0?d:0,b=(p=(f=y.headers.get("link"))===null||f===void 0?void 0:f.split(","))!==null&&p!==void 0?p:[];return b.length>0&&(b.forEach(N=>{const w=parseInt(N.split(";")[0].split("=")[1].substring(0,1)),_=JSON.parse(N.split(";")[1].split("=")[1]);m[`${_}Page`]=w}),m.total=parseInt(v)),{data:Object.assign(Object.assign({},x),m),error:null}}catch(m){if(je(m))return{data:{users:[]},error:m};throw m}}async getUserById(t){vi(t);try{return await ke(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:bn})}catch(a){if(je(a))return{data:{user:null},error:a};throw a}}async updateUserById(t,a){vi(t);try{return await ke(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:a,headers:this.headers,xform:bn})}catch(r){if(je(r))return{data:{user:null},error:r};throw r}}async deleteUser(t,a=!1){vi(t);try{return await ke(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:a},xform:bn})}catch(r){if(je(r))return{data:{user:null},error:r};throw r}}async _listFactors(t){vi(t.userId);try{const{data:a,error:r}=await ke(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:l=>({data:{factors:l},error:null})});return{data:a,error:r}}catch(a){if(je(a))return{data:null,error:a};throw a}}async _deleteFactor(t){vi(t.userId),vi(t.id);try{return{data:await ke(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(a){if(je(a))return{data:null,error:a};throw a}}async _listOAuthClients(t){var a,r,l,c,d,f,p;try{const m={nextPage:null,lastPage:0,total:0},y=await ke(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(a=t?.page)===null||a===void 0?void 0:a.toString())!==null&&r!==void 0?r:"",per_page:(c=(l=t?.perPage)===null||l===void 0?void 0:l.toString())!==null&&c!==void 0?c:""},xform:gb});if(y.error)throw y.error;const x=await y.json(),v=(d=y.headers.get("x-total-count"))!==null&&d!==void 0?d:0,b=(p=(f=y.headers.get("link"))===null||f===void 0?void 0:f.split(","))!==null&&p!==void 0?p:[];return b.length>0&&(b.forEach(N=>{const w=parseInt(N.split(";")[0].split("=")[1].substring(0,1)),_=JSON.parse(N.split(";")[1].split("=")[1]);m[`${_}Page`]=w}),m.total=parseInt(v)),{data:Object.assign(Object.assign({},x),m),error:null}}catch(m){if(je(m))return{data:{clients:[]},error:m};throw m}}async _createOAuthClient(t){try{return await ke(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:t,headers:this.headers,xform:a=>({data:a,error:null})})}catch(a){if(je(a))return{data:null,error:a};throw a}}async _getOAuthClient(t){try{return await ke(this.fetch,"GET",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:a=>({data:a,error:null})})}catch(a){if(je(a))return{data:null,error:a};throw a}}async _deleteOAuthClient(t){try{return await ke(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:a=>({data:a,error:null})})}catch(a){if(je(a))return{data:null,error:a};throw a}}async _regenerateOAuthClientSecret(t){try{return await ke(this.fetch,"POST",`${this.url}/admin/oauth/clients/${t}/regenerate_secret`,{headers:this.headers,xform:a=>({data:a,error:null})})}catch(a){if(je(a))return{data:null,error:a};throw a}}}function xb(e={}){return{getItem:t=>e[t]||null,setItem:(t,a)=>{e[t]=a},removeItem:t=>{delete e[t]}}}const bi={debug:!!(globalThis&&Y2()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class W2 extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class lD extends W2{}async function cD(e,t,a){bi.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const r=new globalThis.AbortController;return t>0&&setTimeout(()=>{r.abort(),bi.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async l=>{if(l){bi.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,l.name);try{return await a()}finally{bi.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,l.name)}}else{if(t===0)throw bi.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new lD(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(bi.debug)try{const c=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(c,null,"  "))}catch(c){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",c)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await a()}}))}function uD(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function X2(e){if(!/^0x[a-fA-F0-9]{40}$/.test(e))throw new Error(`@supabase/auth-js: Address "${e}" is invalid.`);return e.toLowerCase()}function dD(e){return parseInt(e,16)}function fD(e){const t=new TextEncoder().encode(e);return"0x"+Array.from(t,r=>r.toString(16).padStart(2,"0")).join("")}function hD(e){var t;const{chainId:a,domain:r,expirationTime:l,issuedAt:c=new Date,nonce:d,notBefore:f,requestId:p,resources:m,scheme:y,uri:x,version:v}=e;{if(!Number.isInteger(a))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${a}`);if(!r)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(d&&d.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${d}`);if(!x)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(v!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${v}`);if(!((t=e.statement)===null||t===void 0)&&t.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${e.statement}`)}const b=X2(e.address),N=y?`${y}://${r}`:r,w=e.statement?`${e.statement}
`:"",_=`${N} wants you to sign in with your Ethereum account:
${b}

${w}`;let E=`URI: ${x}
Version: ${v}
Chain ID: ${a}${d?`
Nonce: ${d}`:""}
Issued At: ${c.toISOString()}`;if(l&&(E+=`
Expiration Time: ${l.toISOString()}`),f&&(E+=`
Not Before: ${f.toISOString()}`),p&&(E+=`
Request ID: ${p}`),m){let T=`
Resources:`;for(const A of m){if(!A||typeof A!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${A}`);T+=`
- ${A}`}E+=T}return`${_}
${E}`}class bt extends Error{constructor({message:t,code:a,cause:r,name:l}){var c;super(t,{cause:r}),this.__isWebAuthnError=!0,this.name=(c=l??(r instanceof Error?r.name:void 0))!==null&&c!==void 0?c:"Unknown Error",this.code=a}}class Ou extends bt{constructor(t,a){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:a,message:t}),this.name="WebAuthnUnknownError",this.originalError=a}}function pD({error:e,options:t}){var a,r,l;const{publicKey:c}=t;if(!c)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new bt({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else if(e.name==="ConstraintError"){if(((a=c.authenticatorSelection)===null||a===void 0?void 0:a.requireResidentKey)===!0)return new bt({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:e});if(t.mediation==="conditional"&&((r=c.authenticatorSelection)===null||r===void 0?void 0:r.userVerification)==="required")return new bt({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:e});if(((l=c.authenticatorSelection)===null||l===void 0?void 0:l.userVerification)==="required")return new bt({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:e})}else{if(e.name==="InvalidStateError")return new bt({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:e});if(e.name==="NotAllowedError")return new bt({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="NotSupportedError")return c.pubKeyCredParams.filter(f=>f.type==="public-key").length===0?new bt({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:e}):new bt({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:e});if(e.name==="SecurityError"){const d=window.location.hostname;if(J2(d)){if(c.rp.id!==d)return new bt({message:`The RP ID "${c.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new bt({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="TypeError"){if(c.user.id.byteLength<1||c.user.id.byteLength>64)return new bt({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:e})}else if(e.name==="UnknownError")return new bt({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new bt({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}function mD({error:e,options:t}){const{publicKey:a}=t;if(!a)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new bt({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else{if(e.name==="NotAllowedError")return new bt({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="SecurityError"){const r=window.location.hostname;if(J2(r)){if(a.rpId!==r)return new bt({message:`The RP ID "${a.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new bt({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="UnknownError")return new bt({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new bt({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}class gD{createNewAbortSignal(){if(this.controller){const a=new Error("Cancelling existing WebAuthn API call for new one");a.name="AbortError",this.controller.abort(a)}const t=new AbortController;return this.controller=t,t.signal}cancelCeremony(){if(this.controller){const t=new Error("Manually cancelling existing WebAuthn API call");t.name="AbortError",this.controller.abort(t),this.controller=void 0}}}const xD=new gD;function yD(e){if(!e)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(e);const{challenge:t,user:a,excludeCredentials:r}=e,l=Dn(e,["challenge","user","excludeCredentials"]),c=Oi(t).buffer,d=Object.assign(Object.assign({},a),{id:Oi(a.id).buffer}),f=Object.assign(Object.assign({},l),{challenge:c,user:d});if(r&&r.length>0){f.excludeCredentials=new Array(r.length);for(let p=0;p<r.length;p++){const m=r[p];f.excludeCredentials[p]=Object.assign(Object.assign({},m),{id:Oi(m.id).buffer,type:m.type||"public-key",transports:m.transports})}}return f}function vD(e){if(!e)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(e);const{challenge:t,allowCredentials:a}=e,r=Dn(e,["challenge","allowCredentials"]),l=Oi(t).buffer,c=Object.assign(Object.assign({},r),{challenge:l});if(a&&a.length>0){c.allowCredentials=new Array(a.length);for(let d=0;d<a.length;d++){const f=a[d];c.allowCredentials[d]=Object.assign(Object.assign({},f),{id:Oi(f.id).buffer,type:f.type||"public-key",transports:f.transports})}}return c}function bD(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const a=e;return{id:e.id,rawId:e.id,response:{attestationObject:pr(new Uint8Array(e.response.attestationObject)),clientDataJSON:pr(new Uint8Array(e.response.clientDataJSON))},type:"public-key",clientExtensionResults:e.getClientExtensionResults(),authenticatorAttachment:(t=a.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function wD(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const a=e,r=e.getClientExtensionResults(),l=e.response;return{id:e.id,rawId:e.id,response:{authenticatorData:pr(new Uint8Array(l.authenticatorData)),clientDataJSON:pr(new Uint8Array(l.clientDataJSON)),signature:pr(new Uint8Array(l.signature)),userHandle:l.userHandle?pr(new Uint8Array(l.userHandle)):void 0},type:"public-key",clientExtensionResults:r,authenticatorAttachment:(t=a.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function J2(e){return e==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(e)}function yb(){var e,t;return!!(vs()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((e=navigator?.credentials)===null||e===void 0?void 0:e.create)=="function"&&typeof((t=navigator?.credentials)===null||t===void 0?void 0:t.get)=="function")}async function jD(e){try{const t=await navigator.credentials.create(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new Ou("Browser returned unexpected credential type",t)}:{data:null,error:new Ou("Empty credential response",t)}}catch(t){return{data:null,error:pD({error:t,options:e})}}}async function SD(e){try{const t=await navigator.credentials.get(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new Ou("Browser returned unexpected credential type",t)}:{data:null,error:new Ou("Empty credential response",t)}}catch(t){return{data:null,error:mD({error:t,options:e})}}}const _D={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"none"},ND={userVerification:"preferred",hints:["security-key"]};function Du(...e){const t=l=>l!==null&&typeof l=="object"&&!Array.isArray(l),a=l=>l instanceof ArrayBuffer||ArrayBuffer.isView(l),r={};for(const l of e)if(l)for(const c in l){const d=l[c];if(d!==void 0)if(Array.isArray(d))r[c]=d;else if(a(d))r[c]=d;else if(t(d)){const f=r[c];t(f)?r[c]=Du(f,d):r[c]=Du(d)}else r[c]=d}return r}function kD(e,t){return Du(_D,e,t||{})}function ED(e,t){return Du(ND,e,t||{})}class AD{constructor(t){this.client=t,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(t){return this.client.mfa.enroll(Object.assign(Object.assign({},t),{factorType:"webauthn"}))}async _challenge({factorId:t,webauthn:a,friendlyName:r,signal:l},c){try{const{data:d,error:f}=await this.client.mfa.challenge({factorId:t,webauthn:a});if(!d)return{data:null,error:f};const p=l??xD.createNewAbortSignal();if(d.webauthn.type==="create"){const{user:m}=d.webauthn.credential_options.publicKey;m.name||(m.name=`${m.id}:${r}`),m.displayName||(m.displayName=m.name)}switch(d.webauthn.type){case"create":{const m=kD(d.webauthn.credential_options.publicKey,c?.create),{data:y,error:x}=await jD({publicKey:m,signal:p});return y?{data:{factorId:t,challengeId:d.id,webauthn:{type:d.webauthn.type,credential_response:y}},error:null}:{data:null,error:x}}case"request":{const m=ED(d.webauthn.credential_options.publicKey,c?.request),{data:y,error:x}=await SD(Object.assign(Object.assign({},d.webauthn.credential_options),{publicKey:m,signal:p}));return y?{data:{factorId:t,challengeId:d.id,webauthn:{type:d.webauthn.type,credential_response:y}},error:null}:{data:null,error:x}}}}catch(d){return je(d)?{data:null,error:d}:{data:null,error:new dr("Unexpected error in challenge",d)}}}async _verify({challengeId:t,factorId:a,webauthn:r}){return this.client.mfa.verify({factorId:a,challengeId:t,webauthn:r})}async _authenticate({factorId:t,webauthn:{rpId:a=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:l}},c){if(!a)return{data:null,error:new hl("rpId is required for WebAuthn authentication")};try{if(!yb())return{data:null,error:new dr("Browser does not support WebAuthn",null)};const{data:d,error:f}=await this.challenge({factorId:t,webauthn:{rpId:a,rpOrigins:r},signal:l},{request:c});if(!d)return{data:null,error:f};const{webauthn:p}=d;return this._verify({factorId:t,challengeId:d.challengeId,webauthn:{type:p.type,rpId:a,rpOrigins:r,credential_response:p.credential_response}})}catch(d){return je(d)?{data:null,error:d}:{data:null,error:new dr("Unexpected error in authenticate",d)}}}async _register({friendlyName:t,rpId:a=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:l},c){if(!a)return{data:null,error:new hl("rpId is required for WebAuthn registration")};try{if(!yb())return{data:null,error:new dr("Browser does not support WebAuthn",null)};const{data:d,error:f}=await this._enroll({friendlyName:t});if(!d)return await this.client.mfa.listFactors().then(y=>{var x;return(x=y.data)===null||x===void 0?void 0:x.all.find(v=>v.factor_type==="webauthn"&&v.friendly_name===t&&v.status!=="unverified")}).then(y=>y?this.client.mfa.unenroll({factorId:y?.id}):void 0),{data:null,error:f};const{data:p,error:m}=await this._challenge({factorId:d.id,friendlyName:d.friendly_name,webauthn:{rpId:a,rpOrigins:r},signal:l},{create:c});return p?this._verify({factorId:d.id,challengeId:p.challengeId,webauthn:{rpId:a,rpOrigins:r,type:p.webauthn.type,credential_response:p.webauthn.credential_response}}):{data:null,error:m}}catch(d){return je(d)?{data:null,error:d}:{data:null,error:new dr("Unexpected error in register",d)}}}}uD();const CD={url:kO,storageKey:EO,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:AO,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function vb(e,t,a){return await a()}const wi={};class pl{get jwks(){var t,a;return(a=(t=wi[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&a!==void 0?a:{keys:[]}}set jwks(t){wi[this.storageKey]=Object.assign(Object.assign({},wi[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,a;return(a=(t=wi[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&a!==void 0?a:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){wi[this.storageKey]=Object.assign(Object.assign({},wi[this.storageKey]),{cachedAt:t})}constructor(t){var a,r;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=pl.nextInstanceID,pl.nextInstanceID+=1,this.instanceID>0&&vs()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const l=Object.assign(Object.assign({},CD),t);if(this.logDebugMessages=!!l.debug,typeof l.debug=="function"&&(this.logger=l.debug),this.persistSession=l.persistSession,this.storageKey=l.storageKey,this.autoRefreshToken=l.autoRefreshToken,this.admin=new oD({url:l.url,headers:l.headers,fetch:l.fetch}),this.url=l.url,this.headers=l.headers,this.fetch=K2(l.fetch),this.lock=l.lock||vb,this.detectSessionInUrl=l.detectSessionInUrl,this.flowType=l.flowType,this.hasCustomAuthorizationHeader=l.hasCustomAuthorizationHeader,l.lock?this.lock=l.lock:vs()&&(!((a=globalThis?.navigator)===null||a===void 0)&&a.locks)?this.lock=cD:this.lock=vb,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new AD(this)},this.persistSession?(l.storage?this.storage=l.storage:Y2()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=xb(this.memoryStorage)),l.userStorage&&(this.userStorage=l.userStorage)):(this.memoryStorage={},this.storage=xb(this.memoryStorage)),vs()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(c){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",c)}(r=this.broadcastChannel)===null||r===void 0||r.addEventListener("message",async c=>{this._debug("received broadcast notification from other tab or client",c),await this._notifyAllSubscribers(c.data.event,c.data.session,!1)})}this.initialize()}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${G2}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const a=HO(window.location.href);let r="none";if(this._isImplicitGrantCallback(a)?r="implicit":await this._isPKCECallback(a)&&(r="pkce"),vs()&&this.detectSessionInUrl&&r!=="none"){const{data:l,error:c}=await this._getSessionFromURL(a,r);if(c){if(this._debug("#_initialize()","error detecting session from URL",c),PO(c)){const p=(t=c.details)===null||t===void 0?void 0:t.code;if(p==="identity_already_exists"||p==="identity_not_found"||p==="single_identity_not_deletable")return{error:c}}return await this._removeSession(),{error:c}}const{session:d,redirectType:f}=l;return this._debug("#_initialize()","detected session in URL",d,"redirect type",f),await this._saveSession(d),setTimeout(async()=>{f==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",d):await this._notifyAllSubscribers("SIGNED_IN",d)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(a){return je(a)?{error:a}:{error:new dr("Unexpected error during initialization",a)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var a,r,l;try{const c=await ke(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(a=t?.options)===null||a===void 0?void 0:a.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(l=t?.options)===null||l===void 0?void 0:l.captchaToken}},xform:Fs}),{data:d,error:f}=c;if(f||!d)return{data:{user:null,session:null},error:f};const p=d.session,m=d.user;return d.session&&(await this._saveSession(d.session),await this._notifyAllSubscribers("SIGNED_IN",p)),{data:{user:m,session:p},error:null}}catch(c){if(je(c))return{data:{user:null,session:null},error:c};throw c}}async signUp(t){var a,r,l;try{let c;if("email"in t){const{email:y,password:x,options:v}=t;let b=null,N=null;this.flowType==="pkce"&&([b,N]=await yi(this.storage,this.storageKey)),c=await ke(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:v?.emailRedirectTo,body:{email:y,password:x,data:(a=v?.data)!==null&&a!==void 0?a:{},gotrue_meta_security:{captcha_token:v?.captchaToken},code_challenge:b,code_challenge_method:N},xform:Fs})}else if("phone"in t){const{phone:y,password:x,options:v}=t;c=await ke(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:y,password:x,data:(r=v?.data)!==null&&r!==void 0?r:{},channel:(l=v?.channel)!==null&&l!==void 0?l:"sms",gotrue_meta_security:{captcha_token:v?.captchaToken}},xform:Fs})}else throw new ru("You must provide either an email or phone number and a password");const{data:d,error:f}=c;if(f||!d)return{data:{user:null,session:null},error:f};const p=d.session,m=d.user;return d.session&&(await this._saveSession(d.session),await this._notifyAllSubscribers("SIGNED_IN",p)),{data:{user:m,session:p},error:null}}catch(c){if(je(c))return{data:{user:null,session:null},error:c};throw c}}async signInWithPassword(t){try{let a;if("email"in t){const{email:c,password:d,options:f}=t;a=await ke(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:c,password:d,gotrue_meta_security:{captcha_token:f?.captchaToken}},xform:mb})}else if("phone"in t){const{phone:c,password:d,options:f}=t;a=await ke(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:c,password:d,gotrue_meta_security:{captcha_token:f?.captchaToken}},xform:mb})}else throw new ru("You must provide either an email or phone number and a password");const{data:r,error:l}=a;return l?{data:{user:null,session:null},error:l}:!r||!r.session||!r.user?{data:{user:null,session:null},error:new xi}:(r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),{data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:l})}catch(a){if(je(a))return{data:{user:null,session:null},error:a};throw a}}async signInWithOAuth(t){var a,r,l,c;return await this._handleProviderSignIn(t.provider,{redirectTo:(a=t.options)===null||a===void 0?void 0:a.redirectTo,scopes:(r=t.options)===null||r===void 0?void 0:r.scopes,queryParams:(l=t.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:(c=t.options)===null||c===void 0?void 0:c.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:a}=t;switch(a){case"ethereum":return await this.signInWithEthereum(t);case"solana":return await this.signInWithSolana(t);default:throw new Error(`@supabase/auth-js: Unsupported chain "${a}"`)}}async signInWithEthereum(t){var a,r,l,c,d,f,p,m,y,x,v;let b,N;if("message"in t)b=t.message,N=t.signature;else{const{chain:w,wallet:_,statement:E,options:T}=t;let A;if(vs())if(typeof _=="object")A=_;else{const z=window;if("ethereum"in z&&typeof z.ethereum=="object"&&"request"in z.ethereum&&typeof z.ethereum.request=="function")A=z.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof _!="object"||!T?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");A=_}const I=new URL((a=T?.url)!==null&&a!==void 0?a:window.location.href),M=await A.request({method:"eth_requestAccounts"}).then(z=>z).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!M||M.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const P=X2(M[0]);let O=(r=T?.signInWithEthereum)===null||r===void 0?void 0:r.chainId;if(!O){const z=await A.request({method:"eth_chainId"});O=dD(z)}const C={domain:I.host,address:P,statement:E,uri:I.href,version:"1",chainId:O,nonce:(l=T?.signInWithEthereum)===null||l===void 0?void 0:l.nonce,issuedAt:(d=(c=T?.signInWithEthereum)===null||c===void 0?void 0:c.issuedAt)!==null&&d!==void 0?d:new Date,expirationTime:(f=T?.signInWithEthereum)===null||f===void 0?void 0:f.expirationTime,notBefore:(p=T?.signInWithEthereum)===null||p===void 0?void 0:p.notBefore,requestId:(m=T?.signInWithEthereum)===null||m===void 0?void 0:m.requestId,resources:(y=T?.signInWithEthereum)===null||y===void 0?void 0:y.resources};b=hD(C),N=await A.request({method:"personal_sign",params:[fD(b),P]})}try{const{data:w,error:_}=await ke(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:b,signature:N},!((x=t.options)===null||x===void 0)&&x.captchaToken?{gotrue_meta_security:{captcha_token:(v=t.options)===null||v===void 0?void 0:v.captchaToken}}:null),xform:Fs});if(_)throw _;return!w||!w.session||!w.user?{data:{user:null,session:null},error:new xi}:(w.session&&(await this._saveSession(w.session),await this._notifyAllSubscribers("SIGNED_IN",w.session)),{data:Object.assign({},w),error:_})}catch(w){if(je(w))return{data:{user:null,session:null},error:w};throw w}}async signInWithSolana(t){var a,r,l,c,d,f,p,m,y,x,v,b;let N,w;if("message"in t)N=t.message,w=t.signature;else{const{chain:_,wallet:E,statement:T,options:A}=t;let I;if(vs())if(typeof E=="object")I=E;else{const P=window;if("solana"in P&&typeof P.solana=="object"&&("signIn"in P.solana&&typeof P.solana.signIn=="function"||"signMessage"in P.solana&&typeof P.solana.signMessage=="function"))I=P.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof E!="object"||!A?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");I=E}const M=new URL((a=A?.url)!==null&&a!==void 0?a:window.location.href);if("signIn"in I&&I.signIn){const P=await I.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},A?.signInWithSolana),{version:"1",domain:M.host,uri:M.href}),T?{statement:T}:null));let O;if(Array.isArray(P)&&P[0]&&typeof P[0]=="object")O=P[0];else if(P&&typeof P=="object"&&"signedMessage"in P&&"signature"in P)O=P;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in O&&"signature"in O&&(typeof O.signedMessage=="string"||O.signedMessage instanceof Uint8Array)&&O.signature instanceof Uint8Array)N=typeof O.signedMessage=="string"?O.signedMessage:new TextDecoder().decode(O.signedMessage),w=O.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in I)||typeof I.signMessage!="function"||!("publicKey"in I)||typeof I!="object"||!I.publicKey||!("toBase58"in I.publicKey)||typeof I.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");N=[`${M.host} wants you to sign in with your Solana account:`,I.publicKey.toBase58(),...T?["",T,""]:[""],"Version: 1",`URI: ${M.href}`,`Issued At: ${(l=(r=A?.signInWithSolana)===null||r===void 0?void 0:r.issuedAt)!==null&&l!==void 0?l:new Date().toISOString()}`,...!((c=A?.signInWithSolana)===null||c===void 0)&&c.notBefore?[`Not Before: ${A.signInWithSolana.notBefore}`]:[],...!((d=A?.signInWithSolana)===null||d===void 0)&&d.expirationTime?[`Expiration Time: ${A.signInWithSolana.expirationTime}`]:[],...!((f=A?.signInWithSolana)===null||f===void 0)&&f.chainId?[`Chain ID: ${A.signInWithSolana.chainId}`]:[],...!((p=A?.signInWithSolana)===null||p===void 0)&&p.nonce?[`Nonce: ${A.signInWithSolana.nonce}`]:[],...!((m=A?.signInWithSolana)===null||m===void 0)&&m.requestId?[`Request ID: ${A.signInWithSolana.requestId}`]:[],...!((x=(y=A?.signInWithSolana)===null||y===void 0?void 0:y.resources)===null||x===void 0)&&x.length?["Resources",...A.signInWithSolana.resources.map(O=>`- ${O}`)]:[]].join(`
`);const P=await I.signMessage(new TextEncoder().encode(N),"utf8");if(!P||!(P instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");w=P}}try{const{data:_,error:E}=await ke(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:N,signature:pr(w)},!((v=t.options)===null||v===void 0)&&v.captchaToken?{gotrue_meta_security:{captcha_token:(b=t.options)===null||b===void 0?void 0:b.captchaToken}}:null),xform:Fs});if(E)throw E;return!_||!_.session||!_.user?{data:{user:null,session:null},error:new xi}:(_.session&&(await this._saveSession(_.session),await this._notifyAllSubscribers("SIGNED_IN",_.session)),{data:Object.assign({},_),error:E})}catch(_){if(je(_))return{data:{user:null,session:null},error:_};throw _}}async _exchangeCodeForSession(t){const a=await rr(this.storage,`${this.storageKey}-code-verifier`),[r,l]=(a??"").split("/");try{const{data:c,error:d}=await ke(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:r},xform:Fs});if(await gn(this.storage,`${this.storageKey}-code-verifier`),d)throw d;return!c||!c.session||!c.user?{data:{user:null,session:null,redirectType:null},error:new xi}:(c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),{data:Object.assign(Object.assign({},c),{redirectType:l??null}),error:d})}catch(c){if(je(c))return{data:{user:null,session:null,redirectType:null},error:c};throw c}}async signInWithIdToken(t){try{const{options:a,provider:r,token:l,access_token:c,nonce:d}=t,f=await ke(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:l,access_token:c,nonce:d,gotrue_meta_security:{captcha_token:a?.captchaToken}},xform:Fs}),{data:p,error:m}=f;return m?{data:{user:null,session:null},error:m}:!p||!p.session||!p.user?{data:{user:null,session:null},error:new xi}:(p.session&&(await this._saveSession(p.session),await this._notifyAllSubscribers("SIGNED_IN",p.session)),{data:p,error:m})}catch(a){if(je(a))return{data:{user:null,session:null},error:a};throw a}}async signInWithOtp(t){var a,r,l,c,d;try{if("email"in t){const{email:f,options:p}=t;let m=null,y=null;this.flowType==="pkce"&&([m,y]=await yi(this.storage,this.storageKey));const{error:x}=await ke(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:f,data:(a=p?.data)!==null&&a!==void 0?a:{},create_user:(r=p?.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:p?.captchaToken},code_challenge:m,code_challenge_method:y},redirectTo:p?.emailRedirectTo});return{data:{user:null,session:null},error:x}}if("phone"in t){const{phone:f,options:p}=t,{data:m,error:y}=await ke(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:f,data:(l=p?.data)!==null&&l!==void 0?l:{},create_user:(c=p?.shouldCreateUser)!==null&&c!==void 0?c:!0,gotrue_meta_security:{captcha_token:p?.captchaToken},channel:(d=p?.channel)!==null&&d!==void 0?d:"sms"}});return{data:{user:null,session:null,messageId:m?.message_id},error:y}}throw new ru("You must provide either an email or phone number.")}catch(f){if(je(f))return{data:{user:null,session:null},error:f};throw f}}async verifyOtp(t){var a,r;try{let l,c;"options"in t&&(l=(a=t.options)===null||a===void 0?void 0:a.redirectTo,c=(r=t.options)===null||r===void 0?void 0:r.captchaToken);const{data:d,error:f}=await ke(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:c}}),redirectTo:l,xform:Fs});if(f)throw f;if(!d)throw new Error("An error occurred on token verification.");const p=d.session,m=d.user;return p?.access_token&&(await this._saveSession(p),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",p)),{data:{user:m,session:p},error:null}}catch(l){if(je(l))return{data:{user:null,session:null},error:l};throw l}}async signInWithSSO(t){var a,r,l;try{let c=null,d=null;return this.flowType==="pkce"&&([c,d]=await yi(this.storage,this.storageKey)),await ke(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(r=(a=t.options)===null||a===void 0?void 0:a.redirectTo)!==null&&r!==void 0?r:void 0}),!((l=t?.options)===null||l===void 0)&&l.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:c,code_challenge_method:d}),headers:this.headers,xform:nD})}catch(c){if(je(c))return{data:null,error:c};throw c}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:a},error:r}=t;if(r)throw r;if(!a)throw new yn;const{error:l}=await ke(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:a.access_token});return{data:{user:null,session:null},error:l}})}catch(t){if(je(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const a=`${this.url}/resend`;if("email"in t){const{email:r,type:l,options:c}=t,{error:d}=await ke(this.fetch,"POST",a,{headers:this.headers,body:{email:r,type:l,gotrue_meta_security:{captcha_token:c?.captchaToken}},redirectTo:c?.emailRedirectTo});return{data:{user:null,session:null},error:d}}else if("phone"in t){const{phone:r,type:l,options:c}=t,{data:d,error:f}=await ke(this.fetch,"POST",a,{headers:this.headers,body:{phone:r,type:l,gotrue_meta_security:{captcha_token:c?.captchaToken}}});return{data:{user:null,session:null,messageId:d?.message_id},error:f}}throw new ru("You must provide either an email or phone number and a type")}catch(a){if(je(a))return{data:{user:null,session:null},error:a};throw a}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async a=>a))}async _acquireLock(t,a){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),l=(async()=>(await r,await a()))();return this.pendingInLock.push((async()=>{try{await l}catch{}})()),l}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=a();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const l=[...this.pendingInLock];await Promise.all(l),this.pendingInLock.splice(0,l.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const a=await this.__loadSession();return await t(a)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const a=await rr(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",a),a!==null&&(this._isValidSession(a)?t=a:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const r=t.expires_at?t.expires_at*1e3-Date.now()<Gh:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",t.expires_at),!r){if(this.userStorage){const d=await rr(this.userStorage,this.storageKey+"-user");d?.user?t.user=d.user:t.user=Yh()}if(this.storage.isServer&&t.user){let d=this.suppressGetSessionWarning;t=new Proxy(t,{get:(p,m,y)=>(!d&&m==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),d=!0,this.suppressGetSessionWarning=!0),Reflect.get(p,m,y))})}return{data:{session:t},error:null}}const{data:l,error:c}=await this._callRefreshToken(t.refresh_token);return c?{data:{session:null},error:c}:{data:{session:l},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await ke(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:bn}):await this._useSession(async a=>{var r,l,c;const{data:d,error:f}=a;if(f)throw f;return!(!((r=d.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new yn}:await ke(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(c=(l=d.session)===null||l===void 0?void 0:l.access_token)!==null&&c!==void 0?c:void 0,xform:bn})})}catch(a){if(je(a))return RO(a)&&(await this._removeSession(),await gn(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:a};throw a}}async updateUser(t,a={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,a))}async _updateUser(t,a={}){try{return await this._useSession(async r=>{const{data:l,error:c}=r;if(c)throw c;if(!l.session)throw new yn;const d=l.session;let f=null,p=null;this.flowType==="pkce"&&t.email!=null&&([f,p]=await yi(this.storage,this.storageKey));const{data:m,error:y}=await ke(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:a?.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:f,code_challenge_method:p}),jwt:d.access_token,xform:bn});if(y)throw y;return d.user=m.user,await this._saveSession(d),await this._notifyAllSubscribers("USER_UPDATED",d),{data:{user:d.user},error:null}})}catch(r){if(je(r))return{data:{user:null},error:r};throw r}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new yn;const a=Date.now()/1e3;let r=a,l=!0,c=null;const{payload:d}=Qh(t.access_token);if(d.exp&&(r=d.exp,l=r<=a),l){const{data:f,error:p}=await this._callRefreshToken(t.refresh_token);if(p)return{data:{user:null,session:null},error:p};if(!f)return{data:{user:null,session:null},error:null};c=f}else{const{data:f,error:p}=await this._getUser(t.access_token);if(p)throw p;c={access_token:t.access_token,refresh_token:t.refresh_token,user:f.user,token_type:"bearer",expires_in:r-a,expires_at:r},await this._saveSession(c),await this._notifyAllSubscribers("SIGNED_IN",c)}return{data:{user:c.user,session:c},error:null}}catch(a){if(je(a))return{data:{session:null,user:null},error:a};throw a}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async a=>{var r;if(!t){const{data:d,error:f}=a;if(f)throw f;t=(r=d.session)!==null&&r!==void 0?r:void 0}if(!t?.refresh_token)throw new yn;const{data:l,error:c}=await this._callRefreshToken(t.refresh_token);return c?{data:{user:null,session:null},error:c}:l?{data:{user:l.user,session:l},error:null}:{data:{user:null,session:null},error:null}})}catch(a){if(je(a))return{data:{user:null,session:null},error:a};throw a}}async _getSessionFromURL(t,a){try{if(!vs())throw new iu("No browser detected.");if(t.error||t.error_description||t.error_code)throw new iu(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(a){case"implicit":if(this.flowType==="pkce")throw new lb("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new iu("Not a valid implicit grant flow url.");break;default:}if(a==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new lb("No code detected.");const{data:T,error:A}=await this._exchangeCodeForSession(t.code);if(A)throw A;const I=new URL(window.location.href);return I.searchParams.delete("code"),window.history.replaceState(window.history.state,"",I.toString()),{data:{session:T.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:l,access_token:c,refresh_token:d,expires_in:f,expires_at:p,token_type:m}=t;if(!c||!f||!d||!m)throw new iu("No session defined in URL");const y=Math.round(Date.now()/1e3),x=parseInt(f);let v=y+x;p&&(v=parseInt(p));const b=v-y;b*1e3<=ki&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${b}s, should have been closer to ${x}s`);const N=v-x;y-N>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",N,v,y):y-N<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",N,v,y);const{data:w,error:_}=await this._getUser(c);if(_)throw _;const E={provider_token:r,provider_refresh_token:l,access_token:c,expires_in:x,expires_at:v,refresh_token:d,token_type:m,user:w.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:E,redirectType:t.type},error:null}}catch(r){if(je(r))return{data:{session:null,redirectType:null},error:r};throw r}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const a=await rr(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&a)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async a=>{var r;const{data:l,error:c}=a;if(c)return{error:c};const d=(r=l.session)===null||r===void 0?void 0:r.access_token;if(d){const{error:f}=await this.admin.signOut(d,t);if(f&&!(DO(f)&&(f.status===404||f.status===401||f.status===403)))return{error:f}}return t!=="others"&&(await this._removeSession(),await gn(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const a=BO(),r={id:a,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",a),this.stateChangeEmitters.delete(a)}};return this._debug("#onAuthStateChange()","registered callback with id",a),this.stateChangeEmitters.set(a,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(a)})))(),{data:{subscription:r}}}async _emitInitialSession(t){return await this._useSession(async a=>{var r,l;try{const{data:{session:c},error:d}=a;if(d)throw d;await((r=this.stateChangeEmitters.get(t))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",c)),this._debug("INITIAL_SESSION","callback id",t,"session",c)}catch(c){await((l=this.stateChangeEmitters.get(t))===null||l===void 0?void 0:l.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",c),console.error(c)}})}async resetPasswordForEmail(t,a={}){let r=null,l=null;this.flowType==="pkce"&&([r,l]=await yi(this.storage,this.storageKey,!0));try{return await ke(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:r,code_challenge_method:l,gotrue_meta_security:{captcha_token:a.captchaToken}},headers:this.headers,redirectTo:a.redirectTo})}catch(c){if(je(c))return{data:null,error:c};throw c}}async getUserIdentities(){var t;try{const{data:a,error:r}=await this.getUser();if(r)throw r;return{data:{identities:(t=a.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(a){if(je(a))return{data:null,error:a};throw a}}async linkIdentity(t){return"token"in t?this.linkIdentityIdToken(t):this.linkIdentityOAuth(t)}async linkIdentityOAuth(t){var a;try{const{data:r,error:l}=await this._useSession(async c=>{var d,f,p,m,y;const{data:x,error:v}=c;if(v)throw v;const b=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(d=t.options)===null||d===void 0?void 0:d.redirectTo,scopes:(f=t.options)===null||f===void 0?void 0:f.scopes,queryParams:(p=t.options)===null||p===void 0?void 0:p.queryParams,skipBrowserRedirect:!0});return await ke(this.fetch,"GET",b,{headers:this.headers,jwt:(y=(m=x.session)===null||m===void 0?void 0:m.access_token)!==null&&y!==void 0?y:void 0})});if(l)throw l;return vs()&&!(!((a=t.options)===null||a===void 0)&&a.skipBrowserRedirect)&&window.location.assign(r?.url),{data:{provider:t.provider,url:r?.url},error:null}}catch(r){if(je(r))return{data:{provider:t.provider,url:null},error:r};throw r}}async linkIdentityIdToken(t){return await this._useSession(async a=>{var r;try{const{error:l,data:{session:c}}=a;if(l)throw l;const{options:d,provider:f,token:p,access_token:m,nonce:y}=t,x=await ke(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(r=c?.access_token)!==null&&r!==void 0?r:void 0,body:{provider:f,id_token:p,access_token:m,nonce:y,link_identity:!0,gotrue_meta_security:{captcha_token:d?.captchaToken}},xform:Fs}),{data:v,error:b}=x;return b?{data:{user:null,session:null},error:b}:!v||!v.session||!v.user?{data:{user:null,session:null},error:new xi}:(v.session&&(await this._saveSession(v.session),await this._notifyAllSubscribers("USER_UPDATED",v.session)),{data:v,error:b})}catch(l){if(je(l))return{data:{user:null,session:null},error:l};throw l}})}async unlinkIdentity(t){try{return await this._useSession(async a=>{var r,l;const{data:c,error:d}=a;if(d)throw d;return await ke(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(l=(r=c.session)===null||r===void 0?void 0:r.access_token)!==null&&l!==void 0?l:void 0})})}catch(a){if(je(a))return{data:null,error:a};throw a}}async _refreshAccessToken(t){const a=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(a,"begin");try{const r=Date.now();return await GO(async l=>(l>0&&await FO(200*Math.pow(2,l-1)),this._debug(a,"refreshing attempt",l),await ke(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:Fs})),(l,c)=>{const d=200*Math.pow(2,l);return c&&Vh(c)&&Date.now()+d-r<ki})}catch(r){if(this._debug(a,"error",r),je(r))return{data:{session:null,user:null},error:r};throw r}finally{this._debug(a,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,a){const r=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:a.redirectTo,scopes:a.scopes,queryParams:a.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",a,"url",r),vs()&&!a.skipBrowserRedirect&&window.location.assign(r),{data:{provider:t,url:r},error:null}}async _recoverAndRefresh(){var t,a;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const l=await rr(this.storage,this.storageKey);if(l&&this.userStorage){let d=await rr(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!d&&(d={user:l.user},await Ei(this.userStorage,this.storageKey+"-user",d)),l.user=(t=d?.user)!==null&&t!==void 0?t:Yh()}else if(l&&!l.user&&!l.user){const d=await rr(this.storage,this.storageKey+"-user");d&&d?.user?(l.user=d.user,await gn(this.storage,this.storageKey+"-user"),await Ei(this.storage,this.storageKey,l)):l.user=Yh()}if(this._debug(r,"session from storage",l),!this._isValidSession(l)){this._debug(r,"session is not valid"),l!==null&&await this._removeSession();return}const c=((a=l.expires_at)!==null&&a!==void 0?a:1/0)*1e3-Date.now()<Gh;if(this._debug(r,`session has${c?"":" not"} expired with margin of ${Gh}s`),c){if(this.autoRefreshToken&&l.refresh_token){const{error:d}=await this._callRefreshToken(l.refresh_token);d&&(console.error(d),Vh(d)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",d),await this._removeSession()))}}else if(l.user&&l.user.__isUserNotAvailableProxy===!0)try{const{data:d,error:f}=await this._getUser(l.access_token);!f&&d?.user?(l.user=d.user,await this._saveSession(l),await this._notifyAllSubscribers("SIGNED_IN",l)):this._debug(r,"could not get user data, skipping SIGNED_IN notification")}catch(d){console.error("Error getting user data:",d),this._debug(r,"error getting user data, skipping SIGNED_IN notification",d)}else await this._notifyAllSubscribers("SIGNED_IN",l)}catch(l){this._debug(r,"error",l),console.error(l);return}finally{this._debug(r,"end")}}async _callRefreshToken(t){var a,r;if(!t)throw new yn;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const l=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(l,"begin");try{this.refreshingDeferred=new sd;const{data:c,error:d}=await this._refreshAccessToken(t);if(d)throw d;if(!c.session)throw new yn;await this._saveSession(c.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",c.session);const f={data:c.session,error:null};return this.refreshingDeferred.resolve(f),f}catch(c){if(this._debug(l,"error",c),je(c)){const d={data:null,error:c};return Vh(c)||await this._removeSession(),(a=this.refreshingDeferred)===null||a===void 0||a.resolve(d),d}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(c),c}finally{this.refreshingDeferred=null,this._debug(l,"end")}}async _notifyAllSubscribers(t,a,r=!0){const l=`#_notifyAllSubscribers(${t})`;this._debug(l,"begin",a,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:t,session:a});const c=[],d=Array.from(this.stateChangeEmitters.values()).map(async f=>{try{await f.callback(t,a)}catch(p){c.push(p)}});if(await Promise.all(d),c.length>0){for(let f=0;f<c.length;f+=1)console.error(c[f]);throw c[0]}}finally{this._debug(l,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0;const a=Object.assign({},t),r=a.user&&a.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!r&&a.user&&await Ei(this.userStorage,this.storageKey+"-user",{user:a.user});const l=Object.assign({},a);delete l.user;const c=hb(l);await Ei(this.storage,this.storageKey,c)}else{const l=hb(a);await Ei(this.storage,this.storageKey,l)}}async _removeSession(){this._debug("#_removeSession()"),await gn(this.storage,this.storageKey),await gn(this.storage,this.storageKey+"-code-verifier"),await gn(this.storage,this.storageKey+"-user"),this.userStorage&&await gn(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&vs()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",t)}catch(a){console.error("removing visibilitychange callback failed",a)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),ki);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async a=>{const{data:{session:r}}=a;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const l=Math.floor((r.expires_at*1e3-t)/ki);this._debug("#_autoRefreshTokenTick()",`access token expires in ${l} ticks, a tick lasts ${ki}ms, refresh threshold is ${Fp} ticks`),l<=Fp&&await this._callRefreshToken(r.refresh_token)})}catch(a){console.error("Auto refresh tick failed with error. This is likely a transient error.",a)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof W2)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!vs()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const a=`#_onVisibilityChanged(${t})`;this._debug(a,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(a,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,a,r){const l=[`provider=${encodeURIComponent(a)}`];if(r?.redirectTo&&l.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r?.scopes&&l.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[c,d]=await yi(this.storage,this.storageKey),f=new URLSearchParams({code_challenge:`${encodeURIComponent(c)}`,code_challenge_method:`${encodeURIComponent(d)}`});l.push(f.toString())}if(r?.queryParams){const c=new URLSearchParams(r.queryParams);l.push(c.toString())}return r?.skipBrowserRedirect&&l.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${t}?${l.join("&")}`}async _unenroll(t){try{return await this._useSession(async a=>{var r;const{data:l,error:c}=a;return c?{data:null,error:c}:await ke(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(r=l?.session)===null||r===void 0?void 0:r.access_token})})}catch(a){if(je(a))return{data:null,error:a};throw a}}async _enroll(t){try{return await this._useSession(async a=>{var r,l;const{data:c,error:d}=a;if(d)return{data:null,error:d};const f=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:t.factorType==="totp"?{issuer:t.issuer}:{}),{data:p,error:m}=await ke(this.fetch,"POST",`${this.url}/factors`,{body:f,headers:this.headers,jwt:(r=c?.session)===null||r===void 0?void 0:r.access_token});return m?{data:null,error:m}:(t.factorType==="totp"&&p.type==="totp"&&(!((l=p?.totp)===null||l===void 0)&&l.qr_code)&&(p.totp.qr_code=`data:image/svg+xml;utf-8,${p.totp.qr_code}`),{data:p,error:null})})}catch(a){if(je(a))return{data:null,error:a};throw a}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async a=>{var r;const{data:l,error:c}=a;if(c)return{data:null,error:c};const d=Object.assign({challenge_id:t.challengeId},"webauthn"in t?{webauthn:Object.assign(Object.assign({},t.webauthn),{credential_response:t.webauthn.type==="create"?bD(t.webauthn.credential_response):wD(t.webauthn.credential_response)})}:{code:t.code}),{data:f,error:p}=await ke(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:d,headers:this.headers,jwt:(r=l?.session)===null||r===void 0?void 0:r.access_token});return p?{data:null,error:p}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+f.expires_in},f)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",f),{data:f,error:p})})}catch(a){if(je(a))return{data:null,error:a};throw a}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async a=>{var r;const{data:l,error:c}=a;if(c)return{data:null,error:c};const d=await ke(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:t,headers:this.headers,jwt:(r=l?.session)===null||r===void 0?void 0:r.access_token});if(d.error)return d;const{data:f}=d;if(f.type!=="webauthn")return{data:f,error:null};switch(f.webauthn.type){case"create":return{data:Object.assign(Object.assign({},f),{webauthn:Object.assign(Object.assign({},f.webauthn),{credential_options:Object.assign(Object.assign({},f.webauthn.credential_options),{publicKey:yD(f.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},f),{webauthn:Object.assign(Object.assign({},f.webauthn),{credential_options:Object.assign(Object.assign({},f.webauthn.credential_options),{publicKey:vD(f.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(a){if(je(a))return{data:null,error:a};throw a}})}async _challengeAndVerify(t){const{data:a,error:r}=await this._challenge({factorId:t.factorId});return r?{data:null,error:r}:await this._verify({factorId:t.factorId,challengeId:a.id,code:t.code})}async _listFactors(){var t;const{data:{user:a},error:r}=await this.getUser();if(r)return{data:null,error:r};const l={all:[],phone:[],totp:[],webauthn:[]};for(const c of(t=a?.factors)!==null&&t!==void 0?t:[])l.all.push(c),c.status==="verified"&&l[c.factor_type].push(c);return{data:l,error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var a,r;const{data:{session:l},error:c}=t;if(c)return{data:null,error:c};if(!l)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:d}=Qh(l.access_token);let f=null;d.aal&&(f=d.aal);let p=f;((r=(a=l.user.factors)===null||a===void 0?void 0:a.filter(x=>x.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(p="aal2");const y=d.amr||[];return{data:{currentLevel:f,nextLevel:p,currentAuthenticationMethods:y},error:null}}))}async fetchJwk(t,a={keys:[]}){let r=a.keys.find(f=>f.kid===t);if(r)return r;const l=Date.now();if(r=this.jwks.keys.find(f=>f.kid===t),r&&this.jwks_cached_at+TO>l)return r;const{data:c,error:d}=await ke(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(d)throw d;return!c.keys||c.keys.length===0||(this.jwks=c,this.jwks_cached_at=l,r=c.keys.find(f=>f.kid===t),!r)?null:r}async getClaims(t,a={}){try{let r=t;if(!r){const{data:b,error:N}=await this.getSession();if(N||!b.session)return{data:null,error:N};r=b.session.access_token}const{header:l,payload:c,signature:d,raw:{header:f,payload:p}}=Qh(r);a?.allowExpired||JO(c.exp);const m=!l.alg||l.alg.startsWith("HS")||!l.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(l.kid,a?.keys?{keys:a.keys}:a?.jwks);if(!m){const{error:b}=await this.getUser(r);if(b)throw b;return{data:{claims:c,header:l,signature:d},error:null}}const y=ZO(l.alg),x=await crypto.subtle.importKey("jwk",m,y,!0,["verify"]);if(!await crypto.subtle.verify(y,x,d,zO(`${f}.${p}`)))throw new Qp("Invalid JWT signature");return{data:{claims:c,header:l,signature:d},error:null}}catch(r){if(je(r))return{data:null,error:r};throw r}}}pl.nextInstanceID=0;const TD=pl;class OD extends TD{constructor(t){super(t)}}class DD{constructor(t,a,r){var l,c,d;this.supabaseUrl=t,this.supabaseKey=a;const f=NO(t);if(!a)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",f),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",f),this.storageUrl=new URL("storage/v1",f),this.functionsUrl=new URL("functions/v1",f);const p=`sb-${f.hostname.split(".")[0]}-auth-token`,m={db:xO,realtime:vO,auth:Object.assign(Object.assign({},yO),{storageKey:p}),global:gO},y=_O(r??{},m);this.storageKey=(l=y.auth.storageKey)!==null&&l!==void 0?l:"",this.headers=(c=y.global.headers)!==null&&c!==void 0?c:{},y.accessToken?(this.accessToken=y.accessToken,this.auth=new Proxy({},{get:(x,v)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(v)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((d=y.auth)!==null&&d!==void 0?d:{},this.headers,y.global.fetch),this.fetch=jO(a,this._getAccessToken.bind(this),y.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},y.realtime)),this.rest=new k3(new URL("rest/v1",f).href,{headers:this.headers,schema:y.db.schema,fetch:this.fetch}),this.storage=new hO(this.storageUrl.href,this.headers,this.fetch,r?.storage),y.accessToken||this._listenForAuthEvents()}get functions(){return new g3(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,a={},r={head:!1,get:!1,count:void 0}){return this.rest.rpc(t,a,r)}channel(t,a={config:{}}){return this.realtime.channel(t,a)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var t,a;if(this.accessToken)return await this.accessToken();const{data:r}=await this.auth.getSession();return(a=(t=r.session)===null||t===void 0?void 0:t.access_token)!==null&&a!==void 0?a:this.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:a,detectSessionInUrl:r,storage:l,userStorage:c,storageKey:d,flowType:f,lock:p,debug:m},y,x){const v={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new OD({url:this.authUrl.href,headers:Object.assign(Object.assign({},v),y),storageKey:d,autoRefreshToken:t,persistSession:a,detectSessionInUrl:r,storage:l,userStorage:c,flowType:f,lock:p,debug:m,fetch:x,hasCustomAuthorizationHeader:Object.keys(this.headers).some(b=>b.toLowerCase()==="authorization")})}_initRealtimeClient(t){return new $3(this.realtimeUrl.href,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((a,r)=>{this._handleTokenChanged(a,"CLIENT",r?.access_token)})}_handleTokenChanged(t,a,r){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==r?(this.changedAccessToken=r,this.realtime.setAuth(r)):t==="SIGNED_OUT"&&(this.realtime.setAuth(),a=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const RD=(e,t,a)=>new DD(e,t,a);function PD(){if(typeof window<"u"||typeof process>"u")return!1;const e=process.version;if(e==null)return!1;const t=e.match(/^v(\d+)\./);return t?parseInt(t[1],10)<=18:!1}PD()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const MD="https://avdnefdfwvpjkuanhdwk.supabase.co",LD="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImF2ZG5lZmRmd3Zwamt1YW5oZHdrIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTM3MTg4MzMsImV4cCI6MjA2OTI5NDgzM30.imGFTDynzDG5bK0w_j5pgwMPBeT9rkXm8ZQ18W6A-nw",re=RD(MD,LD,{auth:{autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0}});/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UD=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Z2=(...e)=>e.filter((t,a,r)=>!!t&&r.indexOf(t)===a).join(" ");/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var ID={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zD=j.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:a=2,absoluteStrokeWidth:r,className:l="",children:c,iconNode:d,...f},p)=>j.createElement("svg",{ref:p,...ID,width:t,height:t,stroke:e,strokeWidth:r?Number(a)*24/Number(t):a,className:Z2("lucide",l),...f},[...d.map(([m,y])=>j.createElement(m,y)),...Array.isArray(c)?c:[c]]));/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const we=(e,t)=>{const a=j.forwardRef(({className:r,...l},c)=>j.createElement(zD,{ref:c,iconNode:t,className:Z2(`lucide-${UD(e)}`,r),...l}));return a.displayName=`${e}`,a};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qD=we("Activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BD=we("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bb=we("Award",[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HD=we("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const An=we("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ej=we("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $D=we("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FD=we("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ml=we("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lm=we("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tj=we("Crown",[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GD=we("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wh=we("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VD=we("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ad=we("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Us=we("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QD=we("List",[["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 18h.01",key:"1tta3j"}],["path",{d:"M3 6h.01",key:"1rqtza"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 18h13",key:"1lx6n3"}],["path",{d:"M8 6h13",key:"ik3vkj"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mr=we("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sj=we("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gt=we("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wb=we("Map",[["path",{d:"M14.106 5.553a2 2 0 0 0 1.788 0l3.659-1.83A1 1 0 0 1 21 4.619v12.764a1 1 0 0 1-.553.894l-4.553 2.277a2 2 0 0 1-1.788 0l-4.212-2.106a2 2 0 0 0-1.788 0l-3.659 1.83A1 1 0 0 1 3 19.381V6.618a1 1 0 0 1 .553-.894l4.553-2.277a2 2 0 0 1 1.788 0z",key:"169xi5"}],["path",{d:"M15 5.764v15",key:"1pn4in"}],["path",{d:"M9 3.236v15",key:"1uimfh"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YD=we("Maximize2",[["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["polyline",{points:"9 21 3 21 3 15",key:"1avn1i"}],["line",{x1:"21",x2:"14",y1:"3",y2:"10",key:"ota7mn"}],["line",{x1:"3",x2:"10",y1:"21",y2:"14",key:"1atl0r"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KD=we("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aj=we("Minimize2",[["polyline",{points:"4 14 10 14 10 20",key:"11kfnr"}],["polyline",{points:"20 10 14 10 14 4",key:"rlmsce"}],["line",{x1:"14",x2:"21",y1:"10",y2:"3",key:"o5lafz"}],["line",{x1:"3",x2:"10",y1:"21",y2:"14",key:"1atl0r"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WD=we("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yp=we("Navigation",[["polygon",{points:"3 11 22 2 13 21 11 13 3 11",key:"1ltx0t"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XD=we("Palette",[["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z",key:"12rzf8"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nj=we("Pen",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JD=we("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZD=we("Plane",[["path",{d:"M17.8 19.2 16 11l3.5-3.5C21 6 21.5 4 21 3c-1-.5-3 0-4.5 1.5L13 8 4.8 6.2c-.5-.1-.9.1-1.1.5l-.3.5c-.2.5-.1 1 .3 1.3L9 12l-2 3H4l-1 1 3 2 2 3 1-1v-3l3-2 3.5 5.3c.3.4.8.5 1.3.3l.5-.2c.4-.3.6-.7.5-1.2z",key:"1v9wt8"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cn=we("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e5=we("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rj=we("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fr=we("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t5=we("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s5=we("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kp=we("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a5=we("SlidersHorizontal",[["line",{x1:"21",x2:"14",y1:"4",y2:"4",key:"obuewd"}],["line",{x1:"10",x2:"3",y1:"4",y2:"4",key:"1q6298"}],["line",{x1:"21",x2:"12",y1:"12",y2:"12",key:"1iu8h1"}],["line",{x1:"8",x2:"3",y1:"12",y2:"12",key:"ntss68"}],["line",{x1:"21",x2:"16",y1:"20",y2:"20",key:"14d8ph"}],["line",{x1:"12",x2:"3",y1:"20",y2:"20",key:"m0wm8r"}],["line",{x1:"14",x2:"14",y1:"2",y2:"6",key:"14e1ph"}],["line",{x1:"8",x2:"8",y1:"10",y2:"14",key:"1i6ji0"}],["line",{x1:"16",x2:"16",y1:"18",y2:"22",key:"1lctlv"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ru=we("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Um=we("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cs=we("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n5=we("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r5=we("Tag",[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i5=we("ThumbsUp",[["path",{d:"M7 10v12",key:"1qc93n"}],["path",{d:"M15 5.88 14 10h5.83a2 2 0 0 1 1.92 2.56l-2.33 8A2 2 0 0 1 17.5 22H4a2 2 0 0 1-2-2v-8a2 2 0 0 1 2-2h2.76a2 2 0 0 0 1.79-1.11L12 2a3.13 3.13 0 0 1 3 3.88Z",key:"emmmcr"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kl=we("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gl=we("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o5=we("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l5=we("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c5=we("UserMinus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u5=we("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d5=we("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f5=we("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ua=we("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);function h5(){const[e,t]=j.useState([]),[a,r]=j.useState(0),[l,c]=j.useState(!1),[d,f]=j.useState(!0),p=j.useRef(null),[,m]=ut();j.useEffect(()=>{y();const _=re.channel("notifications").on("postgres_changes",{event:"*",schema:"public",table:"notifications"},()=>{y()}).subscribe();return()=>{re.removeChannel(_)}},[]),j.useEffect(()=>{function _(E){p.current&&!p.current.contains(E.target)&&c(!1)}if(l)return document.addEventListener("mousedown",_),()=>document.removeEventListener("mousedown",_)},[l]);const y=async()=>{try{const{data:{user:_}}=await re.auth.getUser();if(!_){f(!1);return}const{data:E,error:T}=await re.from("notifications").select(`
          *,
          user_profiles!notifications_from_user_id_fkey (
            username,
            display_name,
            profile_photo
          )
        `).eq("user_id",_.id).order("created_at",{ascending:!1}).limit(20);if(T)throw T;t(E||[]),r(E?.filter(A=>!A.is_read).length||0)}catch(_){console.error("Error fetching notifications:",_)}finally{f(!1)}},x=async _=>{try{const{error:E}=await re.from("notifications").update({is_read:!0}).eq("id",_);if(E)throw E;t(T=>T.map(A=>A.id===_?{...A,is_read:!0}:A)),r(T=>Math.max(0,T-1))}catch(E){console.error("Error marking notification as read:",E)}},v=async()=>{try{const{data:{user:_}}=await re.auth.getUser();if(!_)return;const{error:E}=await re.from("notifications").update({is_read:!0}).eq("user_id",_.id).eq("is_read",!1);if(E)throw E;t(T=>T.map(A=>({...A,is_read:!0}))),r(0)}catch(_){console.error("Error marking all as read:",_)}},b=async _=>{try{const{error:E}=await re.from("notifications").delete().eq("id",_);if(E)throw E;t(T=>T.filter(A=>A.id!==_))}catch(E){console.error("Error deleting notification:",E)}},N=_=>{x(_.id),_.link&&(m(_.link),c(!1))},w=_=>{const E=new Date(_),A=Math.floor((new Date().getTime()-E.getTime())/1e3);return A<60?"just now":A<3600?`${Math.floor(A/60)}m ago`:A<86400?`${Math.floor(A/3600)}h ago`:A<604800?`${Math.floor(A/86400)}d ago`:E.toLocaleDateString("en-US",{month:"short",day:"numeric"})};return i.jsxs("div",{"data-loc":"client/src/components/NotificationDropdown.tsx:176",className:"relative",ref:p,children:[i.jsxs("button",{"data-loc":"client/src/components/NotificationDropdown.tsx:178",onClick:()=>c(!l),className:"relative p-2 text-gray-600 hover:text-gray-900 transition-colors",children:[i.jsx(HD,{"data-loc":"client/src/components/NotificationDropdown.tsx:182",className:"h-6 w-6"}),a>0&&i.jsx("span",{"data-loc":"client/src/components/NotificationDropdown.tsx:184",className:"absolute top-0 right-0 inline-flex items-center justify-center px-2 py-1 text-xs font-bold leading-none text-white transform translate-x-1/2 -translate-y-1/2 bg-red-500 rounded-full",children:a>9?"9+":a})]}),l&&i.jsxs("div",{"data-loc":"client/src/components/NotificationDropdown.tsx:192",className:"absolute right-0 mt-2 w-96 bg-white rounded-lg shadow-lg border border-gray-200 z-50",children:[i.jsxs("div",{"data-loc":"client/src/components/NotificationDropdown.tsx:194",className:"flex items-center justify-between p-4 border-b border-gray-200",children:[i.jsx("h3",{"data-loc":"client/src/components/NotificationDropdown.tsx:195",className:"text-lg font-semibold",children:"Notifications"}),a>0&&i.jsx("button",{"data-loc":"client/src/components/NotificationDropdown.tsx:197",onClick:v,className:"text-sm text-blue-600 hover:text-blue-700",children:"Mark all as read"})]}),i.jsx("div",{"data-loc":"client/src/components/NotificationDropdown.tsx:207",className:"max-h-96 overflow-y-auto",children:d?i.jsx("div",{"data-loc":"client/src/components/NotificationDropdown.tsx:209",className:"p-8 text-center text-gray-500",children:"Loading..."}):e.length===0?i.jsx("div",{"data-loc":"client/src/components/NotificationDropdown.tsx:213",className:"p-8 text-center text-gray-500",children:"No notifications yet"}):i.jsx("div",{"data-loc":"client/src/components/NotificationDropdown.tsx:217",className:"divide-y divide-gray-100",children:e.map(_=>i.jsx("div",{"data-loc":"client/src/components/NotificationDropdown.tsx:219",className:`p-4 hover:bg-gray-50 transition-colors ${_.is_read?"":"bg-blue-50"}`,children:i.jsxs("div",{"data-loc":"client/src/components/NotificationDropdown.tsx:225",className:"flex gap-3",children:[_.user_profiles&&i.jsx("div",{"data-loc":"client/src/components/NotificationDropdown.tsx:228",className:"flex-shrink-0",children:i.jsx("div",{"data-loc":"client/src/components/NotificationDropdown.tsx:229",className:"w-10 h-10 rounded-full bg-gray-200 flex items-center justify-center overflow-hidden",children:_.user_profiles.profile_photo?i.jsx("img",{"data-loc":"client/src/components/NotificationDropdown.tsx:231",src:_.user_profiles.profile_photo,alt:_.user_profiles.display_name||_.user_profiles.username,className:"w-full h-full object-cover"}):i.jsx("span",{"data-loc":"client/src/components/NotificationDropdown.tsx:237",className:"text-sm font-semibold text-gray-600",children:(_.user_profiles.display_name||_.user_profiles.username)[0].toUpperCase()})})}),i.jsx("div",{"data-loc":"client/src/components/NotificationDropdown.tsx:246",className:"flex-1 min-w-0",children:i.jsxs("button",{"data-loc":"client/src/components/NotificationDropdown.tsx:247",onClick:()=>N(_),className:"text-left w-full",children:[i.jsx("p",{"data-loc":"client/src/components/NotificationDropdown.tsx:251",className:"text-sm font-medium text-gray-900",children:_.title}),_.message&&i.jsx("p",{"data-loc":"client/src/components/NotificationDropdown.tsx:255",className:"text-sm text-gray-600 mt-1",children:_.message}),i.jsx("p",{"data-loc":"client/src/components/NotificationDropdown.tsx:259",className:"text-xs text-gray-500 mt-1",children:w(_.created_at)})]})}),i.jsxs("div",{"data-loc":"client/src/components/NotificationDropdown.tsx:266",className:"flex-shrink-0 flex items-start gap-1",children:[!_.is_read&&i.jsx("button",{"data-loc":"client/src/components/NotificationDropdown.tsx:268",onClick:()=>x(_.id),className:"p-1 text-gray-400 hover:text-blue-600",title:"Mark as read",children:i.jsx(ej,{"data-loc":"client/src/components/NotificationDropdown.tsx:273",className:"h-4 w-4"})}),i.jsx("button",{"data-loc":"client/src/components/NotificationDropdown.tsx:276",onClick:()=>b(_.id),className:"p-1 text-gray-400 hover:text-red-600",title:"Delete",children:i.jsx(ua,{"data-loc":"client/src/components/NotificationDropdown.tsx:281",className:"h-4 w-4"})})]})]})},_.id))})}),e.length>0&&i.jsx("div",{"data-loc":"client/src/components/NotificationDropdown.tsx:293",className:"p-3 border-t border-gray-200 text-center",children:i.jsx("button",{"data-loc":"client/src/components/NotificationDropdown.tsx:294",onClick:()=>{m("/notifications"),c(!1)},className:"text-sm text-blue-600 hover:text-blue-700",children:"View all notifications"})})]})]})}const ij=j.createContext(void 0);function p5({children:e,defaultTheme:t="light",switchable:a=!1}){const[r,l]=j.useState(()=>a&&localStorage.getItem("theme")||t);j.useEffect(()=>{const d=document.documentElement;r==="dark"?d.classList.add("dark"):d.classList.remove("dark"),a&&localStorage.setItem("theme",r)},[r,a]);const c=a?()=>{l(d=>d==="light"?"dark":"light")}:void 0;return i.jsx(ij.Provider,{"data-loc":"client/src/contexts/ThemeContext.tsx:53",value:{theme:r,setTheme:l,toggleTheme:c,switchable:a},children:e})}function m5(){const e=j.useContext(ij);if(!e)throw new Error("useTheme must be used within ThemeProvider");return e}function g5(){const{theme:e,setTheme:t}=m5();return i.jsx("button",{"data-loc":"client/src/components/DarkModeToggle.tsx:8",onClick:()=>t(e==="dark"?"light":"dark"),className:"p-2 rounded-full hover:bg-gray-100 dark:hover:bg-gray-800 transition-colors","aria-label":"Toggle dark mode",children:e==="dark"?i.jsx(n5,{"data-loc":"client/src/components/DarkModeToggle.tsx:14",className:"h-5 w-5 text-gray-700 dark:text-gray-300"}):i.jsx(WD,{"data-loc":"client/src/components/DarkModeToggle.tsx:16",className:"h-5 w-5 text-gray-700 dark:text-gray-300"})})}function Le(){const[,e]=ut(),[t,a]=j.useState(null),[r,l]=j.useState(!1);j.useEffect(()=>{async function d(){const{data:{session:p}}=await re.auth.getSession();a(p?.user||null)}d();const{data:f}=re.auth.onAuthStateChange((p,m)=>{a(m?.user||null)});return()=>{f?.subscription.unsubscribe()}},[]);const c=async()=>{await re.auth.signOut(),e("/")};return i.jsxs("header",{"data-loc":"client/src/components/Header.tsx:35",className:"border-b border-gray-200 dark:border-gray-800 dark:bg-gray-900",children:[i.jsx("div",{"data-loc":"client/src/components/Header.tsx:37",className:"px-6 md:px-10 py-4 dark:text-white",children:i.jsx("div",{"data-loc":"client/src/components/Header.tsx:38",className:"max-w-[1920px] mx-auto",children:i.jsx("button",{"data-loc":"client/src/components/Header.tsx:39",onClick:()=>e("/"),className:"text-[clamp(24px,5vw,48px)] font-bold uppercase leading-none tracking-tight hover:opacity-60 transition-opacity",children:"The Urban Manual"})})}),i.jsx("div",{"data-loc":"client/src/components/Header.tsx:49",className:"px-6 md:px-10 border-t border-gray-200 dark:border-gray-800 dark:text-white",children:i.jsxs("div",{"data-loc":"client/src/components/Header.tsx:50",className:"max-w-[1920px] mx-auto flex items-center justify-between h-12",children:[i.jsxs("div",{"data-loc":"client/src/components/Header.tsx:52",className:"hidden md:flex items-center gap-6",children:[i.jsx("button",{"data-loc":"client/src/components/Header.tsx:53",onClick:()=>e("/"),className:"text-xs font-bold uppercase hover:opacity-60 transition-opacity",children:"Catalogue"}),i.jsx("button",{"data-loc":"client/src/components/Header.tsx:54",onClick:()=>e("/cities"),className:"text-xs font-bold uppercase hover:opacity-60 transition-opacity",children:"Cities"}),i.jsx("button",{"data-loc":"client/src/components/Header.tsx:55",onClick:()=>e("/explore"),className:"text-xs font-bold uppercase hover:opacity-60 transition-opacity",children:"Explore"}),t&&i.jsx("button",{"data-loc":"client/src/components/Header.tsx:56",onClick:()=>e("/feed"),className:"text-xs font-bold uppercase hover:opacity-60 transition-opacity",children:"Feed"}),t&&i.jsx("button",{"data-loc":"client/src/components/Header.tsx:57",onClick:()=>e("/trips"),className:"text-xs font-bold uppercase hover:opacity-60 transition-opacity",children:"Trips"}),i.jsx("a",{"data-loc":"client/src/components/Header.tsx:58",href:"#",className:"text-xs font-bold uppercase hover:opacity-60 transition-opacity",children:"Archive"}),i.jsx("button",{"data-loc":"client/src/components/Header.tsx:59",onClick:()=>e("/editorial"),className:"text-xs font-bold uppercase hover:opacity-60 transition-opacity",children:"Editorial"})]}),i.jsx("button",{"data-loc":"client/src/components/Header.tsx:63",onClick:()=>l(!r),className:"md:hidden p-2 hover:opacity-60 transition-opacity","aria-label":"Toggle menu",children:r?i.jsx(ua,{"data-loc":"client/src/components/Header.tsx:68",className:"h-5 w-5"}):i.jsx(KD,{"data-loc":"client/src/components/Header.tsx:68",className:"h-5 w-5"})}),i.jsxs("div",{"data-loc":"client/src/components/Header.tsx:72",className:"flex items-center gap-4",children:[i.jsx("span",{"data-loc":"client/src/components/Header.tsx:73",className:"hidden sm:inline text-xs font-bold uppercase",children:"New York"}),i.jsx("span",{"data-loc":"client/src/components/Header.tsx:74",className:"hidden sm:inline text-xs font-bold",children:new Date().toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit",hour12:!0})}),i.jsx(g5,{"data-loc":"client/src/components/Header.tsx:75"}),t&&i.jsx(h5,{"data-loc":"client/src/components/Header.tsx:76"}),i.jsx("div",{"data-loc":"client/src/components/Header.tsx:77",className:"hidden md:flex items-center gap-4",children:t?i.jsxs(i.Fragment,{children:[i.jsx("button",{"data-loc":"client/src/components/Header.tsx:80",onClick:()=>e("/account"),className:"text-xs font-bold uppercase hover:opacity-60 transition-opacity",children:"Account"}),i.jsx("button",{"data-loc":"client/src/components/Header.tsx:86",onClick:c,className:"text-xs font-bold uppercase hover:opacity-60 transition-opacity",children:"Sign Out"})]}):i.jsx("button",{"data-loc":"client/src/components/Header.tsx:94",onClick:()=>e("/account"),className:"text-xs font-bold uppercase hover:opacity-60 transition-opacity",children:"Sign In"})})]})]})}),r&&i.jsx("div",{"data-loc":"client/src/components/Header.tsx:108",className:"md:hidden border-t border-gray-200 dark:border-gray-800 bg-white dark:bg-gray-900 animate-in slide-in-from-top-4 duration-200",children:i.jsxs("div",{"data-loc":"client/src/components/Header.tsx:109",className:"px-6 py-4 space-y-3",children:[i.jsx("button",{"data-loc":"client/src/components/Header.tsx:110",onClick:()=>{e("/"),l(!1)},className:"block w-full text-left text-sm font-bold uppercase hover:opacity-60 transition-opacity py-2",children:"Catalogue"}),i.jsx("button",{"data-loc":"client/src/components/Header.tsx:116",onClick:()=>{e("/cities"),l(!1)},className:"block w-full text-left text-sm font-bold uppercase hover:opacity-60 transition-opacity py-2",children:"Cities"}),i.jsx("button",{"data-loc":"client/src/components/Header.tsx:122",onClick:()=>{e("/explore"),l(!1)},className:"block w-full text-left text-sm font-bold uppercase hover:opacity-60 transition-opacity py-2",children:"Explore"}),t&&i.jsx("button",{"data-loc":"client/src/components/Header.tsx:129",onClick:()=>{e("/feed"),l(!1)},className:"block w-full text-left text-sm font-bold uppercase hover:opacity-60 transition-opacity py-2",children:"Feed"}),t&&i.jsx("button",{"data-loc":"client/src/components/Header.tsx:137",onClick:()=>{e("/trips"),l(!1)},className:"block w-full text-left text-sm font-bold uppercase hover:opacity-60 transition-opacity py-2",children:"Trips"}),i.jsx("a",{"data-loc":"client/src/components/Header.tsx:144",href:"#",className:"block text-sm font-bold uppercase hover:opacity-60 transition-opacity py-2",children:"Archive"}),i.jsx("button",{"data-loc":"client/src/components/Header.tsx:145",onClick:()=>{e("/editorial"),l(!1)},className:"block w-full text-left text-sm font-bold uppercase hover:opacity-60 transition-opacity py-2",children:"Editorial"}),i.jsx("div",{"data-loc":"client/src/components/Header.tsx:152",className:"pt-3 border-t border-gray-200 dark:border-gray-800",children:t?i.jsxs(i.Fragment,{children:[i.jsx("button",{"data-loc":"client/src/components/Header.tsx:155",onClick:()=>{e("/account"),l(!1)},className:"block w-full text-left text-sm font-bold uppercase hover:opacity-60 transition-opacity py-2",children:"Account"}),i.jsx("button",{"data-loc":"client/src/components/Header.tsx:161",onClick:()=>{c(),l(!1)},className:"block w-full text-left text-sm font-bold uppercase hover:opacity-60 transition-opacity py-2",children:"Sign Out"})]}):i.jsx("button",{"data-loc":"client/src/components/Header.tsx:169",onClick:()=>{e("/account"),l(!1)},className:"block w-full text-left text-sm font-bold uppercase hover:opacity-60 transition-opacity py-2",children:"Sign In"})})]})})]})}function Ze(){const[,e]=ut();return i.jsx("footer",{"data-loc":"client/src/components/SimpleFooter.tsx:7",className:"border-t border-gray-200 dark:border-gray-800 dark:bg-gray-900 py-8 px-6 md:px-10",children:i.jsx("div",{"data-loc":"client/src/components/SimpleFooter.tsx:8",className:"max-w-[1920px] mx-auto",children:i.jsxs("div",{"data-loc":"client/src/components/SimpleFooter.tsx:9",className:"flex flex-col md:flex-row justify-between items-center gap-4",children:[i.jsxs("div",{"data-loc":"client/src/components/SimpleFooter.tsx:10",className:"text-xs text-gray-600 dark:text-gray-400",children:[" ",new Date().getFullYear()," The Urban Manual. All rights reserved."]}),i.jsxs("div",{"data-loc":"client/src/components/SimpleFooter.tsx:13",className:"flex items-center gap-6",children:[i.jsx("a",{"data-loc":"client/src/components/SimpleFooter.tsx:14",href:"#",className:"text-xs font-bold uppercase hover:opacity-60 transition-opacity dark:text-gray-300",children:"About"}),i.jsx("a",{"data-loc":"client/src/components/SimpleFooter.tsx:15",href:"#",className:"text-xs font-bold uppercase hover:opacity-60 transition-opacity dark:text-gray-300",children:"Contact"}),i.jsx("button",{"data-loc":"client/src/components/SimpleFooter.tsx:16",onClick:()=>e("/privacy"),className:"text-xs font-bold uppercase hover:opacity-60 transition-opacity dark:text-gray-300",children:"Privacy"}),i.jsx("a",{"data-loc":"client/src/components/SimpleFooter.tsx:17",href:"#",className:"text-xs font-bold uppercase hover:opacity-60 transition-opacity dark:text-gray-300",children:"Terms"})]})]})})})}function jb(){const[,e]=ut();return i.jsxs("div",{"data-loc":"client/src/pages/NotFound.tsx:9",className:"min-h-screen bg-white dark:bg-gray-950",children:[i.jsx(Le,{"data-loc":"client/src/pages/NotFound.tsx:10"}),i.jsx("div",{"data-loc":"client/src/pages/NotFound.tsx:12",className:"px-6 md:px-10 py-20",children:i.jsxs("div",{"data-loc":"client/src/pages/NotFound.tsx:13",className:"max-w-[1920px] mx-auto",children:[i.jsxs("div",{"data-loc":"client/src/pages/NotFound.tsx:15",className:"text-center max-w-2xl mx-auto",children:[i.jsx("h1",{"data-loc":"client/src/pages/NotFound.tsx:17",className:"text-[clamp(80px,15vw,200px)] font-bold uppercase leading-none tracking-tight text-gray-900 dark:text-white mb-8",children:"404"}),i.jsxs("div",{"data-loc":"client/src/pages/NotFound.tsx:22",className:"space-y-4 mb-12",children:[i.jsx("h2",{"data-loc":"client/src/pages/NotFound.tsx:23",className:"text-2xl md:text-3xl font-bold uppercase tracking-tight text-gray-900 dark:text-white",children:"Page Not Found"}),i.jsxs("p",{"data-loc":"client/src/pages/NotFound.tsx:26",className:"text-sm md:text-base text-gray-600 dark:text-gray-400 leading-relaxed",children:["The page you're looking for doesn't exist or has been moved.",i.jsx("br",{"data-loc":"client/src/pages/NotFound.tsx:28",className:"hidden sm:block"}),"Let's get you back on track."]})]}),i.jsxs("div",{"data-loc":"client/src/pages/NotFound.tsx:34",className:"flex flex-col sm:flex-row gap-4 justify-center items-center",children:[i.jsx("button",{"data-loc":"client/src/pages/NotFound.tsx:35",onClick:()=>e("/"),className:"px-8 py-3 bg-gray-900 dark:bg-white text-white dark:text-gray-900 text-xs font-bold uppercase hover:opacity-60 transition-opacity",children:"Back to Home"}),i.jsx("button",{"data-loc":"client/src/pages/NotFound.tsx:41",onClick:()=>e("/cities"),className:"px-8 py-3 border border-gray-900 dark:border-white text-gray-900 dark:text-white text-xs font-bold uppercase hover:opacity-60 transition-opacity",children:"Browse Cities"})]})]}),i.jsx("div",{"data-loc":"client/src/pages/NotFound.tsx:51",className:"mt-20 border-t border-gray-200 dark:border-gray-800"})]})}),i.jsx(Ze,{"data-loc":"client/src/pages/NotFound.tsx:55"})]})}class x5 extends j.Component{constructor(t){super(t),this.state={hasError:!1,error:null}}static getDerivedStateFromError(t){return{hasError:!0,error:t}}render(){return this.state.hasError?i.jsx("div",{"data-loc":"client/src/components/ErrorBoundary.tsx:27",className:"flex items-center justify-center min-h-screen p-8 bg-background",children:i.jsxs("div",{"data-loc":"client/src/components/ErrorBoundary.tsx:28",className:"flex flex-col items-center w-full max-w-2xl p-8",children:[i.jsx(o5,{"data-loc":"client/src/components/ErrorBoundary.tsx:29",size:48,className:"text-destructive mb-6 flex-shrink-0"}),i.jsx("h2",{"data-loc":"client/src/components/ErrorBoundary.tsx:34",className:"text-xl mb-4",children:"An unexpected error occurred."}),i.jsx("div",{"data-loc":"client/src/components/ErrorBoundary.tsx:36",className:"p-4 w-full rounded bg-muted overflow-auto mb-6",children:i.jsx("pre",{"data-loc":"client/src/components/ErrorBoundary.tsx:37",className:"text-sm text-muted-foreground whitespace-break-spaces",children:this.state.error?.stack})}),i.jsxs("button",{"data-loc":"client/src/components/ErrorBoundary.tsx:42",onClick:()=>window.location.reload(),className:Ye("flex items-center gap-2 px-4 py-2 rounded-lg","bg-primary text-primary-foreground","hover:opacity-90 cursor-pointer"),children:[i.jsx(e5,{"data-loc":"client/src/components/ErrorBoundary.tsx:50",size:16}),"Reload Page"]})]})}):this.props.children}}const Sb=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,_b=$1,oj=(e,t)=>a=>{var r;if(t?.variants==null)return _b(e,a?.class,a?.className);const{variants:l,defaultVariants:c}=t,d=Object.keys(l).map(m=>{const y=a?.[m],x=c?.[m];if(y===null)return null;const v=Sb(y)||Sb(x);return l[m][v]}),f=a&&Object.entries(a).reduce((m,y)=>{let[x,v]=y;return v===void 0||(m[x]=v),m},{}),p=t==null||(r=t.compoundVariants)===null||r===void 0?void 0:r.reduce((m,y)=>{let{class:x,className:v,...b}=y;return Object.entries(b).every(N=>{let[w,_]=N;return Array.isArray(_)?_.includes({...c,...f}[w]):{...c,...f}[w]===_})?[...m,x,v]:m},[]);return _b(e,d,p,a?.class,a?.className)},y5=oj("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-white hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-transparent shadow-xs hover:bg-accent dark:bg-transparent dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9","icon-sm":"size-8","icon-lg":"size-10"}},defaultVariants:{variant:"default",size:"default"}});function Re({className:e,variant:t,size:a,asChild:r=!1,...l}){const c=r?l1:"button";return i.jsx(c,{"data-loc":"client/src/components/ui/button.tsx:52","data-slot":"button",className:Ye(y5({variant:t,size:a,className:e})),...l})}function v5({src:e,alt:t,className:a,placeholderClassName:r,aspectRatio:l="square",onLoad:c}){const[d,f]=j.useState(!1),[p,m]=j.useState(!1);return j.useEffect(()=>{if(!e)return;const y=new Image;return y.src=e,y.onload=()=>{f(!0),m(!1),c?.()},y.onerror=()=>{m(!0)},()=>{y.onload=null,y.onerror=null}},[e,c]),i.jsxs("div",{"data-loc":"client/src/components/ProgressiveImage.tsx:47",className:Ye("relative overflow-hidden",a),children:[i.jsx("div",{"data-loc":"client/src/components/ProgressiveImage.tsx:49",className:Ye("absolute inset-0 bg-gradient-to-r from-gray-200 via-gray-100 to-gray-200 dark:from-gray-800 dark:via-gray-700 dark:to-gray-800","animate-shimmer bg-[length:200%_100%]","transition-opacity duration-500",d&&"opacity-0",r)}),!p&&i.jsx("img",{"data-loc":"client/src/components/ProgressiveImage.tsx:61",src:e,alt:t,className:Ye("w-full h-full object-cover","transition-all duration-500",d?"opacity-100 scale-100":"opacity-0 scale-95"),loading:"lazy"}),p&&i.jsx("div",{"data-loc":"client/src/components/ProgressiveImage.tsx:75",className:"absolute inset-0 flex items-center justify-center bg-gray-100 dark:bg-gray-800",children:i.jsxs("div",{"data-loc":"client/src/components/ProgressiveImage.tsx:76",className:"text-gray-400 dark:text-gray-600 text-center",children:[i.jsx("svg",{"data-loc":"client/src/components/ProgressiveImage.tsx:77",className:"h-8 w-8 mx-auto mb-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:i.jsx("path",{"data-loc":"client/src/components/ProgressiveImage.tsx:83",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})}),i.jsx("p",{"data-loc":"client/src/components/ProgressiveImage.tsx:90",className:"text-xs",children:"Image unavailable"})]})})]})}function b5(e){return e.split("-").map(t=>t.charAt(0).toUpperCase()+t.slice(1)).join(" ")}function Im({destination:e,onClick:t,isSaved:a,isVisited:r,className:l,animationDelay:c=0}){return i.jsxs("div",{"data-loc":"client/src/components/DestinationCardEnhanced.tsx:33",className:Ye("group cursor-pointer overflow-hidden","transition-all duration-300 ease-out","hover:opacity-90","animate-fade-in",l),style:{animationDelay:`${c}ms`},onClick:t,children:[i.jsxs("div",{"data-loc":"client/src/components/DestinationCardEnhanced.tsx:45",className:"relative aspect-square overflow-hidden bg-gray-100 dark:bg-gray-800 rounded-lg mb-3",children:[e.mainImage?i.jsx(v5,{"data-loc":"client/src/components/DestinationCardEnhanced.tsx:47",src:e.mainImage,alt:e.name,className:"w-full h-full"}):i.jsx("div",{"data-loc":"client/src/components/DestinationCardEnhanced.tsx:53",className:"w-full h-full flex items-center justify-center text-gray-300 dark:text-gray-700 bg-gradient-to-br from-gray-50 to-gray-100 dark:from-gray-800 dark:to-gray-900",children:i.jsx(Gt,{"data-loc":"client/src/components/DestinationCardEnhanced.tsx:54",className:"h-16 w-16 opacity-20"})}),i.jsx("div",{"data-loc":"client/src/components/DestinationCardEnhanced.tsx:59",className:"absolute inset-0 bg-black opacity-0 group-hover:opacity-10 transition-opacity duration-300"}),e.crown&&i.jsx("div",{"data-loc":"client/src/components/DestinationCardEnhanced.tsx:63",className:"absolute top-2 left-2 bg-yellow-400 text-yellow-900 p-1.5 rounded shadow-lg animate-scale-in",children:i.jsx(tj,{"data-loc":"client/src/components/DestinationCardEnhanced.tsx:64",className:"h-4 w-4"})}),a&&i.jsx("div",{"data-loc":"client/src/components/DestinationCardEnhanced.tsx:69",className:"absolute top-2 right-2 bg-red-500 text-white p-1.5 rounded-full shadow-lg animate-scale-in",children:i.jsx(Us,{"data-loc":"client/src/components/DestinationCardEnhanced.tsx:70",className:"h-3 w-3 fill-current"})}),r&&i.jsx("div",{"data-loc":"client/src/components/DestinationCardEnhanced.tsx:75",className:"absolute top-2 right-2 bg-green-500 text-white p-1.5 rounded-full shadow-lg animate-scale-in",children:i.jsx(ej,{"data-loc":"client/src/components/DestinationCardEnhanced.tsx:76",className:"h-3 w-3"})}),e.michelinStars>0&&i.jsxs("div",{"data-loc":"client/src/components/DestinationCardEnhanced.tsx:81",className:"absolute bottom-2 left-2 bg-white dark:bg-gray-900 text-gray-900 dark:text-white px-2 py-1 rounded text-xs font-bold flex items-center gap-1 shadow-lg animate-slide-up",children:[i.jsx("img",{"data-loc":"client/src/components/DestinationCardEnhanced.tsx:82",src:"https://guide.michelin.com/assets/images/icons/1star-1f2c04d7e6738e8a3312c9cda4b64fd0.svg",alt:"Michelin Star",className:"h-3 w-3"}),i.jsx("span",{"data-loc":"client/src/components/DestinationCardEnhanced.tsx:87",children:e.michelinStars})]})]}),i.jsxs("div",{"data-loc":"client/src/components/DestinationCardEnhanced.tsx:93",className:"space-y-1",children:[i.jsx("h3",{"data-loc":"client/src/components/DestinationCardEnhanced.tsx:94",className:"font-medium text-sm leading-tight line-clamp-2 text-black dark:text-white transition-colors",children:e.name}),i.jsxs("div",{"data-loc":"client/src/components/DestinationCardEnhanced.tsx:98",className:"flex items-center gap-1.5",children:[i.jsx("p",{"data-loc":"client/src/components/DestinationCardEnhanced.tsx:99",className:"text-xs text-gray-600 dark:text-gray-400",children:b5(e.city)}),e.category&&i.jsxs(i.Fragment,{children:[i.jsx("span",{"data-loc":"client/src/components/DestinationCardEnhanced.tsx:104",className:"text-gray-300 dark:text-gray-700",children:""}),i.jsx("p",{"data-loc":"client/src/components/DestinationCardEnhanced.tsx:105",className:"text-xs text-gray-500 dark:text-gray-500 capitalize",children:e.category})]})]})]})]})}function Wp({destination:e}){const[t,a]=j.useState(null),[r,l]=j.useState(!0),[c,d]=j.useState(null);j.useEffect(()=>{async function m(){try{l(!0),d(null);const y=await fetch(`/api/places/search?name=${encodeURIComponent(e.name)}&city=${encodeURIComponent(e.city)}`);if(!y.ok)throw new Error("Failed to fetch place data");const x=await y.json();a(x)}catch(y){console.error("Error fetching place data:",y),d(y.message)}finally{l(!1)}}m()},[e.name,e.city]);const p=`https://www.google.com/maps/search/?api=1&query=${encodeURIComponent(`${e.name}, ${e.city}`)}`;return i.jsxs("div",{"data-loc":"client/src/components/GoogleMap.tsx:51",className:"space-y-4",children:[i.jsx("div",{"data-loc":"client/src/components/GoogleMap.tsx:53",className:"relative w-full h-64 sm:h-80 rounded-xl overflow-hidden border border-gray-200",children:i.jsxs("div",{"data-loc":"client/src/components/GoogleMap.tsx:66",className:"w-full h-full bg-gray-100 flex flex-col items-center justify-center text-gray-500 p-6 text-center",children:[i.jsx(Gt,{"data-loc":"client/src/components/GoogleMap.tsx:67",className:"h-12 w-12 mb-3 opacity-30"}),i.jsx("p",{"data-loc":"client/src/components/GoogleMap.tsx:68",className:"text-sm",children:"Map integration requires Google Maps API key"}),i.jsxs("a",{"data-loc":"client/src/components/GoogleMap.tsx:69",href:p,target:"_blank",rel:"noopener noreferrer",className:"mt-3 text-sm text-blue-600 hover:underline flex items-center gap-1",children:["View on Google Maps ",i.jsx(Wh,{"data-loc":"client/src/components/GoogleMap.tsx:75",className:"h-3 w-3"})]})]})}),i.jsxs("div",{"data-loc":"client/src/components/GoogleMap.tsx:82",className:"space-y-4",children:[r&&i.jsxs("div",{"data-loc":"client/src/components/GoogleMap.tsx:84",className:"space-y-3 animate-pulse",children:[i.jsx("div",{"data-loc":"client/src/components/GoogleMap.tsx:85",className:"h-4 bg-gray-200 rounded w-3/4"}),i.jsx("div",{"data-loc":"client/src/components/GoogleMap.tsx:86",className:"h-4 bg-gray-200 rounded w-1/2"})]}),!r&&t&&i.jsxs("div",{"data-loc":"client/src/components/GoogleMap.tsx:91",className:"space-y-3",children:[t.address&&i.jsxs("div",{"data-loc":"client/src/components/GoogleMap.tsx:94",className:"flex items-start gap-3",children:[i.jsx(Gt,{"data-loc":"client/src/components/GoogleMap.tsx:95",className:"h-5 w-5 text-gray-400 mt-0.5 flex-shrink-0"}),i.jsxs("div",{"data-loc":"client/src/components/GoogleMap.tsx:96",children:[i.jsx("p",{"data-loc":"client/src/components/GoogleMap.tsx:97",className:"font-medium text-sm text-gray-700",children:"Address"}),i.jsx("p",{"data-loc":"client/src/components/GoogleMap.tsx:98",className:"text-sm text-gray-600",children:t.address})]})]}),t.opening_hours&&i.jsxs("div",{"data-loc":"client/src/components/GoogleMap.tsx:105",className:"flex items-start gap-3",children:[i.jsx(Lm,{"data-loc":"client/src/components/GoogleMap.tsx:106",className:"h-5 w-5 text-gray-400 mt-0.5 flex-shrink-0"}),i.jsxs("div",{"data-loc":"client/src/components/GoogleMap.tsx:107",children:[i.jsx("p",{"data-loc":"client/src/components/GoogleMap.tsx:108",className:"font-medium text-sm text-gray-700",children:"Hours"}),i.jsx("p",{"data-loc":"client/src/components/GoogleMap.tsx:109",className:"text-sm",children:t.opening_hours.open_now?i.jsx("span",{"data-loc":"client/src/components/GoogleMap.tsx:111",className:"text-green-600 font-medium",children:"Open now"}):i.jsx("span",{"data-loc":"client/src/components/GoogleMap.tsx:113",className:"text-red-600 font-medium",children:"Closed"})}),t.opening_hours.weekday_text&&i.jsx("div",{"data-loc":"client/src/components/GoogleMap.tsx:117",className:"mt-1 space-y-0.5",children:t.opening_hours.weekday_text.map((m,y)=>i.jsx("p",{"data-loc":"client/src/components/GoogleMap.tsx:119",className:"text-xs text-gray-500",children:m},y))})]})]}),t.phone&&i.jsxs("div",{"data-loc":"client/src/components/GoogleMap.tsx:129",className:"flex items-start gap-3",children:[i.jsx(JD,{"data-loc":"client/src/components/GoogleMap.tsx:130",className:"h-5 w-5 text-gray-400 mt-0.5 flex-shrink-0"}),i.jsxs("div",{"data-loc":"client/src/components/GoogleMap.tsx:131",children:[i.jsx("p",{"data-loc":"client/src/components/GoogleMap.tsx:132",className:"font-medium text-sm text-gray-700",children:"Phone"}),i.jsx("a",{"data-loc":"client/src/components/GoogleMap.tsx:133",href:`tel:${t.phone}`,className:"text-sm text-blue-600 hover:underline",children:t.phone})]})]}),t.website&&i.jsxs("div",{"data-loc":"client/src/components/GoogleMap.tsx:145",className:"flex items-start gap-3",children:[i.jsx(ad,{"data-loc":"client/src/components/GoogleMap.tsx:146",className:"h-5 w-5 text-gray-400 mt-0.5 flex-shrink-0"}),i.jsxs("div",{"data-loc":"client/src/components/GoogleMap.tsx:147",children:[i.jsx("p",{"data-loc":"client/src/components/GoogleMap.tsx:148",className:"font-medium text-sm text-gray-700",children:"Website"}),i.jsxs("a",{"data-loc":"client/src/components/GoogleMap.tsx:149",href:t.website,target:"_blank",rel:"noopener noreferrer",className:"text-sm text-blue-600 hover:underline flex items-center gap-1",children:["Visit website ",i.jsx(Wh,{"data-loc":"client/src/components/GoogleMap.tsx:155",className:"h-3 w-3"})]})]})]}),t.rating&&i.jsxs("div",{"data-loc":"client/src/components/GoogleMap.tsx:163",className:"flex items-start gap-3",children:[i.jsx(cs,{"data-loc":"client/src/components/GoogleMap.tsx:164",className:"h-5 w-5 text-gray-400 mt-0.5 flex-shrink-0"}),i.jsxs("div",{"data-loc":"client/src/components/GoogleMap.tsx:165",children:[i.jsx("p",{"data-loc":"client/src/components/GoogleMap.tsx:166",className:"font-medium text-sm text-gray-700",children:"Google Rating"}),i.jsxs("div",{"data-loc":"client/src/components/GoogleMap.tsx:167",className:"flex items-center gap-2",children:[i.jsx("span",{"data-loc":"client/src/components/GoogleMap.tsx:168",className:"text-sm font-semibold text-gray-900",children:t.rating.toFixed(1)}),i.jsx("div",{"data-loc":"client/src/components/GoogleMap.tsx:169",className:"flex",children:[...Array(5)].map((m,y)=>i.jsx(cs,{"data-loc":"client/src/components/GoogleMap.tsx:171",className:`h-3.5 w-3.5 ${y<Math.floor(t.rating)?"text-yellow-400 fill-yellow-400":"text-gray-300"}`},y))}),t.user_ratings_total&&i.jsxs("span",{"data-loc":"client/src/components/GoogleMap.tsx:182",className:"text-xs text-gray-500",children:["(",t.user_ratings_total.toLocaleString()," reviews)"]})]})]})]}),t.price_level!==void 0&&t.price_level>0&&i.jsxs("div",{"data-loc":"client/src/components/GoogleMap.tsx:191",className:"flex items-start gap-3",children:[i.jsx(GD,{"data-loc":"client/src/components/GoogleMap.tsx:192",className:"h-5 w-5 text-gray-400 mt-0.5 flex-shrink-0"}),i.jsxs("div",{"data-loc":"client/src/components/GoogleMap.tsx:193",children:[i.jsx("p",{"data-loc":"client/src/components/GoogleMap.tsx:194",className:"font-medium text-sm text-gray-700",children:"Price Level"}),i.jsx("p",{"data-loc":"client/src/components/GoogleMap.tsx:195",className:"text-sm text-gray-600",children:"$".repeat(t.price_level)})]})]})]}),!r&&!t&&!c&&i.jsxs("div",{"data-loc":"client/src/components/GoogleMap.tsx:205",className:"flex items-start gap-3",children:[i.jsx(Gt,{"data-loc":"client/src/components/GoogleMap.tsx:206",className:"h-5 w-5 text-gray-400 mt-0.5 flex-shrink-0"}),i.jsxs("div",{"data-loc":"client/src/components/GoogleMap.tsx:207",children:[i.jsx("p",{"data-loc":"client/src/components/GoogleMap.tsx:208",className:"font-medium text-sm text-gray-700",children:"Location"}),i.jsx("p",{"data-loc":"client/src/components/GoogleMap.tsx:209",className:"text-sm text-gray-600",children:e.city})]})]}),i.jsxs("a",{"data-loc":"client/src/components/GoogleMap.tsx:215",href:t?.google_maps_url||p,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-2 px-4 py-2 bg-white border border-gray-300 rounded-lg text-sm font-medium text-gray-700 hover:bg-gray-50 transition-colors",children:[i.jsx(Wh,{"data-loc":"client/src/components/GoogleMap.tsx:221",className:"h-4 w-4"}),"Open in Google Maps"]})]})]})}function nd(){return localStorage.getItem("cookieConsent")==="accepted"}function w5(){let e=sessionStorage.getItem("analyticsSessionId");return e||(e=`session_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,sessionStorage.setItem("analyticsSessionId",e)),e}async function rd(){const{data:{session:e}}=await re.auth.getSession();return{userId:e?.user?.id||null,sessionId:w5()}}async function j5(e,t,a){if(nd())try{const{userId:r,sessionId:l}=await rd();await re.from("analytics_searches").insert({user_id:r,session_id:l,query:e.trim(),results_count:t,filters:a||{},timestamp:new Date().toISOString()})}catch(r){console.error("Analytics error:",r)}}async function S5(e,t,a){if(nd())try{const{userId:r,sessionId:l}=await rd();await re.from("analytics_destination_views").insert({user_id:r,session_id:l,destination_slug:e,destination_name:t,source:a||"direct",timestamp:new Date().toISOString()})}catch(r){console.error("Analytics error:",r)}}async function Yo(e,t,a){if(nd())try{const{userId:r,sessionId:l}=await rd();await re.from("analytics_actions").insert({user_id:r,session_id:l,action:e,target:t,metadata:a||{},timestamp:new Date().toISOString()})}catch(r){console.error("Analytics error:",r)}}async function _5(e,t,a){if(nd())try{const{userId:r,sessionId:l}=await rd();await re.from("analytics_clicks").insert({user_id:r,session_id:l,element:e,text:t,destination:a,timestamp:new Date().toISOString()})}catch(r){console.error("Analytics error:",r)}}async function N5(e=10,t=7){const a=new Date;a.setDate(a.getDate()-t);const{data:r,error:l}=await re.from("analytics_searches").select("query").gte("timestamp",a.toISOString()).order("timestamp",{ascending:!1});if(l||!r)return[];const c={};return r.forEach(d=>{const f=d.query.toLowerCase();c[f]=(c[f]||0)+1}),Object.entries(c).sort((d,f)=>f[1]-d[1]).slice(0,e).map(([d,f])=>({query:d,count:f}))}async function k5(e=20,t=7){const a=new Date;a.setDate(a.getDate()-t);const{data:r,error:l}=await re.from("analytics_searches").select("query, timestamp").eq("results_count",0).gte("timestamp",a.toISOString()).order("timestamp",{ascending:!1}).limit(e);return r||[]}async function E5(e=10,t=7){const a=new Date;a.setDate(a.getDate()-t);const{data:r,error:l}=await re.from("analytics_destination_views").select("destination_slug, destination_name").gte("timestamp",a.toISOString());if(l||!r)return[];const c={};return r.forEach(d=>{c[d.destination_slug]||(c[d.destination_slug]={name:d.destination_name,count:0}),c[d.destination_slug].count++}),Object.entries(c).sort((d,f)=>f[1].count-d[1].count).slice(0,e).map(([d,f])=>({slug:d,name:f.name,views:f.count}))}async function A5(e=7){const t=new Date;t.setDate(t.getDate()-e);const a=t.toISOString(),[r,l,c,d]=await Promise.all([re.from("analytics_page_views").select("*",{count:"exact",head:!0}).gte("timestamp",a),re.from("analytics_searches").select("*",{count:"exact",head:!0}).gte("timestamp",a),re.from("analytics_destination_views").select("*",{count:"exact",head:!0}).gte("timestamp",a),re.from("analytics_actions").select("*",{count:"exact",head:!0}).gte("timestamp",a)]);return{pageViews:r.count||0,searches:l.count||0,destinationViews:c.count||0,actions:d.count||0}}var Xh="focusScope.autoFocusOnMount",Jh="focusScope.autoFocusOnUnmount",Nb={bubbles:!1,cancelable:!0},C5="FocusScope",lj=j.forwardRef((e,t)=>{const{loop:a=!1,trapped:r=!1,onMountAutoFocus:l,onUnmountAutoFocus:c,...d}=e,[f,p]=j.useState(null),m=yr(l),y=yr(c),x=j.useRef(null),v=us(t,w=>p(w)),b=j.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;j.useEffect(()=>{if(r){let w=function(A){if(b.paused||!f)return;const I=A.target;f.contains(I)?x.current=I:vn(x.current,{select:!0})},_=function(A){if(b.paused||!f)return;const I=A.relatedTarget;I!==null&&(f.contains(I)||vn(x.current,{select:!0}))},E=function(A){if(document.activeElement===document.body)for(const M of A)M.removedNodes.length>0&&vn(f)};document.addEventListener("focusin",w),document.addEventListener("focusout",_);const T=new MutationObserver(E);return f&&T.observe(f,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",w),document.removeEventListener("focusout",_),T.disconnect()}}},[r,f,b.paused]),j.useEffect(()=>{if(f){Eb.add(b);const w=document.activeElement;if(!f.contains(w)){const E=new CustomEvent(Xh,Nb);f.addEventListener(Xh,m),f.dispatchEvent(E),E.defaultPrevented||(T5(M5(cj(f)),{select:!0}),document.activeElement===w&&vn(f))}return()=>{f.removeEventListener(Xh,m),setTimeout(()=>{const E=new CustomEvent(Jh,Nb);f.addEventListener(Jh,y),f.dispatchEvent(E),E.defaultPrevented||vn(w??document.body,{select:!0}),f.removeEventListener(Jh,y),Eb.remove(b)},0)}}},[f,m,y,b]);const N=j.useCallback(w=>{if(!a&&!r||b.paused)return;const _=w.key==="Tab"&&!w.altKey&&!w.ctrlKey&&!w.metaKey,E=document.activeElement;if(_&&E){const T=w.currentTarget,[A,I]=O5(T);A&&I?!w.shiftKey&&E===I?(w.preventDefault(),a&&vn(A,{select:!0})):w.shiftKey&&E===A&&(w.preventDefault(),a&&vn(I,{select:!0})):E===T&&w.preventDefault()}},[a,r,b.paused]);return i.jsx(ct.div,{tabIndex:-1,...d,ref:v,onKeyDown:N})});lj.displayName=C5;function T5(e,{select:t=!1}={}){const a=document.activeElement;for(const r of e)if(vn(r,{select:t}),document.activeElement!==a)return}function O5(e){const t=cj(e),a=kb(t,e),r=kb(t.reverse(),e);return[a,r]}function cj(e){const t=[],a=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const l=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||l?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;a.nextNode();)t.push(a.currentNode);return t}function kb(e,t){for(const a of e)if(!D5(a,{upTo:t}))return a}function D5(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function R5(e){return e instanceof HTMLInputElement&&"select"in e}function vn(e,{select:t=!1}={}){if(e&&e.focus){const a=document.activeElement;e.focus({preventScroll:!0}),e!==a&&R5(e)&&t&&e.select()}}var Eb=P5();function P5(){let e=[];return{add(t){const a=e[0];t!==a&&a?.pause(),e=Ab(e,t),e.unshift(t)},remove(t){e=Ab(e,t),e[0]?.resume()}}}function Ab(e,t){const a=[...e],r=a.indexOf(t);return r!==-1&&a.splice(r,1),a}function M5(e){return e.filter(t=>t.tagName!=="A")}var Zh=0;function L5(){j.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??Cb()),document.body.insertAdjacentElement("beforeend",e[1]??Cb()),Zh++,()=>{Zh===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),Zh--}},[])}function Cb(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var bu="right-scroll-bar-position",wu="width-before-scroll-bar",U5="with-scroll-bars-hidden",I5="--removed-body-scroll-bar-size";function ep(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function z5(e,t){var a=j.useState(function(){return{value:e,callback:t,facade:{get current(){return a.value},set current(r){var l=a.value;l!==r&&(a.value=r,a.callback(r,l))}}}})[0];return a.callback=t,a.facade}var q5=typeof window<"u"?j.useLayoutEffect:j.useEffect,Tb=new WeakMap;function B5(e,t){var a=z5(null,function(r){return e.forEach(function(l){return ep(l,r)})});return q5(function(){var r=Tb.get(a);if(r){var l=new Set(r),c=new Set(e),d=a.current;l.forEach(function(f){c.has(f)||ep(f,null)}),c.forEach(function(f){l.has(f)||ep(f,d)})}Tb.set(a,e)},[e]),a}function H5(e){return e}function $5(e,t){t===void 0&&(t=H5);var a=[],r=!1,l={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return a.length?a[a.length-1]:e},useMedium:function(c){var d=t(c,r);return a.push(d),function(){a=a.filter(function(f){return f!==d})}},assignSyncMedium:function(c){for(r=!0;a.length;){var d=a;a=[],d.forEach(c)}a={push:function(f){return c(f)},filter:function(){return a}}},assignMedium:function(c){r=!0;var d=[];if(a.length){var f=a;a=[],f.forEach(c),d=a}var p=function(){var y=d;d=[],y.forEach(c)},m=function(){return Promise.resolve().then(p)};m(),a={push:function(y){d.push(y),m()},filter:function(y){return d=d.filter(y),a}}}};return l}function F5(e){e===void 0&&(e={});var t=$5(null);return t.options=Ls({async:!0,ssr:!1},e),t}var uj=function(e){var t=e.sideCar,a=Dn(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=t.read();if(!r)throw new Error("Sidecar medium not found");return j.createElement(r,Ls({},a))};uj.isSideCarExport=!0;function G5(e,t){return e.useMedium(t),uj}var dj=F5(),tp=function(){},id=j.forwardRef(function(e,t){var a=j.useRef(null),r=j.useState({onScrollCapture:tp,onWheelCapture:tp,onTouchMoveCapture:tp}),l=r[0],c=r[1],d=e.forwardProps,f=e.children,p=e.className,m=e.removeScrollBar,y=e.enabled,x=e.shards,v=e.sideCar,b=e.noRelative,N=e.noIsolation,w=e.inert,_=e.allowPinchZoom,E=e.as,T=E===void 0?"div":E,A=e.gapMode,I=Dn(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),M=v,P=B5([a,t]),O=Ls(Ls({},I),l);return j.createElement(j.Fragment,null,y&&j.createElement(M,{sideCar:dj,removeScrollBar:m,shards:x,noRelative:b,noIsolation:N,inert:w,setCallbacks:c,allowPinchZoom:!!_,lockRef:a,gapMode:A}),d?j.cloneElement(j.Children.only(f),Ls(Ls({},O),{ref:P})):j.createElement(T,Ls({},O,{className:p,ref:P}),f))});id.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};id.classNames={fullWidth:wu,zeroRight:bu};var V5=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function Q5(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=V5();return t&&e.setAttribute("nonce",t),e}function Y5(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function K5(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var W5=function(){var e=0,t=null;return{add:function(a){e==0&&(t=Q5())&&(Y5(t,a),K5(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},X5=function(){var e=W5();return function(t,a){j.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&a])}},fj=function(){var e=X5(),t=function(a){var r=a.styles,l=a.dynamic;return e(r,l),null};return t},J5={left:0,top:0,right:0,gap:0},sp=function(e){return parseInt(e||"",10)||0},Z5=function(e){var t=window.getComputedStyle(document.body),a=t[e==="padding"?"paddingLeft":"marginLeft"],r=t[e==="padding"?"paddingTop":"marginTop"],l=t[e==="padding"?"paddingRight":"marginRight"];return[sp(a),sp(r),sp(l)]},e6=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return J5;var t=Z5(e),a=document.documentElement.clientWidth,r=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,r-a+t[2]-t[0])}},t6=fj(),Di="data-scroll-locked",s6=function(e,t,a,r){var l=e.left,c=e.top,d=e.right,f=e.gap;return a===void 0&&(a="margin"),`
  .`.concat(U5,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(f,"px ").concat(r,`;
  }
  body[`).concat(Di,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(r,";"),a==="margin"&&`
    padding-left: `.concat(l,`px;
    padding-top: `).concat(c,`px;
    padding-right: `).concat(d,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(f,"px ").concat(r,`;
    `),a==="padding"&&"padding-right: ".concat(f,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(bu,` {
    right: `).concat(f,"px ").concat(r,`;
  }
  
  .`).concat(wu,` {
    margin-right: `).concat(f,"px ").concat(r,`;
  }
  
  .`).concat(bu," .").concat(bu,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(wu," .").concat(wu,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(Di,`] {
    `).concat(I5,": ").concat(f,`px;
  }
`)},Ob=function(){var e=parseInt(document.body.getAttribute(Di)||"0",10);return isFinite(e)?e:0},a6=function(){j.useEffect(function(){return document.body.setAttribute(Di,(Ob()+1).toString()),function(){var e=Ob()-1;e<=0?document.body.removeAttribute(Di):document.body.setAttribute(Di,e.toString())}},[])},n6=function(e){var t=e.noRelative,a=e.noImportant,r=e.gapMode,l=r===void 0?"margin":r;a6();var c=j.useMemo(function(){return e6(l)},[l]);return j.createElement(t6,{styles:s6(c,!t,l,a?"":"!important")})},Xp=!1;if(typeof window<"u")try{var ou=Object.defineProperty({},"passive",{get:function(){return Xp=!0,!0}});window.addEventListener("test",ou,ou),window.removeEventListener("test",ou,ou)}catch{Xp=!1}var ji=Xp?{passive:!1}:!1,r6=function(e){return e.tagName==="TEXTAREA"},hj=function(e,t){if(!(e instanceof Element))return!1;var a=window.getComputedStyle(e);return a[t]!=="hidden"&&!(a.overflowY===a.overflowX&&!r6(e)&&a[t]==="visible")},i6=function(e){return hj(e,"overflowY")},o6=function(e){return hj(e,"overflowX")},Db=function(e,t){var a=t.ownerDocument,r=t;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var l=pj(e,r);if(l){var c=mj(e,r),d=c[1],f=c[2];if(d>f)return!0}r=r.parentNode}while(r&&r!==a.body);return!1},l6=function(e){var t=e.scrollTop,a=e.scrollHeight,r=e.clientHeight;return[t,a,r]},c6=function(e){var t=e.scrollLeft,a=e.scrollWidth,r=e.clientWidth;return[t,a,r]},pj=function(e,t){return e==="v"?i6(t):o6(t)},mj=function(e,t){return e==="v"?l6(t):c6(t)},u6=function(e,t){return e==="h"&&t==="rtl"?-1:1},d6=function(e,t,a,r,l){var c=u6(e,window.getComputedStyle(t).direction),d=c*r,f=a.target,p=t.contains(f),m=!1,y=d>0,x=0,v=0;do{if(!f)break;var b=mj(e,f),N=b[0],w=b[1],_=b[2],E=w-_-c*N;(N||E)&&pj(e,f)&&(x+=E,v+=N);var T=f.parentNode;f=T&&T.nodeType===Node.DOCUMENT_FRAGMENT_NODE?T.host:T}while(!p&&f!==document.body||p&&(t.contains(f)||t===f));return(y&&Math.abs(x)<1||!y&&Math.abs(v)<1)&&(m=!0),m},lu=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},Rb=function(e){return[e.deltaX,e.deltaY]},Pb=function(e){return e&&"current"in e?e.current:e},f6=function(e,t){return e[0]===t[0]&&e[1]===t[1]},h6=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},p6=0,Si=[];function m6(e){var t=j.useRef([]),a=j.useRef([0,0]),r=j.useRef(),l=j.useState(p6++)[0],c=j.useState(fj)[0],d=j.useRef(e);j.useEffect(function(){d.current=e},[e]),j.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(l));var w=Em([e.lockRef.current],(e.shards||[]).map(Pb),!0).filter(Boolean);return w.forEach(function(_){return _.classList.add("allow-interactivity-".concat(l))}),function(){document.body.classList.remove("block-interactivity-".concat(l)),w.forEach(function(_){return _.classList.remove("allow-interactivity-".concat(l))})}}},[e.inert,e.lockRef.current,e.shards]);var f=j.useCallback(function(w,_){if("touches"in w&&w.touches.length===2||w.type==="wheel"&&w.ctrlKey)return!d.current.allowPinchZoom;var E=lu(w),T=a.current,A="deltaX"in w?w.deltaX:T[0]-E[0],I="deltaY"in w?w.deltaY:T[1]-E[1],M,P=w.target,O=Math.abs(A)>Math.abs(I)?"h":"v";if("touches"in w&&O==="h"&&P.type==="range")return!1;var C=Db(O,P);if(!C)return!0;if(C?M=O:(M=O==="v"?"h":"v",C=Db(O,P)),!C)return!1;if(!r.current&&"changedTouches"in w&&(A||I)&&(r.current=M),!M)return!0;var z=r.current||M;return d6(z,_,w,z==="h"?A:I)},[]),p=j.useCallback(function(w){var _=w;if(!(!Si.length||Si[Si.length-1]!==c)){var E="deltaY"in _?Rb(_):lu(_),T=t.current.filter(function(M){return M.name===_.type&&(M.target===_.target||_.target===M.shadowParent)&&f6(M.delta,E)})[0];if(T&&T.should){_.cancelable&&_.preventDefault();return}if(!T){var A=(d.current.shards||[]).map(Pb).filter(Boolean).filter(function(M){return M.contains(_.target)}),I=A.length>0?f(_,A[0]):!d.current.noIsolation;I&&_.cancelable&&_.preventDefault()}}},[]),m=j.useCallback(function(w,_,E,T){var A={name:w,delta:_,target:E,should:T,shadowParent:g6(E)};t.current.push(A),setTimeout(function(){t.current=t.current.filter(function(I){return I!==A})},1)},[]),y=j.useCallback(function(w){a.current=lu(w),r.current=void 0},[]),x=j.useCallback(function(w){m(w.type,Rb(w),w.target,f(w,e.lockRef.current))},[]),v=j.useCallback(function(w){m(w.type,lu(w),w.target,f(w,e.lockRef.current))},[]);j.useEffect(function(){return Si.push(c),e.setCallbacks({onScrollCapture:x,onWheelCapture:x,onTouchMoveCapture:v}),document.addEventListener("wheel",p,ji),document.addEventListener("touchmove",p,ji),document.addEventListener("touchstart",y,ji),function(){Si=Si.filter(function(w){return w!==c}),document.removeEventListener("wheel",p,ji),document.removeEventListener("touchmove",p,ji),document.removeEventListener("touchstart",y,ji)}},[]);var b=e.removeScrollBar,N=e.inert;return j.createElement(j.Fragment,null,N?j.createElement(c,{styles:h6(l)}):null,b?j.createElement(n6,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}function g6(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const x6=G5(dj,m6);var gj=j.forwardRef(function(e,t){return j.createElement(id,Ls({},e,{ref:t,sideCar:x6}))});gj.classNames=id.classNames;var y6=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},_i=new WeakMap,cu=new WeakMap,uu={},ap=0,xj=function(e){return e&&(e.host||xj(e.parentNode))},v6=function(e,t){return t.map(function(a){if(e.contains(a))return a;var r=xj(a);return r&&e.contains(r)?r:(console.error("aria-hidden",a,"in not contained inside",e,". Doing nothing"),null)}).filter(function(a){return!!a})},b6=function(e,t,a,r){var l=v6(t,Array.isArray(e)?e:[e]);uu[a]||(uu[a]=new WeakMap);var c=uu[a],d=[],f=new Set,p=new Set(l),m=function(x){!x||f.has(x)||(f.add(x),m(x.parentNode))};l.forEach(m);var y=function(x){!x||p.has(x)||Array.prototype.forEach.call(x.children,function(v){if(f.has(v))y(v);else try{var b=v.getAttribute(r),N=b!==null&&b!=="false",w=(_i.get(v)||0)+1,_=(c.get(v)||0)+1;_i.set(v,w),c.set(v,_),d.push(v),w===1&&N&&cu.set(v,!0),_===1&&v.setAttribute(a,"true"),N||v.setAttribute(r,"true")}catch(E){console.error("aria-hidden: cannot operate on ",v,E)}})};return y(t),f.clear(),ap++,function(){d.forEach(function(x){var v=_i.get(x)-1,b=c.get(x)-1;_i.set(x,v),c.set(x,b),v||(cu.has(x)||x.removeAttribute(r),cu.delete(x)),b||x.removeAttribute(a)}),ap--,ap||(_i=new WeakMap,_i=new WeakMap,cu=new WeakMap,uu={})}},w6=function(e,t,a){a===void 0&&(a="data-aria-hidden");var r=Array.from(Array.isArray(e)?e:[e]),l=y6(e);return l?(r.push.apply(r,Array.from(l.querySelectorAll("[aria-live], script"))),b6(r,l,a,"aria-hidden")):function(){return null}},od="Dialog",[yj]=qi(od),[j6,Ws]=yj(od),vj=e=>{const{__scopeDialog:t,children:a,open:r,defaultOpen:l,onOpenChange:c,modal:d=!0}=e,f=j.useRef(null),p=j.useRef(null),[m,y]=bm({prop:r,defaultProp:l??!1,onChange:c,caller:od});return i.jsx(j6,{scope:t,triggerRef:f,contentRef:p,contentId:el(),titleId:el(),descriptionId:el(),open:m,onOpenChange:y,onOpenToggle:j.useCallback(()=>y(x=>!x),[y]),modal:d,children:a})};vj.displayName=od;var bj="DialogTrigger",wj=j.forwardRef((e,t)=>{const{__scopeDialog:a,...r}=e,l=Ws(bj,a),c=us(t,l.triggerRef);return i.jsx(ct.button,{type:"button","aria-haspopup":"dialog","aria-expanded":l.open,"aria-controls":l.contentId,"data-state":Bm(l.open),...r,ref:c,onClick:rt(e.onClick,l.onOpenToggle)})});wj.displayName=bj;var zm="DialogPortal",[S6,jj]=yj(zm,{forceMount:void 0}),Sj=e=>{const{__scopeDialog:t,forceMount:a,children:r,container:l}=e,c=Ws(zm,t);return i.jsx(S6,{scope:t,forceMount:a,children:j.Children.map(r,d=>i.jsx($i,{present:a||c.open,children:i.jsx(P1,{asChild:!0,container:l,children:d})}))})};Sj.displayName=zm;var Pu="DialogOverlay",_j=j.forwardRef((e,t)=>{const a=jj(Pu,e.__scopeDialog),{forceMount:r=a.forceMount,...l}=e,c=Ws(Pu,e.__scopeDialog);return c.modal?i.jsx($i,{present:r||c.open,children:i.jsx(N6,{...l,ref:t})}):null});_j.displayName=Pu;var _6=cl("DialogOverlay.RemoveScroll"),N6=j.forwardRef((e,t)=>{const{__scopeDialog:a,...r}=e,l=Ws(Pu,a);return i.jsx(gj,{as:_6,allowPinchZoom:!0,shards:[l.contentRef],children:i.jsx(ct.div,{"data-state":Bm(l.open),...r,ref:t,style:{pointerEvents:"auto",...r.style}})})}),br="DialogContent",Nj=j.forwardRef((e,t)=>{const a=jj(br,e.__scopeDialog),{forceMount:r=a.forceMount,...l}=e,c=Ws(br,e.__scopeDialog);return i.jsx($i,{present:r||c.open,children:c.modal?i.jsx(k6,{...l,ref:t}):i.jsx(E6,{...l,ref:t})})});Nj.displayName=br;var k6=j.forwardRef((e,t)=>{const a=Ws(br,e.__scopeDialog),r=j.useRef(null),l=us(t,a.contentRef,r);return j.useEffect(()=>{const c=r.current;if(c)return w6(c)},[]),i.jsx(kj,{...e,ref:l,trapFocus:a.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:rt(e.onCloseAutoFocus,c=>{c.preventDefault(),a.triggerRef.current?.focus()}),onPointerDownOutside:rt(e.onPointerDownOutside,c=>{const d=c.detail.originalEvent,f=d.button===0&&d.ctrlKey===!0;(d.button===2||f)&&c.preventDefault()}),onFocusOutside:rt(e.onFocusOutside,c=>c.preventDefault())})}),E6=j.forwardRef((e,t)=>{const a=Ws(br,e.__scopeDialog),r=j.useRef(!1),l=j.useRef(!1);return i.jsx(kj,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:c=>{e.onCloseAutoFocus?.(c),c.defaultPrevented||(r.current||a.triggerRef.current?.focus(),c.preventDefault()),r.current=!1,l.current=!1},onInteractOutside:c=>{e.onInteractOutside?.(c),c.defaultPrevented||(r.current=!0,c.detail.originalEvent.type==="pointerdown"&&(l.current=!0));const d=c.target;a.triggerRef.current?.contains(d)&&c.preventDefault(),c.detail.originalEvent.type==="focusin"&&l.current&&c.preventDefault()}})}),kj=j.forwardRef((e,t)=>{const{__scopeDialog:a,trapFocus:r,onOpenAutoFocus:l,onCloseAutoFocus:c,...d}=e,f=Ws(br,a),p=j.useRef(null),m=us(t,p);return L5(),i.jsxs(i.Fragment,{children:[i.jsx(lj,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:l,onUnmountAutoFocus:c,children:i.jsx(fm,{role:"dialog",id:f.contentId,"aria-describedby":f.descriptionId,"aria-labelledby":f.titleId,"data-state":Bm(f.open),...d,ref:m,onDismiss:()=>f.onOpenChange(!1)})}),i.jsxs(i.Fragment,{children:[i.jsx(A6,{titleId:f.titleId}),i.jsx(T6,{contentRef:p,descriptionId:f.descriptionId})]})]})}),qm="DialogTitle",Ej=j.forwardRef((e,t)=>{const{__scopeDialog:a,...r}=e,l=Ws(qm,a);return i.jsx(ct.h2,{id:l.titleId,...r,ref:t})});Ej.displayName=qm;var Aj="DialogDescription",Cj=j.forwardRef((e,t)=>{const{__scopeDialog:a,...r}=e,l=Ws(Aj,a);return i.jsx(ct.p,{id:l.descriptionId,...r,ref:t})});Cj.displayName=Aj;var Tj="DialogClose",Oj=j.forwardRef((e,t)=>{const{__scopeDialog:a,...r}=e,l=Ws(Tj,a);return i.jsx(ct.button,{type:"button",...r,ref:t,onClick:rt(e.onClick,()=>l.onOpenChange(!1))})});Oj.displayName=Tj;function Bm(e){return e?"open":"closed"}var Dj="DialogTitleWarning",[LP,Rj]=VA(Dj,{contentName:br,titleName:qm,docsSlug:"dialog"}),A6=({titleId:e})=>{const t=Rj(Dj),a=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return j.useEffect(()=>{e&&(document.getElementById(e)||console.error(a))},[a,e]),null},C6="DialogDescriptionWarning",T6=({contentRef:e,descriptionId:t})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${Rj(C6).contentName}}.`;return j.useEffect(()=>{const l=e.current?.getAttribute("aria-describedby");t&&l&&(document.getElementById(t)||console.warn(r))},[r,e,t]),null},O6=vj,D6=wj,R6=Sj,P6=_j,M6=Nj,L6=Ej,U6=Cj,I6=Oj;const Pj=j.createContext({isComposing:()=>!1,setComposing:()=>{},justEndedComposing:()=>!1,markCompositionEnd:()=>{}}),Hm=()=>j.useContext(Pj);function $m({...e}){const t=j.useRef(!1),a=j.useRef(!1),r=j.useRef(null),l=j.useMemo(()=>({isComposing:()=>t.current,setComposing:c=>{t.current=c},justEndedComposing:()=>a.current,markCompositionEnd:()=>{a.current=!0,r.current&&clearTimeout(r.current),r.current=setTimeout(()=>{a.current=!1},150)}}),[]);return i.jsx(Pj.Provider,{"data-loc":"client/src/components/ui/dialog.tsx:50",value:l,children:i.jsx(O6,{"data-loc":"client/src/components/ui/dialog.tsx:51","data-slot":"dialog",...e})})}function z6({...e}){return i.jsx(D6,{"data-loc":"client/src/components/ui/dialog.tsx:59","data-slot":"dialog-trigger",...e})}function q6({...e}){return i.jsx(R6,{"data-loc":"client/src/components/ui/dialog.tsx:65","data-slot":"dialog-portal",...e})}function Mj({className:e,...t}){return i.jsx(P6,{"data-loc":"client/src/components/ui/dialog.tsx:79","data-slot":"dialog-overlay",className:Ye("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",e),...t})}Mj.displayName="DialogOverlay";function Fm({className:e,children:t,showCloseButton:a=!0,onEscapeKeyDown:r,...l}){const{isComposing:c}=Hm(),d=j.useCallback(f=>{if(f.isComposing||c()){f.preventDefault();return}r?.(f)},[c,r]);return i.jsxs(q6,{"data-loc":"client/src/components/ui/dialog.tsx:122","data-slot":"dialog-portal",children:[i.jsx(Mj,{"data-loc":"client/src/components/ui/dialog.tsx:123"}),i.jsxs(M6,{"data-loc":"client/src/components/ui/dialog.tsx:124","data-slot":"dialog-content",className:Ye("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",e),onEscapeKeyDown:d,...l,children:[t,a&&i.jsxs(I6,{"data-loc":"client/src/components/ui/dialog.tsx:135","data-slot":"dialog-close",className:"ring-offset-background focus:ring-ring data-[state=open]:bg-accent data-[state=open]:text-muted-foreground absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",children:[i.jsx(ua,{"data-loc":"client/src/components/ui/dialog.tsx:139"}),i.jsx("span",{"data-loc":"client/src/components/ui/dialog.tsx:140",className:"sr-only",children:"Close"})]})]})]})}function Gm({className:e,...t}){return i.jsx("div",{"data-loc":"client/src/components/ui/dialog.tsx:150","data-slot":"dialog-header",className:Ye("flex flex-col gap-2 text-center sm:text-left",e),...t})}function Vm({className:e,...t}){return i.jsx("div",{"data-loc":"client/src/components/ui/dialog.tsx:160","data-slot":"dialog-footer",className:Ye("flex flex-col-reverse gap-2 sm:flex-row sm:justify-end",e),...t})}function Qm({className:e,...t}){return i.jsx(L6,{"data-loc":"client/src/components/ui/dialog.tsx:176","data-slot":"dialog-title",className:Ye("text-lg leading-none font-semibold",e),...t})}function Ym({className:e,...t}){return i.jsx(U6,{"data-loc":"client/src/components/ui/dialog.tsx:189","data-slot":"dialog-description",className:Ye("text-muted-foreground text-sm",e),...t})}var B6="Label",Lj=j.forwardRef((e,t)=>i.jsx(ct.label,{...e,ref:t,onMouseDown:a=>{a.target.closest("button, input, select, textarea")||(e.onMouseDown?.(a),!a.defaultPrevented&&a.detail>1&&a.preventDefault())}}));Lj.displayName=B6;var H6=Lj;function pt({className:e,...t}){return i.jsx(H6,{"data-loc":"client/src/components/ui/label.tsx:11","data-slot":"label",className:Ye("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",e),...t})}function du(e){const t=j.useRef(e);t.current=e;const a=j.useRef(null);return a.current||(a.current=function(...r){return t.current.apply(this,r)}),a.current}function Uj(e={}){const{onKeyDown:t,onCompositionStart:a,onCompositionEnd:r}=e,l=j.useRef(!1),c=j.useRef(null),d=j.useRef(null),f=du(x=>{c.current&&(clearTimeout(c.current),c.current=null),d.current&&(clearTimeout(d.current),d.current=null),l.current=!0,a?.(x)}),p=du(x=>{c.current=setTimeout(()=>{d.current=setTimeout(()=>{l.current=!1})}),r?.(x)}),m=du(x=>{if(l.current&&(x.key==="Escape"||x.key==="Enter"&&!x.shiftKey)){x.stopPropagation();return}t?.(x)}),y=du(()=>l.current);return{onCompositionStart:f,onCompositionEnd:p,onKeyDown:m,isComposing:y}}function wt({className:e,type:t,onKeyDown:a,onCompositionStart:r,onCompositionEnd:l,...c}){const d=Hm(),{onCompositionStart:f,onCompositionEnd:p,onKeyDown:m}=Uj({onKeyDown:y=>{const x=y.nativeEvent.isComposing||d.justEndedComposing();y.key==="Enter"&&x||a?.(y)},onCompositionStart:y=>{d.setComposing(!0),r?.(y)},onCompositionEnd:y=>{d.markCompositionEnd(),setTimeout(()=>{d.setComposing(!1)},100),l?.(y)}});return i.jsx("input",{"data-loc":"client/src/components/ui/input.tsx:53",type:t,"data-slot":"input",className:Ye("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",e),onCompositionStart:f,onCompositionEnd:p,onKeyDown:m,...c})}function Mb(e){return e.split("-").map(t=>t.charAt(0).toUpperCase()+t.slice(1)).join(" ")}const Lb={Hotel:"bg-gray-100 dark:bg-gray-800 text-black dark:text-white",Restaurant:"bg-gray-100 dark:bg-gray-800 text-black dark:text-white",Cafe:"bg-gray-100 dark:bg-gray-800 text-black dark:text-white",Bar:"bg-gray-100 dark:bg-gray-800 text-black dark:text-white",Museum:"bg-gray-100 dark:bg-gray-800 text-black dark:text-white",Gallery:"bg-gray-100 dark:bg-gray-800 text-black dark:text-white",Shop:"bg-gray-100 dark:bg-gray-800 text-black dark:text-white",Park:"bg-gray-100 dark:bg-gray-800 text-black dark:text-white",default:"bg-gray-100 dark:bg-gray-800 text-black dark:text-white"};function Nr({destination:e,isOpen:t,onClose:a,onSaveToggle:r,onVisitToggle:l}){const[c,d]=j.useState(!1),[f,p]=j.useState(null),[m,y]=j.useState(!1),[x,v]=j.useState(!1),[b,N]=j.useState(!1),[w,_]=j.useState(!1),[E,T]=j.useState(null),[A,I]=j.useState(1),{data:M}=Ut.trips.list.useQuery(void 0,{enabled:!!f}),P=Ut.trips.addItem.useMutation({onSuccess:()=>{le.success("Added to trip!"),_(!1),T(null)},onError:B=>{le.error(`Failed to add to trip: ${B.message}`)}});j.useEffect(()=>{async function B(){const{data:{session:se}}=await re.auth.getSession();p(se?.user||null)}B()},[]),j.useEffect(()=>{e&&t&&S5(e.slug,e.name);async function B(){if(!f||!e)return;const{data:se}=await re.from("saved_places").select("*").eq("user_id",f.id).eq("destination_slug",e.slug).single();y(!!se);const{data:R}=await re.from("visited_places").select("*").eq("user_id",f.id).eq("destination_slug",e.slug).single();v(!!R)}B()},[f,e]);const O=async()=>{if(!e)return;const B=`${window.location.origin}?place=${e.slug}`;try{await navigator.clipboard.writeText(B),d(!0),le.success("Link copied to clipboard!"),Yo("share",e.slug,{name:e.name,method:"clipboard"}),setTimeout(()=>d(!1),2e3)}catch{le.error("Failed to copy link")}},C=async()=>{if(!f){le.error("Please sign in to save destinations");return}if(!e)return;const B=m,se=!m;y(se),r?.(e.slug,se);try{if(B){const{error:R}=await re.from("saved_places").delete().eq("user_id",f.id).eq("destination_slug",e.slug);if(R)throw R;le.success("Removed from saved"),Yo("unsave",e.slug,{name:e.name})}else{const{error:R}=await re.from("saved_places").insert({user_id:f.id,destination_slug:e.slug,saved_at:new Date().toISOString()});if(R)throw R;le.success("Saved to your collection"),Yo("save",e.slug,{name:e.name})}}catch{y(B),r?.(e.slug,B),le.error(B?"Failed to remove from saved":"Failed to save destination")}},z=async()=>{if(!f){le.error("Please sign in to mark as visited");return}if(!e)return;const B=x,se=!x;v(se),l?.(e.slug,se);try{if(B){const{error:R}=await re.from("visited_places").delete().eq("user_id",f.id).eq("destination_slug",e.slug);if(R)throw R;le.success("Removed from visited"),Yo("unvisit",e.slug,{name:e.name})}else{const{error:R}=await re.from("visited_places").insert({user_id:f.id,destination_slug:e.slug,visited_at:new Date().toISOString()});if(R)throw R;le.success("Marked as visited!"),Yo("visit",e.slug,{name:e.name})}}catch{v(B),l?.(e.slug,B),le.error(B?"Failed to remove from visited":"Failed to mark as visited")}},G=()=>{if(!f){le.error("Please sign in to add to trip");return}if(!E){le.error("Please select a trip");return}e&&P.mutate({tripId:E,destinationSlug:e.slug,day:A,orderIndex:0,title:e.name,description:e.content||"",time:""})};if(!e)return null;const X=Lb[e.category]||Lb.default;return i.jsxs(i.Fragment,{children:[i.jsx("div",{"data-loc":"client/src/components/DestinationDrawer.tsx:251",className:`fixed inset-0 bg-black transition-opacity duration-500 ease-out z-40 ${t?"opacity-50":"opacity-0 pointer-events-none"}`,onClick:a}),i.jsx("div",{"data-loc":"client/src/components/DestinationDrawer.tsx:259",className:`fixed top-0 right-0 h-full bg-white dark:bg-gray-950 shadow-xl transition-all duration-500 ease-out z-50 ${t?"translate-x-0":"translate-x-full"} ${b?"w-full":"w-full sm:w-[600px]"}`,children:i.jsxs("div",{"data-loc":"client/src/components/DestinationDrawer.tsx:264",className:"h-full overflow-y-auto",children:[i.jsxs("div",{"data-loc":"client/src/components/DestinationDrawer.tsx:266",className:"sticky top-0 bg-white dark:bg-gray-950 z-10 flex justify-between items-center px-8 py-6 border-b border-gray-200 dark:border-gray-800",children:[i.jsx("button",{"data-loc":"client/src/components/DestinationDrawer.tsx:267",onClick:()=>N(!b),className:"hidden md:block p-2 hover:bg-gray-100 dark:hover:bg-gray-800 rounded-full transition-colors dark:text-white","aria-label":b?"Collapse":"Expand",children:b?i.jsx(aj,{"data-loc":"client/src/components/DestinationDrawer.tsx:272",className:"h-5 w-5"}):i.jsx(YD,{"data-loc":"client/src/components/DestinationDrawer.tsx:272",className:"h-5 w-5"})}),i.jsx("button",{"data-loc":"client/src/components/DestinationDrawer.tsx:274",onClick:a,className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-800 rounded-full transition-colors dark:text-white","aria-label":"Close",children:i.jsx(ua,{"data-loc":"client/src/components/DestinationDrawer.tsx:279",className:"h-5 w-5"})})]}),b?i.jsxs("div",{"data-loc":"client/src/components/DestinationDrawer.tsx:286",className:"grid grid-cols-1 lg:grid-cols-2 gap-0 min-h-[calc(100vh-80px)]",children:[i.jsxs("div",{"data-loc":"client/src/components/DestinationDrawer.tsx:288",className:"px-12 py-16 bg-gray-50 dark:bg-gray-900",children:[i.jsx("h1",{"data-loc":"client/src/components/DestinationDrawer.tsx:289",className:"text-4xl lg:text-5xl font-normal mb-12 text-black dark:text-white",children:e.name}),i.jsxs("div",{"data-loc":"client/src/components/DestinationDrawer.tsx:292",className:"space-y-8",children:[i.jsxs("div",{"data-loc":"client/src/components/DestinationDrawer.tsx:294",children:[i.jsx("div",{"data-loc":"client/src/components/DestinationDrawer.tsx:295",className:"text-xs uppercase tracking-wider text-gray-500 dark:text-gray-400 mb-2",children:"Category"}),i.jsx("div",{"data-loc":"client/src/components/DestinationDrawer.tsx:296",className:"text-base text-black dark:text-white",children:e.category})]}),i.jsxs("div",{"data-loc":"client/src/components/DestinationDrawer.tsx:300",children:[i.jsx("div",{"data-loc":"client/src/components/DestinationDrawer.tsx:301",className:"text-xs uppercase tracking-wider text-gray-500 dark:text-gray-400 mb-2",children:"Location"}),i.jsx("div",{"data-loc":"client/src/components/DestinationDrawer.tsx:302",className:"text-base text-black dark:text-white",children:Mb(e.city)})]}),e.michelinStars>0&&i.jsxs("div",{"data-loc":"client/src/components/DestinationDrawer.tsx:307",children:[i.jsx("div",{"data-loc":"client/src/components/DestinationDrawer.tsx:308",className:"text-xs uppercase tracking-wider text-gray-500 dark:text-gray-400 mb-2",children:"Michelin Stars"}),i.jsx("div",{"data-loc":"client/src/components/DestinationDrawer.tsx:309",className:"flex items-center gap-2",children:[...Array(e.michelinStars)].map((B,se)=>i.jsx("img",{"data-loc":"client/src/components/DestinationDrawer.tsx:311",src:"https://guide.michelin.com/assets/images/icons/1star-1f2c04d7e6738e8a3312c9cda4b64fd0.svg",alt:`Michelin Star ${se+1}`,className:"h-5 w-5",loading:"lazy"},se))})]}),f&&i.jsxs("div",{"data-loc":"client/src/components/DestinationDrawer.tsx:325",children:[i.jsx("div",{"data-loc":"client/src/components/DestinationDrawer.tsx:326",className:"text-xs uppercase tracking-wider text-gray-500 dark:text-gray-400 mb-3",children:"Actions"}),i.jsxs("div",{"data-loc":"client/src/components/DestinationDrawer.tsx:327",className:"flex flex-wrap gap-3",children:[i.jsxs("button",{"data-loc":"client/src/components/DestinationDrawer.tsx:328",onClick:C,className:`flex items-center gap-2 px-4 py-2 text-sm border transition-colors ${m?"bg-black dark:bg-white text-white dark:text-black border-black dark:border-white":"bg-white dark:bg-gray-900 text-black dark:text-white border-gray-300 dark:border-gray-700 hover:border-black dark:hover:border-white"}`,children:[i.jsx(Us,{"data-loc":"client/src/components/DestinationDrawer.tsx:336",className:`h-4 w-4 ${m?"fill-current":""}`}),i.jsx("span",{"data-loc":"client/src/components/DestinationDrawer.tsx:337",children:m?"Saved":"Save"})]}),i.jsxs("button",{"data-loc":"client/src/components/DestinationDrawer.tsx:340",onClick:z,className:`flex items-center gap-2 px-4 py-2 text-sm border transition-colors ${x?"bg-black dark:bg-white text-white dark:text-black border-black dark:border-white":"bg-white dark:bg-gray-900 text-black dark:text-white border-gray-300 dark:border-gray-700 hover:border-black dark:hover:border-white"}`,children:[i.jsx(ml,{"data-loc":"client/src/components/DestinationDrawer.tsx:348",className:`h-4 w-4 ${x?"fill-current":""}`}),i.jsx("span",{"data-loc":"client/src/components/DestinationDrawer.tsx:349",children:x?"Visited":"Mark as Visited"})]}),i.jsxs("button",{"data-loc":"client/src/components/DestinationDrawer.tsx:352",onClick:()=>_(!0),className:"flex items-center gap-2 px-4 py-2 text-sm border bg-white dark:bg-gray-900 text-black dark:text-white border-gray-300 dark:border-gray-700 hover:border-black dark:hover:border-white transition-colors",children:[i.jsx(Cn,{"data-loc":"client/src/components/DestinationDrawer.tsx:356",className:"h-4 w-4"}),i.jsx("span",{"data-loc":"client/src/components/DestinationDrawer.tsx:357",children:"Add to Trip"})]})]})]}),i.jsx("div",{"data-loc":"client/src/components/DestinationDrawer.tsx:364",children:i.jsxs("a",{"data-loc":"client/src/components/DestinationDrawer.tsx:365",href:`https://www.google.com/maps/search/?api=1&query=${encodeURIComponent(e.name+" "+e.city)}`,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-2 px-4 py-2 text-sm bg-gray-100 dark:bg-gray-800 hover:bg-gray-200 dark:hover:bg-gray-700 transition-colors text-black dark:text-white",children:[i.jsx(Yp,{"data-loc":"client/src/components/DestinationDrawer.tsx:371",className:"h-4 w-4"}),i.jsx("span",{"data-loc":"client/src/components/DestinationDrawer.tsx:372",children:"Directions"})]})}),i.jsx("div",{"data-loc":"client/src/components/DestinationDrawer.tsx:377",children:i.jsxs("button",{"data-loc":"client/src/components/DestinationDrawer.tsx:378",onClick:O,className:"inline-flex items-center gap-2 px-4 py-2 text-sm bg-gray-100 dark:bg-gray-800 hover:bg-gray-200 dark:hover:bg-gray-700 transition-colors text-black dark:text-white",children:[i.jsx(Kp,{"data-loc":"client/src/components/DestinationDrawer.tsx:382",className:"h-4 w-4"}),i.jsx("span",{"data-loc":"client/src/components/DestinationDrawer.tsx:383",children:c?"Copied!":"Share"})]})})]})]}),i.jsxs("div",{"data-loc":"client/src/components/DestinationDrawer.tsx:390",className:"flex flex-col",children:[i.jsx("div",{"data-loc":"client/src/components/DestinationDrawer.tsx:392",className:"w-full aspect-square max-h-[60vh]",children:i.jsx("img",{"data-loc":"client/src/components/DestinationDrawer.tsx:393",src:e.mainImage,alt:e.name,className:"w-full h-full object-cover",loading:"lazy"})}),i.jsxs("div",{"data-loc":"client/src/components/DestinationDrawer.tsx:402",className:"px-12 py-16",children:[e.content&&i.jsx("p",{"data-loc":"client/src/components/DestinationDrawer.tsx:404",className:"text-lg lg:text-xl leading-relaxed text-gray-700 dark:text-gray-300",children:e.content.replace(/<[^>]*>/g,"")}),i.jsxs("div",{"data-loc":"client/src/components/DestinationDrawer.tsx:410",className:"mt-16",children:[i.jsx("div",{"data-loc":"client/src/components/DestinationDrawer.tsx:411",className:"text-xs uppercase tracking-wider text-gray-500 dark:text-gray-400 mb-4",children:"Location"}),i.jsx(Wp,{"data-loc":"client/src/components/DestinationDrawer.tsx:412",destination:e})]})]})]})]}):i.jsxs("div",{"data-loc":"client/src/components/DestinationDrawer.tsx:419",className:"px-8 py-12",children:[i.jsx("div",{"data-loc":"client/src/components/DestinationDrawer.tsx:421",className:"w-full aspect-square max-h-[60vh] mb-8",children:i.jsx("img",{"data-loc":"client/src/components/DestinationDrawer.tsx:422",src:e.mainImage,alt:e.name,className:"w-full h-full object-cover",loading:"lazy"})}),i.jsx("h1",{"data-loc":"client/src/components/DestinationDrawer.tsx:431",className:"text-3xl sm:text-4xl font-normal mb-4 text-black dark:text-white",children:e.name}),i.jsxs("div",{"data-loc":"client/src/components/DestinationDrawer.tsx:433",className:"flex items-center gap-3 mb-6",children:[i.jsx("span",{"data-loc":"client/src/components/DestinationDrawer.tsx:434",className:`px-3 py-1 text-xs font-medium ${X}`,children:e.category}),i.jsx("span",{"data-loc":"client/src/components/DestinationDrawer.tsx:437",className:"text-base text-gray-600 dark:text-gray-400",children:Mb(e.city)})]}),f&&i.jsxs("div",{"data-loc":"client/src/components/DestinationDrawer.tsx:442",className:"flex flex-wrap gap-3 mb-8",children:[i.jsxs("button",{"data-loc":"client/src/components/DestinationDrawer.tsx:443",onClick:C,className:`flex items-center gap-2 px-4 py-2 text-sm border transition-colors ${m?"bg-black dark:bg-white text-white dark:text-black border-black dark:border-white":"bg-white dark:bg-gray-900 text-black dark:text-white border-gray-300 dark:border-gray-700 hover:border-black dark:hover:border-white"}`,children:[i.jsx(Us,{"data-loc":"client/src/components/DestinationDrawer.tsx:451",className:`h-4 w-4 ${m?"fill-current":""}`}),i.jsx("span",{"data-loc":"client/src/components/DestinationDrawer.tsx:452",children:m?"Saved":"Save"})]}),i.jsxs("button",{"data-loc":"client/src/components/DestinationDrawer.tsx:455",onClick:z,className:`flex items-center gap-2 px-4 py-2 text-sm border transition-colors ${x?"bg-black dark:bg-white text-white dark:text-black border-black dark:border-white":"bg-white dark:bg-gray-900 text-black dark:text-white border-gray-300 dark:border-gray-700 hover:border-black dark:hover:border-white"}`,children:[i.jsx(ml,{"data-loc":"client/src/components/DestinationDrawer.tsx:463",className:`h-4 w-4 ${x?"fill-current":""}`}),i.jsx("span",{"data-loc":"client/src/components/DestinationDrawer.tsx:464",children:x?"Visited":"Mark as Visited"})]}),i.jsxs("button",{"data-loc":"client/src/components/DestinationDrawer.tsx:467",onClick:()=>_(!0),className:"flex items-center gap-2 px-4 py-2 text-sm border bg-white dark:bg-gray-900 text-black dark:text-white border-gray-300 dark:border-gray-700 hover:border-black dark:hover:border-white transition-colors",children:[i.jsx(Cn,{"data-loc":"client/src/components/DestinationDrawer.tsx:471",className:"h-4 w-4"}),i.jsx("span",{"data-loc":"client/src/components/DestinationDrawer.tsx:472",children:"Add to Trip"})]})]}),i.jsx("div",{"data-loc":"client/src/components/DestinationDrawer.tsx:478",className:"mb-12",children:i.jsxs("a",{"data-loc":"client/src/components/DestinationDrawer.tsx:479",href:`https://www.google.com/maps/search/?api=1&query=${encodeURIComponent(e.name+" "+e.city)}`,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-2 px-4 py-2 text-sm bg-gray-100 dark:bg-gray-800 hover:bg-gray-200 dark:hover:bg-gray-700 transition-colors text-black dark:text-white",children:[i.jsx(Yp,{"data-loc":"client/src/components/DestinationDrawer.tsx:485",className:"h-4 w-4"}),i.jsx("span",{"data-loc":"client/src/components/DestinationDrawer.tsx:486",children:"Directions"})]})}),e.michelinStars>0&&i.jsx("div",{"data-loc":"client/src/components/DestinationDrawer.tsx:492",className:"mb-12",children:i.jsx("div",{"data-loc":"client/src/components/DestinationDrawer.tsx:493",className:"flex items-center gap-2",children:[...Array(e.michelinStars)].map((B,se)=>i.jsx("img",{"data-loc":"client/src/components/DestinationDrawer.tsx:495",src:"https://guide.michelin.com/assets/images/icons/1star-1f2c04d7e6738e8a3312c9cda4b64fd0.svg",alt:`Michelin Star ${se+1}`,className:"h-6 w-6",loading:"lazy"},se))})}),e.content&&i.jsxs(i.Fragment,{children:[i.jsx("h2",{"data-loc":"client/src/components/DestinationDrawer.tsx:510",className:"text-lg font-normal mb-6 text-black dark:text-white",children:"About"}),i.jsx("div",{"data-loc":"client/src/components/DestinationDrawer.tsx:511",className:"mb-12",children:i.jsx("p",{"data-loc":"client/src/components/DestinationDrawer.tsx:512",className:"text-base text-gray-700 dark:text-gray-300 leading-relaxed",children:e.content.replace(/<[^>]*>/g,"")})})]}),i.jsx("div",{"data-loc":"client/src/components/DestinationDrawer.tsx:520",className:"border-t border-gray-200 dark:border-gray-800 my-12"}),i.jsxs("div",{"data-loc":"client/src/components/DestinationDrawer.tsx:523",className:"mb-12",children:[i.jsx("h2",{"data-loc":"client/src/components/DestinationDrawer.tsx:524",className:"text-lg font-normal mb-6 text-black dark:text-white",children:"Location"}),i.jsx(Wp,{"data-loc":"client/src/components/DestinationDrawer.tsx:525",destination:e})]}),i.jsx("div",{"data-loc":"client/src/components/DestinationDrawer.tsx:529",className:"flex justify-center pt-8 border-t border-gray-200 dark:border-gray-800",children:i.jsxs("button",{"data-loc":"client/src/components/DestinationDrawer.tsx:530",onClick:O,className:"flex items-center gap-2 px-6 py-3 bg-black dark:bg-white text-white dark:text-black hover:bg-gray-800 dark:hover:bg-gray-200 transition-colors text-sm",children:[i.jsx(Kp,{"data-loc":"client/src/components/DestinationDrawer.tsx:534",className:"h-4 w-4"}),i.jsx("span",{"data-loc":"client/src/components/DestinationDrawer.tsx:535",children:c?"Link Copied!":"Share"})]})})]})]})}),i.jsx($m,{"data-loc":"client/src/components/DestinationDrawer.tsx:544",open:w,onOpenChange:_,children:i.jsxs(Fm,{"data-loc":"client/src/components/DestinationDrawer.tsx:545",className:"sm:max-w-[500px]",children:[i.jsxs(Gm,{"data-loc":"client/src/components/DestinationDrawer.tsx:546",children:[i.jsx(Qm,{"data-loc":"client/src/components/DestinationDrawer.tsx:547",children:"Add to Trip"}),i.jsxs(Ym,{"data-loc":"client/src/components/DestinationDrawer.tsx:548",children:['Add "',e.name,'" to one of your trips']})]}),i.jsx("div",{"data-loc":"client/src/components/DestinationDrawer.tsx:552",className:"grid gap-4 py-4",children:!M||M.length===0?i.jsxs("div",{"data-loc":"client/src/components/DestinationDrawer.tsx:554",className:"text-center py-6 text-gray-600 dark:text-gray-400",children:[i.jsx("p",{"data-loc":"client/src/components/DestinationDrawer.tsx:555",className:"mb-4",children:"You don't have any trips yet."}),i.jsx(Re,{"data-loc":"client/src/components/DestinationDrawer.tsx:556",onClick:()=>{_(!1),window.location.href="/trips"},children:"Create Your First Trip"})]}):i.jsxs(i.Fragment,{children:[i.jsxs("div",{"data-loc":"client/src/components/DestinationDrawer.tsx:565",className:"grid gap-2",children:[i.jsx(pt,{"data-loc":"client/src/components/DestinationDrawer.tsx:566",htmlFor:"trip-select",children:"Select Trip"}),i.jsxs("select",{"data-loc":"client/src/components/DestinationDrawer.tsx:567",id:"trip-select",className:"flex h-10 w-full rounded-md border border-gray-300 dark:border-gray-700 bg-white dark:bg-gray-900 px-3 py-2 text-sm text-black dark:text-white focus:outline-none focus:ring-2 focus:ring-black dark:focus:ring-white",value:E||"",onChange:B=>T(parseInt(B.target.value)),children:[i.jsx("option",{"data-loc":"client/src/components/DestinationDrawer.tsx:573",value:"",children:"Choose a trip..."}),M.map(B=>i.jsxs("option",{"data-loc":"client/src/components/DestinationDrawer.tsx:575",value:B.id,children:[B.title," ",B.destination&&`- ${B.destination}`]},B.id))]})]}),i.jsxs("div",{"data-loc":"client/src/components/DestinationDrawer.tsx:581",className:"grid gap-2",children:[i.jsx(pt,{"data-loc":"client/src/components/DestinationDrawer.tsx:582",htmlFor:"day-select",children:"Day Number"}),i.jsx(wt,{"data-loc":"client/src/components/DestinationDrawer.tsx:583",id:"day-select",type:"number",min:"1",value:A,onChange:B=>I(parseInt(B.target.value)||1),placeholder:"Which day?"})]})]})}),M&&M.length>0&&i.jsxs(Vm,{"data-loc":"client/src/components/DestinationDrawer.tsx:596",children:[i.jsx(Re,{"data-loc":"client/src/components/DestinationDrawer.tsx:597",variant:"outline",onClick:()=>_(!1),children:"Cancel"}),i.jsx(Re,{"data-loc":"client/src/components/DestinationDrawer.tsx:600",onClick:G,disabled:!E||P.isPending,children:P.isPending?"Adding...":"Add to Trip"})]})]})})]})}function $6(){const[e,t]=j.useState(!1);j.useEffect(()=>{localStorage.getItem("cookieConsent")||t(!0)},[]);const a=()=>{localStorage.setItem("cookieConsent","accepted"),t(!1)},r=()=>{localStorage.setItem("cookieConsent","declined"),t(!1)};return e?i.jsx("div",{"data-loc":"client/src/components/CookieBanner.tsx:28",className:"fixed bottom-0 left-0 right-0 z-50 bg-white border-t-2 border-black shadow-lg",children:i.jsx("div",{"data-loc":"client/src/components/CookieBanner.tsx:29",className:"max-w-7xl mx-auto px-4 py-4 sm:px-6 lg:px-8",children:i.jsxs("div",{"data-loc":"client/src/components/CookieBanner.tsx:30",className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4",children:[i.jsx("div",{"data-loc":"client/src/components/CookieBanner.tsx:31",className:"flex-1",children:i.jsxs("p",{"data-loc":"client/src/components/CookieBanner.tsx:32",className:"text-sm text-black",children:[i.jsx("span",{"data-loc":"client/src/components/CookieBanner.tsx:33",className:"font-bold",children:"We use cookies"}),' to enhance your browsing experience, serve personalized content, and analyze our traffic. By clicking "Accept All", you consent to our use of cookies.'," ",i.jsx("a",{"data-loc":"client/src/components/CookieBanner.tsx:34",href:"/privacy",className:"underline hover:no-underline",children:"Learn more"})]})}),i.jsxs("div",{"data-loc":"client/src/components/CookieBanner.tsx:39",className:"flex items-center gap-3 flex-shrink-0",children:[i.jsx(Re,{"data-loc":"client/src/components/CookieBanner.tsx:40",variant:"outline",size:"sm",onClick:r,className:"text-xs font-bold uppercase border-black hover:bg-gray-100",children:"Decline"}),i.jsx(Re,{"data-loc":"client/src/components/CookieBanner.tsx:48",size:"sm",onClick:a,className:"text-xs font-bold uppercase bg-black text-white hover:bg-gray-800",children:"Accept All"})]})]})})}):null}function np(e){return e.split("-").map(t=>t.charAt(0).toUpperCase()+t.slice(1)).join(" ")}function F6({isOpen:e,onClose:t,destinations:a,onSelectDestination:r}){const[l,c]=j.useState(""),[d,f]=j.useState([]),[p,m]=j.useState([]),[y,x]=j.useState(!1),[v,b]=j.useState([]),[N,w]=j.useState([]),[_,E]=j.useState([]),[T,A]=j.useState("relevance"),I=Array.from(new Set(a.map(R=>R.category))).sort(),M=Array.from(new Set(a.map(R=>R.city))).sort(),P=["Michelin restaurants","Tokyo cafes","Paris hotels","New York bars"];j.useEffect(()=>{const R=localStorage.getItem("recentSearches");R&&m(JSON.parse(R))},[]);const O=R=>{if(!R.trim())return;const ee=[R,...p.filter(D=>D!==R)].slice(0,5);m(ee),localStorage.setItem("recentSearches",JSON.stringify(ee))},C=()=>{m([]),localStorage.removeItem("recentSearches")};j.useEffect(()=>{if(l.trim()||G){const R={categories:v,cities:N,stars:_,sortBy:T};j5(l,d.length,R)}},[l,v,N,_,T]),j.useEffect(()=>{let R=a;switch(l.trim()&&(R=R.filter(ee=>ee.name.toLowerCase().includes(l.toLowerCase())||ee.city.toLowerCase().includes(l.toLowerCase())||ee.category.toLowerCase().includes(l.toLowerCase())||ee.content?.toLowerCase().includes(l.toLowerCase()))),v.length>0&&(R=R.filter(ee=>v.includes(ee.category))),N.length>0&&(R=R.filter(ee=>N.includes(ee.city))),_.length>0&&(R=R.filter(ee=>_.includes(ee.michelinStars||0))),T){case"rating":R=R.sort((ee,D)=>(D.michelinStars||0)-(ee.michelinStars||0));break;case"popular":R=R.sort(()=>Math.random()-.5);break;case"newest":R=R.reverse();break}f(R.slice(0,20))},[l,a,v,N,_,T]);const z=()=>{b([]),w([]),E([]),A("relevance")},G=v.length>0||N.length>0||_.length>0||T!=="relevance",X=R=>{b(ee=>ee.includes(R)?ee.filter(D=>D!==R):[...ee,R])},B=R=>{w(ee=>ee.includes(R)?ee.filter(D=>D!==R):[...ee,R])},se=R=>{E(ee=>ee.includes(R)?ee.filter(D=>D!==R):[...ee,R])};return e?i.jsxs("div",{"data-loc":"client/src/components/AdvancedSearchOverlay.tsx:157",className:"fixed inset-x-0 top-16 bottom-0 bg-white dark:bg-gray-950 z-40 overflow-y-auto transition-colors duration-300",children:[i.jsxs("div",{"data-loc":"client/src/components/AdvancedSearchOverlay.tsx:159",className:"sticky top-0 bg-white dark:bg-gray-950 border-b border-gray-200 dark:border-gray-800 px-6 py-4 z-10",children:[i.jsxs("div",{"data-loc":"client/src/components/AdvancedSearchOverlay.tsx:160",className:"flex items-center gap-4",children:[i.jsxs("div",{"data-loc":"client/src/components/AdvancedSearchOverlay.tsx:162",className:"flex-1 relative",children:[i.jsx(fr,{"data-loc":"client/src/components/AdvancedSearchOverlay.tsx:163",className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),i.jsx(wt,{"data-loc":"client/src/components/AdvancedSearchOverlay.tsx:164",type:"text",placeholder:"Search destinations, cities, or categories...",value:l,onChange:R=>c(R.target.value),onKeyDown:R=>{R.key==="Enter"&&l.trim()&&O(l)},className:"pl-10 h-12 text-sm border-gray-200 dark:border-gray-800 focus:border-black dark:focus:border-white dark:bg-gray-900 dark:text-white rounded-lg",autoFocus:!0})]}),i.jsxs("button",{"data-loc":"client/src/components/AdvancedSearchOverlay.tsx:180",onClick:()=>x(!y),className:`flex items-center gap-2 px-4 h-12 rounded-lg transition-colors ${y||G?"bg-black dark:bg-white text-white dark:text-black":"bg-gray-100 dark:bg-gray-800 text-black dark:text-white hover:bg-gray-200 dark:hover:bg-gray-700"}`,children:[i.jsx(a5,{"data-loc":"client/src/components/AdvancedSearchOverlay.tsx:188",className:"h-5 w-5"}),i.jsx("span",{"data-loc":"client/src/components/AdvancedSearchOverlay.tsx:189",className:"hidden sm:inline",children:"Filters"}),G&&i.jsx("span",{"data-loc":"client/src/components/AdvancedSearchOverlay.tsx:191",className:"ml-1 px-2 py-0.5 text-xs rounded-full bg-white dark:bg-black text-black dark:text-white",children:v.length+N.length+_.length+(T!=="relevance"?1:0)})]}),i.jsx("button",{"data-loc":"client/src/components/AdvancedSearchOverlay.tsx:198",onClick:t,className:"w-10 h-10 flex items-center justify-center rounded-full bg-gray-100 dark:bg-gray-800 hover:bg-gray-200 dark:hover:bg-gray-700 transition-colors",children:i.jsx(ua,{"data-loc":"client/src/components/AdvancedSearchOverlay.tsx:202",className:"h-5 w-5 dark:text-white"})})]}),y&&i.jsxs("div",{"data-loc":"client/src/components/AdvancedSearchOverlay.tsx:208",className:"mt-4 p-4 bg-gray-50 dark:bg-gray-900 rounded-lg space-y-4",children:[i.jsxs("div",{"data-loc":"client/src/components/AdvancedSearchOverlay.tsx:210",children:[i.jsx("div",{"data-loc":"client/src/components/AdvancedSearchOverlay.tsx:211",className:"text-xs font-bold uppercase text-gray-500 dark:text-gray-400 mb-2",children:"Sort By"}),i.jsx("div",{"data-loc":"client/src/components/AdvancedSearchOverlay.tsx:212",className:"flex flex-wrap gap-2",children:["relevance","rating","popular","newest"].map(R=>i.jsx("button",{"data-loc":"client/src/components/AdvancedSearchOverlay.tsx:214",onClick:()=>A(R),className:`px-3 py-1.5 text-sm rounded-full transition-colors ${T===R?"bg-black dark:bg-white text-white dark:text-black":"bg-white dark:bg-gray-800 text-black dark:text-white border border-gray-200 dark:border-gray-700 hover:border-black dark:hover:border-white"}`,children:R.charAt(0).toUpperCase()+R.slice(1)},R))})]}),i.jsxs("div",{"data-loc":"client/src/components/AdvancedSearchOverlay.tsx:230",children:[i.jsx("div",{"data-loc":"client/src/components/AdvancedSearchOverlay.tsx:231",className:"text-xs font-bold uppercase text-gray-500 dark:text-gray-400 mb-2",children:"Categories"}),i.jsx("div",{"data-loc":"client/src/components/AdvancedSearchOverlay.tsx:232",className:"flex flex-wrap gap-2",children:I.map(R=>i.jsx("button",{"data-loc":"client/src/components/AdvancedSearchOverlay.tsx:234",onClick:()=>X(R),className:`px-3 py-1.5 text-sm rounded-full transition-colors ${v.includes(R)?"bg-black dark:bg-white text-white dark:text-black":"bg-white dark:bg-gray-800 text-black dark:text-white border border-gray-200 dark:border-gray-700 hover:border-black dark:hover:border-white"}`,children:R},R))})]}),i.jsxs("div",{"data-loc":"client/src/components/AdvancedSearchOverlay.tsx:250",children:[i.jsx("div",{"data-loc":"client/src/components/AdvancedSearchOverlay.tsx:251",className:"text-xs font-bold uppercase text-gray-500 dark:text-gray-400 mb-2",children:"Michelin Stars"}),i.jsx("div",{"data-loc":"client/src/components/AdvancedSearchOverlay.tsx:252",className:"flex flex-wrap gap-2",children:[1,2,3].map(R=>i.jsxs("button",{"data-loc":"client/src/components/AdvancedSearchOverlay.tsx:254",onClick:()=>se(R),className:`flex items-center gap-1 px-3 py-1.5 text-sm rounded-full transition-colors ${_.includes(R)?"bg-black dark:bg-white text-white dark:text-black":"bg-white dark:bg-gray-800 text-black dark:text-white border border-gray-200 dark:border-gray-700 hover:border-black dark:hover:border-white"}`,children:[i.jsx(cs,{"data-loc":"client/src/components/AdvancedSearchOverlay.tsx:263",className:"h-3 w-3 fill-current"}),i.jsx("span",{"data-loc":"client/src/components/AdvancedSearchOverlay.tsx:264",children:R})]},R))})]}),i.jsxs("div",{"data-loc":"client/src/components/AdvancedSearchOverlay.tsx:271",children:[i.jsx("div",{"data-loc":"client/src/components/AdvancedSearchOverlay.tsx:272",className:"text-xs font-bold uppercase text-gray-500 dark:text-gray-400 mb-2",children:"Cities"}),i.jsx("div",{"data-loc":"client/src/components/AdvancedSearchOverlay.tsx:273",className:"flex flex-wrap gap-2 max-h-32 overflow-y-auto",children:M.slice(0,20).map(R=>i.jsx("button",{"data-loc":"client/src/components/AdvancedSearchOverlay.tsx:275",onClick:()=>B(R),className:`px-3 py-1.5 text-sm rounded-full transition-colors ${N.includes(R)?"bg-black dark:bg-white text-white dark:text-black":"bg-white dark:bg-gray-800 text-black dark:text-white border border-gray-200 dark:border-gray-700 hover:border-black dark:hover:border-white"}`,children:np(R)},R))})]}),G&&i.jsx("button",{"data-loc":"client/src/components/AdvancedSearchOverlay.tsx:292",onClick:z,className:"w-full py-2 text-sm text-red-600 dark:text-red-400 hover:text-red-700 dark:hover:text-red-300 transition-colors",children:"Clear All Filters"})]})]}),i.jsx("div",{"data-loc":"client/src/components/AdvancedSearchOverlay.tsx:304",className:"px-6 py-8 max-w-4xl mx-auto",children:!l.trim()&&d.length===0?i.jsxs(i.Fragment,{children:[p.length>0&&i.jsxs("div",{"data-loc":"client/src/components/AdvancedSearchOverlay.tsx:309",className:"mb-8",children:[i.jsxs("div",{"data-loc":"client/src/components/AdvancedSearchOverlay.tsx:310",className:"flex items-center justify-between mb-4",children:[i.jsxs("div",{"data-loc":"client/src/components/AdvancedSearchOverlay.tsx:311",className:"flex items-center gap-2 text-sm font-medium text-gray-700 dark:text-gray-300",children:[i.jsx(Lm,{"data-loc":"client/src/components/AdvancedSearchOverlay.tsx:312",className:"h-4 w-4"}),i.jsx("span",{"data-loc":"client/src/components/AdvancedSearchOverlay.tsx:313",children:"Recent Searches"})]}),i.jsx("button",{"data-loc":"client/src/components/AdvancedSearchOverlay.tsx:315",onClick:C,className:"text-xs text-gray-500 dark:text-gray-400 hover:text-black dark:hover:text-white transition-colors",children:"Clear"})]}),i.jsx("div",{"data-loc":"client/src/components/AdvancedSearchOverlay.tsx:322",className:"space-y-2",children:p.map((R,ee)=>i.jsxs("button",{"data-loc":"client/src/components/AdvancedSearchOverlay.tsx:324",onClick:()=>c(R),className:"w-full flex items-center gap-3 p-3 hover:bg-gray-50 dark:hover:bg-gray-900 rounded-lg transition-colors text-left",children:[i.jsx(fr,{"data-loc":"client/src/components/AdvancedSearchOverlay.tsx:329",className:"h-4 w-4 text-gray-400"}),i.jsx("span",{"data-loc":"client/src/components/AdvancedSearchOverlay.tsx:330",className:"text-base text-black dark:text-white",children:R})]},ee))})]}),i.jsxs("div",{"data-loc":"client/src/components/AdvancedSearchOverlay.tsx:338",className:"mb-8",children:[i.jsxs("div",{"data-loc":"client/src/components/AdvancedSearchOverlay.tsx:339",className:"flex items-center gap-2 text-sm font-medium text-gray-700 dark:text-gray-300 mb-4",children:[i.jsx(gl,{"data-loc":"client/src/components/AdvancedSearchOverlay.tsx:340",className:"h-4 w-4"}),i.jsx("span",{"data-loc":"client/src/components/AdvancedSearchOverlay.tsx:341",children:"Popular Searches"})]}),i.jsx("div",{"data-loc":"client/src/components/AdvancedSearchOverlay.tsx:343",className:"space-y-2",children:P.map((R,ee)=>i.jsxs("button",{"data-loc":"client/src/components/AdvancedSearchOverlay.tsx:345",onClick:()=>c(R),className:"w-full flex items-center gap-3 p-3 hover:bg-gray-50 dark:hover:bg-gray-900 rounded-lg transition-colors text-left",children:[i.jsx(gl,{"data-loc":"client/src/components/AdvancedSearchOverlay.tsx:350",className:"h-4 w-4 text-gray-400"}),i.jsx("span",{"data-loc":"client/src/components/AdvancedSearchOverlay.tsx:351",className:"text-base text-black dark:text-white",children:R})]},ee))})]}),i.jsxs("div",{"data-loc":"client/src/components/AdvancedSearchOverlay.tsx:358",className:"text-center py-12",children:[i.jsx(fr,{"data-loc":"client/src/components/AdvancedSearchOverlay.tsx:359",className:"h-12 w-12 text-gray-300 dark:text-gray-700 mx-auto mb-4"}),i.jsx("p",{"data-loc":"client/src/components/AdvancedSearchOverlay.tsx:360",className:"text-gray-400 dark:text-gray-500",children:"Start typing to search destinations"})]})]}):i.jsxs(i.Fragment,{children:[i.jsxs("div",{"data-loc":"client/src/components/AdvancedSearchOverlay.tsx:366",className:"mb-4 text-sm text-gray-600 dark:text-gray-400",children:[d.length," ",d.length===1?"result":"results",l.trim()&&` for "${l}"`]}),d.length>0?i.jsx("div",{"data-loc":"client/src/components/AdvancedSearchOverlay.tsx:373",className:"md:hidden space-y-4",children:d.map(R=>i.jsxs("button",{"data-loc":"client/src/components/AdvancedSearchOverlay.tsx:375",onClick:()=>{_5("search-result",R.name,`/destination/${R.slug}`),r(R),O(l),t()},className:"w-full flex items-center gap-4 p-3 hover:bg-gray-50 dark:hover:bg-gray-900 rounded-lg transition-colors text-left",children:[i.jsx("div",{"data-loc":"client/src/components/AdvancedSearchOverlay.tsx:386",className:"w-16 h-16 rounded-lg overflow-hidden flex-shrink-0 bg-gray-100 dark:bg-gray-800",children:R.mainImage?i.jsx("img",{"data-loc":"client/src/components/AdvancedSearchOverlay.tsx:388",src:R.mainImage,alt:R.name,className:"w-full h-full object-cover"}):i.jsx("div",{"data-loc":"client/src/components/AdvancedSearchOverlay.tsx:394",className:"w-full h-full flex items-center justify-center text-gray-400",children:i.jsx(fr,{"data-loc":"client/src/components/AdvancedSearchOverlay.tsx:395",className:"h-6 w-6"})})}),i.jsxs("div",{"data-loc":"client/src/components/AdvancedSearchOverlay.tsx:401",className:"flex-1 min-w-0",children:[i.jsxs("div",{"data-loc":"client/src/components/AdvancedSearchOverlay.tsx:402",className:"flex items-center gap-2 mb-1",children:[i.jsx("h3",{"data-loc":"client/src/components/AdvancedSearchOverlay.tsx:403",className:"text-base font-medium truncate text-black dark:text-white",children:R.name}),R.michelinStars>0&&i.jsx("div",{"data-loc":"client/src/components/AdvancedSearchOverlay.tsx:407",className:"flex items-center gap-0.5",children:[...Array(R.michelinStars)].map((ee,D)=>i.jsx(cs,{"data-loc":"client/src/components/AdvancedSearchOverlay.tsx:409",className:"h-3 w-3 fill-yellow-400 text-yellow-400"},D))})]}),i.jsxs("div",{"data-loc":"client/src/components/AdvancedSearchOverlay.tsx:414",className:"flex items-center gap-2 text-xs text-gray-500 dark:text-gray-400",children:[i.jsx("span",{"data-loc":"client/src/components/AdvancedSearchOverlay.tsx:415",children:R.category}),i.jsx("span",{"data-loc":"client/src/components/AdvancedSearchOverlay.tsx:416",children:""}),i.jsx("span",{"data-loc":"client/src/components/AdvancedSearchOverlay.tsx:417",children:np(R.city)})]})]}),i.jsx($D,{"data-loc":"client/src/components/AdvancedSearchOverlay.tsx:422",className:"h-5 w-5 text-gray-400 dark:text-gray-500 flex-shrink-0"})]},R.slug))}):null,d.length>0?i.jsx("div",{"data-loc":"client/src/components/AdvancedSearchOverlay.tsx:430",className:"hidden md:grid md:grid-cols-2 lg:grid-cols-3 gap-4",children:d.map(R=>i.jsxs("button",{"data-loc":"client/src/components/AdvancedSearchOverlay.tsx:432",onClick:()=>{r(R),O(l),t()},className:"group text-left",children:[i.jsx("div",{"data-loc":"client/src/components/AdvancedSearchOverlay.tsx:442",className:"aspect-square rounded-lg overflow-hidden mb-3 bg-gray-100 dark:bg-gray-800",children:R.mainImage?i.jsx("img",{"data-loc":"client/src/components/AdvancedSearchOverlay.tsx:444",src:R.mainImage,alt:R.name,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-300"}):i.jsx("div",{"data-loc":"client/src/components/AdvancedSearchOverlay.tsx:450",className:"w-full h-full flex items-center justify-center text-gray-400",children:i.jsx(fr,{"data-loc":"client/src/components/AdvancedSearchOverlay.tsx:451",className:"h-12 w-12"})})}),i.jsxs("div",{"data-loc":"client/src/components/AdvancedSearchOverlay.tsx:457",children:[i.jsxs("div",{"data-loc":"client/src/components/AdvancedSearchOverlay.tsx:458",className:"flex items-center gap-2 mb-1",children:[i.jsx("h3",{"data-loc":"client/src/components/AdvancedSearchOverlay.tsx:459",className:"text-sm font-medium truncate text-black dark:text-white group-hover:text-gray-600 dark:group-hover:text-gray-300 transition-colors",children:R.name}),R.michelinStars>0&&i.jsx("div",{"data-loc":"client/src/components/AdvancedSearchOverlay.tsx:463",className:"flex items-center gap-0.5 flex-shrink-0",children:[...Array(R.michelinStars)].map((ee,D)=>i.jsx(cs,{"data-loc":"client/src/components/AdvancedSearchOverlay.tsx:465",className:"h-3 w-3 fill-yellow-400 text-yellow-400"},D))})]}),i.jsxs("div",{"data-loc":"client/src/components/AdvancedSearchOverlay.tsx:470",className:"flex items-center gap-2 text-xs text-gray-500 dark:text-gray-400",children:[i.jsx("span",{"data-loc":"client/src/components/AdvancedSearchOverlay.tsx:471",children:R.category}),i.jsx("span",{"data-loc":"client/src/components/AdvancedSearchOverlay.tsx:472",children:""}),i.jsx("span",{"data-loc":"client/src/components/AdvancedSearchOverlay.tsx:473",children:np(R.city)})]})]})]},R.slug))}):i.jsxs("div",{"data-loc":"client/src/components/AdvancedSearchOverlay.tsx:480",className:"text-center py-12",children:[i.jsx("p",{"data-loc":"client/src/components/AdvancedSearchOverlay.tsx:481",className:"text-gray-400 dark:text-gray-500",children:"No results found"}),i.jsx("button",{"data-loc":"client/src/components/AdvancedSearchOverlay.tsx:482",onClick:z,className:"mt-4 text-sm text-black dark:text-white hover:underline",children:"Clear filters and try again"})]})]})})]}):null}function G6({className:e}){return i.jsxs("div",{"data-loc":"client/src/components/SkeletonCard.tsx:9",className:Ye("animate-pulse",e),children:[i.jsx("div",{"data-loc":"client/src/components/SkeletonCard.tsx:10",className:"aspect-square bg-gray-200 dark:bg-gray-800 rounded-lg mb-3"}),i.jsxs("div",{"data-loc":"client/src/components/SkeletonCard.tsx:11",className:"space-y-2",children:[i.jsx("div",{"data-loc":"client/src/components/SkeletonCard.tsx:12",className:"h-4 bg-gray-200 dark:bg-gray-800 rounded w-3/4"}),i.jsx("div",{"data-loc":"client/src/components/SkeletonCard.tsx:13",className:"h-3 bg-gray-200 dark:bg-gray-800 rounded w-1/2"})]})]})}function ld({count:e=12}){return i.jsx("div",{"data-loc":"client/src/components/SkeletonCard.tsx:21",className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 xl:grid-cols-6 2xl:grid-cols-7 gap-4 md:gap-6",children:Array.from({length:e}).map((t,a)=>i.jsx(G6,{"data-loc":"client/src/components/SkeletonCard.tsx:23"},a))})}const Ij=()=>{const e="https://vida.butterfly-effect.dev",t="proj_abc123def456",a=`${window.location.origin}/api/oauth/callback`,r=btoa(a),l=new URL(`${e}/app-auth`);return l.searchParams.set("appId",t),l.searchParams.set("redirectUri",a),l.searchParams.set("state",r),l.searchParams.set("type","signIn"),l.toString()};function El(e){const{redirectOnUnauthenticated:t=!1,redirectPath:a=Ij()}=e??{},r=Ut.useUtils(),l=Ut.auth.me.useQuery(void 0,{retry:!1,refetchOnWindowFocus:!1}),c=Ut.auth.logout.useMutation({onSuccess:()=>{r.auth.me.setData(void 0,null)}}),d=j.useCallback(async()=>{try{await c.mutateAsync()}catch(p){if(p instanceof Ri&&p.data?.code==="UNAUTHORIZED")return;throw p}finally{r.auth.me.setData(void 0,null),await r.auth.me.invalidate()}},[c,r]),f=j.useMemo(()=>(localStorage.setItem("manus-runtime-user-info",JSON.stringify(l.data)),{user:l.data??null,loading:l.isLoading||c.isPending,error:l.error??c.error??null,isAuthenticated:!!l.data}),[l.data,l.error,l.isLoading,c.error,c.isPending]);return j.useEffect(()=>{t&&(l.isLoading||c.isPending||f.user||typeof window>"u"||window.location.pathname!==a&&(window.location.href=a))},[t,a,c.isPending,l.isLoading,f.user]),{...f,refresh:()=>l.refetch(),logout:d}}function V6(){const[e,t]=j.useState(!1),[a,r]=j.useState([]),[l,c]=j.useState(""),[d,f]=j.useState(!1),p=j.useRef(null),m=j.useRef(null),{user:y}=El();j.useEffect(()=>{p.current?.scrollIntoView({behavior:"smooth"})},[a]),j.useEffect(()=>{e&&m.current?.focus()},[e]);const x=async b=>{if(b.preventDefault(),!l.trim()||d)return;const N=l.trim();c(""),r(w=>[...w,{role:"user",content:N}]),f(!0);try{const w=await v(N);r(_=>[..._,{role:"assistant",content:w}])}catch(w){console.error("AI error:",w),r(_=>[..._,{role:"assistant",content:"Sorry, I encountered an error. Please try again."}])}finally{f(!1)}},v=async b=>{const N=b.toLowerCase(),w=N.match(/(?:in|at|near)\s+([a-z\s-]+)/i);if(w){const A=w[1].trim().replace(/\s+/g,"-"),{data:I}=await re.from("destinations").select("*").ilike("city",`%${A}%`).limit(5);if(I&&I.length>0){const M=I.map(P=>` **${P.name}** - ${P.category}`).join(`
`);return`I found these places in ${A}:

${M}

Would you like to know more about any of these?`}}const E=["restaurant","cafe","hotel","bar","shop"].find(A=>N.includes(A));if(E){const{data:A}=await re.from("destinations").select("*").ilike("category",`%${E}%`).limit(5);if(A&&A.length>0){const I=A.map(M=>` **${M.name}** in ${M.city.replace(/-/g," ")}`).join(`
`);return`Here are some great ${E}s:

${I}`}}if(N.includes("michelin")||N.includes("star")){const{data:A}=await re.from("destinations").select("*").gt("michelin_stars",0).order("michelin_stars",{ascending:!1}).limit(5);if(A&&A.length>0)return`Here are our top Michelin-starred restaurants:

${A.map(M=>{const P="".repeat(M.michelin_stars);return` **${M.name}** ${P} - ${M.city.replace(/-/g," ")}`}).join(`
`)}`}return["hi","hello","hey"].some(A=>N.includes(A))?`Hello ${y?.name||"there"}!  I can help you discover amazing destinations. Try asking me about:

 Places in a specific city
 Restaurants, cafes, or hotels
 Michelin-starred restaurants

What would you like to explore?`:"I can help you find destinations! Try asking about specific cities, types of places (restaurants, cafes, hotels), or Michelin-starred restaurants."};return e?i.jsxs("div",{"data-loc":"client/src/components/ChatGPTStyleAI.tsx:133",className:"fixed inset-x-0 bottom-0 z-50 flex flex-col items-center pointer-events-none",children:[a.length>0&&i.jsx("div",{"data-loc":"client/src/components/ChatGPTStyleAI.tsx:136",className:"w-full max-w-3xl mb-4 px-4 pointer-events-auto",children:i.jsx("div",{"data-loc":"client/src/components/ChatGPTStyleAI.tsx:137",className:"bg-white/80 dark:bg-gray-900/80 backdrop-blur-xl rounded-2xl shadow-2xl border border-white/20 dark:border-gray-700/30 max-h-[60vh] overflow-y-auto",children:i.jsxs("div",{"data-loc":"client/src/components/ChatGPTStyleAI.tsx:138",className:"p-4 space-y-4",children:[a.map((b,N)=>i.jsx("div",{"data-loc":"client/src/components/ChatGPTStyleAI.tsx:140",className:`flex ${b.role==="user"?"justify-end":"justify-start"}`,children:i.jsxs("div",{"data-loc":"client/src/components/ChatGPTStyleAI.tsx:144",className:`max-w-[80%] rounded-2xl px-4 py-3 ${b.role==="user"?"bg-black dark:bg-white text-white dark:text-black":"bg-gray-100 dark:bg-gray-800 text-black dark:text-white"}`,children:[b.role==="assistant"&&i.jsxs("div",{"data-loc":"client/src/components/ChatGPTStyleAI.tsx:152",className:"flex items-center gap-2 mb-2",children:[i.jsx(Ru,{"data-loc":"client/src/components/ChatGPTStyleAI.tsx:153",className:"h-4 w-4"}),i.jsx("span",{"data-loc":"client/src/components/ChatGPTStyleAI.tsx:154",className:"text-xs font-medium opacity-70",children:"AI Assistant"})]}),i.jsx("div",{"data-loc":"client/src/components/ChatGPTStyleAI.tsx:157",className:"text-sm whitespace-pre-wrap leading-relaxed",children:b.content.split(`
`).map((w,_)=>{const E=w.split(/(\*\*.*?\*\*)/g);return i.jsx("div",{"data-loc":"client/src/components/ChatGPTStyleAI.tsx:162",children:E.map((T,A)=>T.startsWith("**")&&T.endsWith("**")?i.jsx("strong",{"data-loc":"client/src/components/ChatGPTStyleAI.tsx:165",children:T.slice(2,-2)},A):i.jsx("span",{"data-loc":"client/src/components/ChatGPTStyleAI.tsx:167",children:T},A))},_)})})]})},N)),d&&i.jsx("div",{"data-loc":"client/src/components/ChatGPTStyleAI.tsx:177",className:"flex justify-start",children:i.jsx("div",{"data-loc":"client/src/components/ChatGPTStyleAI.tsx:178",className:"bg-gray-100 dark:bg-gray-800 rounded-2xl px-4 py-3",children:i.jsx("div",{"data-loc":"client/src/components/ChatGPTStyleAI.tsx:179",className:"flex items-center gap-2",children:i.jsxs("div",{"data-loc":"client/src/components/ChatGPTStyleAI.tsx:180",className:"flex gap-1",children:[i.jsx("div",{"data-loc":"client/src/components/ChatGPTStyleAI.tsx:181",className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce",style:{animationDelay:"0ms"}}),i.jsx("div",{"data-loc":"client/src/components/ChatGPTStyleAI.tsx:182",className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce",style:{animationDelay:"150ms"}}),i.jsx("div",{"data-loc":"client/src/components/ChatGPTStyleAI.tsx:183",className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce",style:{animationDelay:"300ms"}})]})})})}),i.jsx("div",{"data-loc":"client/src/components/ChatGPTStyleAI.tsx:189",ref:p})]})})}),i.jsx("div",{"data-loc":"client/src/components/ChatGPTStyleAI.tsx:196",className:"w-full max-w-3xl px-4 pb-6 pointer-events-auto",children:i.jsxs("div",{"data-loc":"client/src/components/ChatGPTStyleAI.tsx:197",className:"bg-white/80 dark:bg-gray-900/80 backdrop-blur-xl rounded-2xl shadow-2xl border border-white/20 dark:border-gray-700/30 p-4",children:[i.jsxs("form",{"data-loc":"client/src/components/ChatGPTStyleAI.tsx:198",onSubmit:x,className:"flex items-end gap-3",children:[i.jsx("div",{"data-loc":"client/src/components/ChatGPTStyleAI.tsx:199",className:"flex-1",children:i.jsx("textarea",{"data-loc":"client/src/components/ChatGPTStyleAI.tsx:200",ref:m,value:l,onChange:b=>c(b.target.value),onKeyDown:b=>{b.key==="Enter"&&!b.shiftKey&&(b.preventDefault(),x(b))},placeholder:"Ask about destinations, cities, or restaurants...",rows:1,className:"w-full resize-none bg-transparent border-none outline-none text-black dark:text-white placeholder-gray-400 dark:placeholder-gray-500 text-base",style:{maxHeight:"120px"}})}),i.jsxs("div",{"data-loc":"client/src/components/ChatGPTStyleAI.tsx:216",className:"flex items-center gap-2",children:[i.jsx("button",{"data-loc":"client/src/components/ChatGPTStyleAI.tsx:217",type:"submit",disabled:!l.trim()||d,className:"p-2 bg-black dark:bg-white text-white dark:text-black rounded-lg hover:scale-105 transition-transform disabled:opacity-50 disabled:cursor-not-allowed disabled:hover:scale-100",children:i.jsx(t5,{"data-loc":"client/src/components/ChatGPTStyleAI.tsx:222",className:"h-5 w-5"})}),i.jsx("button",{"data-loc":"client/src/components/ChatGPTStyleAI.tsx:224",type:"button",onClick:()=>{t(!1),r([])},className:"p-2 bg-gray-100 dark:bg-gray-800 text-black dark:text-white rounded-lg hover:scale-105 transition-transform",children:a.length>0?i.jsx(aj,{"data-loc":"client/src/components/ChatGPTStyleAI.tsx:232",className:"h-5 w-5"}):i.jsx(ua,{"data-loc":"client/src/components/ChatGPTStyleAI.tsx:232",className:"h-5 w-5"})})]})]}),a.length===0&&i.jsxs("div",{"data-loc":"client/src/components/ChatGPTStyleAI.tsx:238",className:"mt-3 pt-3 border-t border-gray-200 dark:border-gray-800",children:[i.jsx("div",{"data-loc":"client/src/components/ChatGPTStyleAI.tsx:239",className:"text-xs text-gray-500 dark:text-gray-400 mb-2",children:"Try asking:"}),i.jsx("div",{"data-loc":"client/src/components/ChatGPTStyleAI.tsx:240",className:"flex flex-wrap gap-2",children:["Best restaurants in Tokyo","Michelin-starred restaurants","Cafes in Paris"].map((b,N)=>i.jsx("button",{"data-loc":"client/src/components/ChatGPTStyleAI.tsx:246",onClick:()=>c(b),className:"px-3 py-1.5 text-xs bg-gray-100 dark:bg-gray-800 text-black dark:text-white rounded-full hover:bg-gray-200 dark:hover:bg-gray-700 transition-colors",children:b},N))})]})]})})]}):i.jsxs("button",{"data-loc":"client/src/components/ChatGPTStyleAI.tsx:122",onClick:()=>t(!0),className:"fixed bottom-6 left-1/2 transform -translate-x-1/2 z-40 flex items-center gap-2 px-6 py-3 bg-black dark:bg-white text-white dark:text-black rounded-full shadow-lg hover:scale-105 transition-transform duration-200",children:[i.jsx(Ru,{"data-loc":"client/src/components/ChatGPTStyleAI.tsx:126",className:"h-5 w-5"}),i.jsx("span",{"data-loc":"client/src/components/ChatGPTStyleAI.tsx:127",className:"font-medium",children:"Ask AI Travel Assistant"})]})}const Mu={taipei:"Taiwan",taichung:"Taiwan",tainan:"Taiwan",kaohsiung:"Taiwan",tokyo:"Japan",kyoto:"Japan",osaka:"Japan",fukuoka:"Japan",sapporo:"Japan",nagoya:"Japan",kobe:"Japan",yokohama:"Japan",nara:"Japan",hiroshima:"Japan","new-york":"USA","los-angeles":"USA","san-francisco":"USA",chicago:"USA",miami:"USA",seattle:"USA",boston:"USA",portland:"USA",austin:"USA",denver:"USA","las-vegas":"USA","washington-dc":"USA",philadelphia:"USA","san-diego":"USA",nashville:"USA","new-orleans":"USA",london:"UK",edinburgh:"UK",manchester:"UK",liverpool:"UK",bristol:"UK",oxford:"UK",cambridge:"UK",paris:"France",lyon:"France",marseille:"France",nice:"France",bordeaux:"France",cannes:"France",rome:"Italy",milan:"Italy",florence:"Italy",venice:"Italy",naples:"Italy",bologna:"Italy",turin:"Italy",barcelona:"Spain",madrid:"Spain",seville:"Spain",valencia:"Spain",bilbao:"Spain","san-sebastian":"Spain",berlin:"Germany",munich:"Germany",hamburg:"Germany",frankfurt:"Germany",cologne:"Germany",dresden:"Germany",amsterdam:"Netherlands",rotterdam:"Netherlands","the-hague":"Netherlands",utrecht:"Netherlands",zurich:"Switzerland",geneva:"Switzerland",basel:"Switzerland",bern:"Switzerland",lausanne:"Switzerland",vienna:"Austria",salzburg:"Austria",innsbruck:"Austria",brussels:"Belgium",bruges:"Belgium",antwerp:"Belgium",ghent:"Belgium",copenhagen:"Denmark",aarhus:"Denmark",stockholm:"Sweden",gothenburg:"Sweden",malmo:"Sweden",oslo:"Norway",bergen:"Norway",helsinki:"Finland",reykjavik:"Iceland",lisbon:"Portugal",porto:"Portugal",athens:"Greece",santorini:"Greece",mykonos:"Greece",istanbul:"Turkey",ankara:"Turkey",dubai:"UAE","abu-dhabi":"UAE",singapore:"Singapore","hong-kong":"Hong Kong",seoul:"South Korea",busan:"South Korea",beijing:"China",shanghai:"China",guangzhou:"China",shenzhen:"China",chengdu:"China",hangzhou:"China",bangkok:"Thailand","chiang-mai":"Thailand",phuket:"Thailand","kuala-lumpur":"Malaysia",penang:"Malaysia",bali:"Indonesia",jakarta:"Indonesia",hanoi:"Vietnam","ho-chi-minh-city":"Vietnam",manila:"Philippines",sydney:"Australia",melbourne:"Australia",brisbane:"Australia",perth:"Australia",adelaide:"Australia",auckland:"New Zealand",wellington:"New Zealand",queenstown:"New Zealand",toronto:"Canada",vancouver:"Canada",montreal:"Canada",calgary:"Canada",ottawa:"Canada","mexico-city":"Mexico",cancun:"Mexico",guadalajara:"Mexico","sao-paulo":"Brazil","rio-de-janeiro":"Brazil","buenos-aires":"Argentina","cape-town":"South Africa",johannesburg:"South Africa",marrakech:"Morocco",casablanca:"Morocco",cairo:"Egypt"},Lu=["Taiwan","Japan","USA","UK","France","Italy","Spain","Germany","Netherlands","Switzerland","Austria","Belgium","Denmark","Sweden","Norway","Finland","Iceland","Portugal","Greece","Turkey","UAE","Singapore","Hong Kong","South Korea","China","Thailand","Malaysia","Indonesia","Vietnam","Philippines","Australia","New Zealand","Canada","Mexico","Brazil","Argentina","South Africa","Morocco","Egypt"];function Q6(e,t=300){const[a,r]=j.useState(e);return j.useEffect(()=>{const l=setTimeout(()=>{r(e)},t);return()=>{clearTimeout(l)}},[e,t]),a}function Y6({onLoadMore:e,hasMore:t,isLoading:a,threshold:r=200}){const l=j.useRef(null),c=j.useRef(null),d=j.useCallback(f=>{f[0].isIntersecting&&t&&!a&&e()},[t,a,e]);return j.useEffect(()=>{const f={root:null,rootMargin:`${r}px`,threshold:0};return l.current=new IntersectionObserver(d,f),c.current&&l.current.observe(c.current),()=>{l.current&&l.current.disconnect()}},[d,r]),c}function K6(e){return e.split("-").map(t=>t.charAt(0).toUpperCase()+t.slice(1)).join(" ")}const fu=40,W6=[{id:"",label:"All",icon:""},{id:"restaurant",label:"Restaurant",icon:""},{id:"cafe",label:"Cafe",icon:""},{id:"hotel",label:"Hotel",icon:""},{id:"bar",label:"Bar",icon:""},{id:"shop",label:"Shop",icon:""},{id:"bakery",label:"Bakery",icon:""}];function X6(){ut();const[e,t]=j.useState([]),[a,r]=j.useState(!0),[l,c]=j.useState(!1),[d,f]=j.useState(""),[p,m]=j.useState(""),[y,x]=j.useState(""),[v,b]=j.useState(fu),[N,w]=j.useState(null),[_,E]=j.useState(!1),[T,A]=j.useState(!1),[I,M]=j.useState([]),[P,O]=j.useState([]),[C,z]=j.useState(null),[G,X]=j.useState(!1),B=Q6(d,300);j.useEffect(()=>{async function F(){const{data:{session:ce}}=await re.auth.getSession();if(z(ce?.user||null),ce?.user){const{data:ue}=await re.from("saved_places").select("destination_slug").eq("user_id",ce.user.id);ue&&M(ue.map(Ee=>Ee.destination_slug));const{data:xe}=await re.from("visited_places").select("destination_slug").eq("user_id",ce.user.id);xe&&O(xe.map(Ee=>Ee.destination_slug))}}F();const{data:{subscription:ie}}=re.auth.onAuthStateChange(()=>{F()});return()=>ie.unsubscribe()},[]),j.useEffect(()=>{async function F(){try{r(!0);const{data:ie,error:ce}=await re.from("destinations").select("*").order("name");if(ce)throw ce;const ue=(ie||[]).map(xe=>({name:xe.name,slug:xe.slug,city:xe.city,category:xe.category,content:xe.content||xe.description||"",mainImage:xe.image||"",michelinStars:xe.michelin_stars||0,crown:xe.crown||!1,brand:"",cardTags:"",lat:0,long:0,myRating:0,reviewed:!1,subline:""}));t(ue)}catch(ie){console.error("Error loading destinations:",ie)}finally{r(!1)}}F()},[]);const se=j.useMemo(()=>{const F=new Set(e.map(ce=>ce.city).filter(Boolean));return Array.from(F).sort((ce,ue)=>{const xe=Mu[ce]||"Other",Ee=Mu[ue]||"Other",dt=Lu.indexOf(xe),jt=Lu.indexOf(Ee);return xe===Ee?ce.localeCompare(ue):dt===-1&&jt===-1?xe.localeCompare(Ee):dt===-1?1:jt===-1?-1:dt-jt})},[e]),R=j.useMemo(()=>e.filter(F=>{const ie=B===""||F.name.toLowerCase().includes(B.toLowerCase())||F.content.toLowerCase().includes(B.toLowerCase())||F.city.toLowerCase().includes(B.toLowerCase())||F.category.toLowerCase().includes(B.toLowerCase()),ce=!p||F.city===p,ue=!y||F.category.toLowerCase().includes(y.toLowerCase());return ie&&ce&&ue}),[e,B,p,y]),ee=R.slice(0,v),D=v<R.length,Y=j.useCallback(()=>{D&&!l&&(c(!0),setTimeout(()=>{b(F=>F+fu),c(!1)},300))},[D,l]),H=Y6({onLoadMore:Y,hasMore:D,isLoading:l,threshold:400});j.useEffect(()=>{b(fu)},[B,p,y]);const de=F=>{w(F),E(!0)},he=F=>{x(F)},L=(F,ie)=>{M(ie?ce=>[...ce,F]:ce=>ce.filter(ue=>ue!==F))},Z=(F,ie)=>{O(ie?ce=>[...ce,F]:ce=>ce.filter(ue=>ue!==F))},K=T?se:se.slice(0,20);return a?i.jsxs("div",{"data-loc":"client/src/pages/Home.tsx:248",className:"min-h-screen bg-white dark:bg-gray-950 transition-colors duration-300",children:[i.jsx(Le,{"data-loc":"client/src/pages/Home.tsx:249"}),i.jsx("main",{"data-loc":"client/src/pages/Home.tsx:250",className:"px-6 md:px-10 py-12 dark:text-white",children:i.jsxs("div",{"data-loc":"client/src/pages/Home.tsx:251",className:"max-w-[1920px] mx-auto",children:[i.jsx("div",{"data-loc":"client/src/pages/Home.tsx:253",className:"mb-8 h-12 bg-gray-200 dark:bg-gray-800 rounded-lg w-full max-w-[500px] animate-shimmer"}),i.jsx("div",{"data-loc":"client/src/pages/Home.tsx:256",className:"mb-8 flex gap-2",children:Array.from({length:7}).map((F,ie)=>i.jsx("div",{"data-loc":"client/src/pages/Home.tsx:258",className:"h-10 w-24 bg-gray-200 dark:bg-gray-800 rounded-full animate-shimmer"},ie))}),i.jsx(ld,{"data-loc":"client/src/pages/Home.tsx:263",count:12})]})})]}):i.jsxs("div",{"data-loc":"client/src/pages/Home.tsx:271",className:"min-h-screen bg-white dark:bg-gray-950 transition-colors duration-300",children:[i.jsx(Le,{"data-loc":"client/src/pages/Home.tsx:272"}),i.jsx("main",{"data-loc":"client/src/pages/Home.tsx:275",className:"px-6 md:px-10 py-12 dark:text-white",children:i.jsxs("div",{"data-loc":"client/src/pages/Home.tsx:276",className:"max-w-[1920px] mx-auto",children:[i.jsx("div",{"data-loc":"client/src/pages/Home.tsx:278",className:"mb-8 animate-fade-in",children:i.jsx("button",{"data-loc":"client/src/pages/Home.tsx:279",onClick:()=>X(!0),className:"relative max-w-[500px] w-full text-left group",children:i.jsxs("div",{"data-loc":"client/src/pages/Home.tsx:283",className:"flex items-center gap-3 px-4 py-3 bg-[#efefef] dark:bg-gray-800 rounded-lg hover:bg-gray-200 dark:hover:bg-gray-700 transition-all duration-200",children:[i.jsx(fr,{"data-loc":"client/src/pages/Home.tsx:284",className:"h-4 w-4 text-gray-400 group-hover:text-gray-600 dark:group-hover:text-gray-300 transition-colors"}),i.jsxs("span",{"data-loc":"client/src/pages/Home.tsx:285",className:"text-gray-500 dark:text-gray-400 group-hover:text-gray-700 dark:group-hover:text-gray-200 transition-colors",children:["Search ",e.length," items..."]})]})})}),i.jsx("div",{"data-loc":"client/src/pages/Home.tsx:293",className:"mb-8 animate-fade-in",style:{animationDelay:"50ms"},children:i.jsx("div",{"data-loc":"client/src/pages/Home.tsx:294",className:"flex flex-wrap gap-2",children:W6.map(F=>i.jsxs("button",{"data-loc":"client/src/pages/Home.tsx:296",onClick:()=>he(F.id),className:`flex items-center gap-2 px-4 py-2 rounded-full text-sm font-medium transition-all duration-200 ${y===F.id?"bg-black dark:bg-white text-white dark:text-black scale-105":"bg-gray-100 dark:bg-gray-800 text-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-700 hover:scale-102"}`,children:[i.jsx("span",{"data-loc":"client/src/pages/Home.tsx:305",children:F.icon}),i.jsx("span",{"data-loc":"client/src/pages/Home.tsx:306",children:F.label})]},F.id))})}),i.jsxs("div",{"data-loc":"client/src/pages/Home.tsx:313",className:"mb-8 animate-fade-in",style:{animationDelay:"100ms"},children:[i.jsx("div",{"data-loc":"client/src/pages/Home.tsx:314",className:"mb-3",children:i.jsx("h2",{"data-loc":"client/src/pages/Home.tsx:315",className:"text-xs font-bold uppercase",children:"Places"})}),i.jsxs("div",{"data-loc":"client/src/pages/Home.tsx:317",className:"flex flex-wrap gap-x-4 gap-y-2 text-xs",children:[i.jsx("button",{"data-loc":"client/src/pages/Home.tsx:318",onClick:()=>m(""),className:`transition-all duration-200 ${p?"font-medium text-black/30 dark:text-gray-500 hover:text-black/60 dark:hover:text-gray-300":"font-medium text-black dark:text-white scale-105"}`,children:"All"}),K.map(F=>i.jsx("button",{"data-loc":"client/src/pages/Home.tsx:329",onClick:()=>m(F===p?"":F),className:`transition-all duration-200 ${p===F?"font-medium text-black dark:text-white scale-105":"font-medium text-black/30 dark:text-gray-500 hover:text-black/60 dark:hover:text-gray-300"}`,children:K6(F)},F)),se.length>20&&i.jsx("button",{"data-loc":"client/src/pages/Home.tsx:342",onClick:()=>A(!T),className:"font-medium text-black/30 dark:text-gray-500 hover:text-black/60 dark:hover:text-gray-300 transition-colors",children:T?"- Show Less":"+ Show More"})]})]}),i.jsxs("div",{"data-loc":"client/src/pages/Home.tsx:353",className:"mb-6 flex items-center gap-3 animate-fade-in",style:{animationDelay:"150ms"},children:[i.jsxs("p",{"data-loc":"client/src/pages/Home.tsx:354",className:"text-sm text-gray-500 dark:text-gray-400",children:[R.length," ",R.length===1?"destination":"destinations"]}),B!==d&&i.jsx(mr,{"data-loc":"client/src/pages/Home.tsx:358",className:"h-4 w-4 animate-spin text-gray-400"})]}),R.length===0?i.jsxs("div",{"data-loc":"client/src/pages/Home.tsx:364",className:"text-center py-20 animate-fade-in",children:[i.jsx("p",{"data-loc":"client/src/pages/Home.tsx:365",className:"text-xl text-gray-400 mb-6",children:"No destinations found."}),i.jsx(Re,{"data-loc":"client/src/pages/Home.tsx:368",onClick:()=>{f(""),m(""),x("")},children:"Clear filters"})]}):i.jsxs(i.Fragment,{children:[i.jsx("div",{"data-loc":"client/src/pages/Home.tsx:380",className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 xl:grid-cols-6 2xl:grid-cols-7 gap-4 md:gap-6",children:ee.map((F,ie)=>i.jsx(Im,{"data-loc":"client/src/pages/Home.tsx:382",destination:F,onClick:()=>de(F),isSaved:I.includes(F.slug),isVisited:P.includes(F.slug),animationDelay:Math.min(ie*30,500)},F.slug))}),D&&i.jsx("div",{"data-loc":"client/src/pages/Home.tsx:395",ref:H,className:"flex justify-center mt-12 py-8",children:l&&i.jsx(mr,{"data-loc":"client/src/pages/Home.tsx:397",className:"h-8 w-8 animate-spin text-gray-400"})}),!D&&ee.length>fu&&i.jsx("div",{"data-loc":"client/src/pages/Home.tsx:404",className:"text-center mt-12 py-8 text-gray-400 dark:text-gray-600 text-sm",children:"You've reached the end"})]})]})}),i.jsx(Ze,{"data-loc":"client/src/pages/Home.tsx:413"}),i.jsx($6,{"data-loc":"client/src/pages/Home.tsx:416"}),i.jsx(F6,{"data-loc":"client/src/pages/Home.tsx:419",isOpen:G,onClose:()=>X(!1),destinations:e,onSelectDestination:F=>{w(F),E(!0)}}),N&&i.jsx(Nr,{"data-loc":"client/src/pages/Home.tsx:431",destination:N,isOpen:_,onClose:()=>{E(!1),setTimeout(()=>w(null),300)},onSaveToggle:L,onVisitToggle:Z}),i.jsx(V6,{"data-loc":"client/src/pages/Home.tsx:444"})]})}function J6({destinationSlug:e,destinationName:t,existingReview:a,onSuccess:r,onCancel:l}){const[c,d]=j.useState(a?.rating||0),[f,p]=j.useState(0),[m,y]=j.useState(a?.title||""),[x,v]=j.useState(a?.content||""),[b,N]=j.useState(a?.visit_date||""),[w,_]=j.useState(a?.photos||[]),[E,T]=j.useState(!1),[A,I]=j.useState(!1),M=async C=>{const z=C.target.files;if(!(!z||z.length===0)){if(w.length+z.length>5){le.error("Maximum 5 photos allowed");return}T(!0);try{const G=[];for(const X of Array.from(z)){const B=X.name.split(".").pop(),R=`review-photos/${`${Math.random()}.${B}`}`,{error:ee}=await re.storage.from("review-photos").upload(R,X);if(ee)throw ee;const{data:D}=re.storage.from("review-photos").getPublicUrl(R);G.push(D.publicUrl)}_([...w,...G]),le.success("Photos uploaded successfully")}catch(G){console.error("Error uploading photos:",G),le.error("Failed to upload photos")}finally{T(!1)}}},P=C=>{_(w.filter((z,G)=>G!==C))},O=async C=>{if(C.preventDefault(),c===0){le.error("Please select a rating");return}if(!x.trim()){le.error("Please write a review");return}I(!0);try{const{data:{user:z}}=await re.auth.getUser();if(!z){le.error("Please sign in to write a review");return}const G={user_id:z.id,destination_slug:e,rating:c,title:m.trim()||null,content:x.trim(),photos:w,visit_date:b||null};if(a){const{error:X}=await re.from("reviews").update(G).eq("id",a.id);if(X)throw X;le.success("Review updated successfully")}else{const{error:X}=await re.from("reviews").insert(G);if(X)throw X;le.success("Review posted successfully")}r()}catch(z){console.error("Error submitting review:",z),le.error(z.message||"Failed to submit review")}finally{I(!1)}};return i.jsxs("div",{"data-loc":"client/src/components/ReviewForm.tsx:147",className:"bg-white border border-gray-200 p-6 rounded-lg",children:[i.jsxs("div",{"data-loc":"client/src/components/ReviewForm.tsx:148",className:"flex items-center justify-between mb-6",children:[i.jsx("h3",{"data-loc":"client/src/components/ReviewForm.tsx:149",className:"text-xl font-semibold",children:a?"Edit Your Review":"Write a Review"}),i.jsx("button",{"data-loc":"client/src/components/ReviewForm.tsx:152",onClick:l,className:"text-gray-400 hover:text-gray-600",children:i.jsx(ua,{"data-loc":"client/src/components/ReviewForm.tsx:156",className:"h-5 w-5"})})]}),i.jsxs("form",{"data-loc":"client/src/components/ReviewForm.tsx:160",onSubmit:O,className:"space-y-6",children:[i.jsxs("div",{"data-loc":"client/src/components/ReviewForm.tsx:162",children:[i.jsx("label",{"data-loc":"client/src/components/ReviewForm.tsx:163",className:"block text-sm font-medium text-gray-700 mb-2",children:"Rating *"}),i.jsx("div",{"data-loc":"client/src/components/ReviewForm.tsx:166",className:"flex gap-1",children:[1,2,3,4,5].map(C=>i.jsx("button",{"data-loc":"client/src/components/ReviewForm.tsx:168",type:"button",onClick:()=>d(C),onMouseEnter:()=>p(C),onMouseLeave:()=>p(0),className:"focus:outline-none",children:i.jsx(cs,{"data-loc":"client/src/components/ReviewForm.tsx:176",className:`h-8 w-8 transition-colors ${C<=(f||c)?"fill-yellow-400 text-yellow-400":"text-gray-300"}`})},C))})]}),i.jsxs("div",{"data-loc":"client/src/components/ReviewForm.tsx:189",children:[i.jsx("label",{"data-loc":"client/src/components/ReviewForm.tsx:190",className:"block text-sm font-medium text-gray-700 mb-2",children:"Title (optional)"}),i.jsx("input",{"data-loc":"client/src/components/ReviewForm.tsx:193",type:"text",value:m,onChange:C=>y(C.target.value),placeholder:"Sum up your experience",className:"w-full px-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-black",maxLength:100})]}),i.jsxs("div",{"data-loc":"client/src/components/ReviewForm.tsx:204",children:[i.jsx("label",{"data-loc":"client/src/components/ReviewForm.tsx:205",className:"block text-sm font-medium text-gray-700 mb-2",children:"Your Review *"}),i.jsx("textarea",{"data-loc":"client/src/components/ReviewForm.tsx:208",value:x,onChange:C=>v(C.target.value),placeholder:"Share your experience at this place...",rows:6,className:"w-full px-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-black resize-none",required:!0})]}),i.jsxs("div",{"data-loc":"client/src/components/ReviewForm.tsx:219",children:[i.jsx("label",{"data-loc":"client/src/components/ReviewForm.tsx:220",className:"block text-sm font-medium text-gray-700 mb-2",children:"Visit Date (optional)"}),i.jsx("input",{"data-loc":"client/src/components/ReviewForm.tsx:223",type:"date",value:b,onChange:C=>N(C.target.value),max:new Date().toISOString().split("T")[0],className:"px-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-black"})]}),i.jsxs("div",{"data-loc":"client/src/components/ReviewForm.tsx:233",children:[i.jsx("label",{"data-loc":"client/src/components/ReviewForm.tsx:234",className:"block text-sm font-medium text-gray-700 mb-2",children:"Photos (optional, max 5)"}),w.length>0&&i.jsx("div",{"data-loc":"client/src/components/ReviewForm.tsx:239",className:"grid grid-cols-3 gap-3 mb-3",children:w.map((C,z)=>i.jsxs("div",{"data-loc":"client/src/components/ReviewForm.tsx:241",className:"relative group",children:[i.jsx("img",{"data-loc":"client/src/components/ReviewForm.tsx:242",src:C,alt:`Review photo ${z+1}`,className:"w-full h-24 object-cover rounded-md"}),i.jsx("button",{"data-loc":"client/src/components/ReviewForm.tsx:247",type:"button",onClick:()=>P(z),className:"absolute top-1 right-1 bg-black/70 text-white p-1 rounded-full opacity-0 group-hover:opacity-100 transition-opacity",children:i.jsx(ua,{"data-loc":"client/src/components/ReviewForm.tsx:252",className:"h-3 w-3"})})]},z))}),w.length<5&&i.jsxs("label",{"data-loc":"client/src/components/ReviewForm.tsx:260",className:"flex items-center justify-center gap-2 px-4 py-3 border-2 border-dashed border-gray-300 rounded-md hover:border-gray-400 cursor-pointer transition-colors",children:[i.jsx(l5,{"data-loc":"client/src/components/ReviewForm.tsx:261",className:"h-5 w-5 text-gray-400"}),i.jsx("span",{"data-loc":"client/src/components/ReviewForm.tsx:262",className:"text-sm text-gray-600",children:E?"Uploading...":"Upload Photos"}),i.jsx("input",{"data-loc":"client/src/components/ReviewForm.tsx:265",type:"file",accept:"image/*",multiple:!0,onChange:M,disabled:E,className:"hidden"})]})]}),i.jsxs("div",{"data-loc":"client/src/components/ReviewForm.tsx:278",className:"flex gap-3 pt-4",children:[i.jsx("button",{"data-loc":"client/src/components/ReviewForm.tsx:279",type:"submit",disabled:A||E,className:"flex-1 px-6 py-3 bg-black text-white rounded-md hover:bg-gray-800 transition-colors disabled:bg-gray-400 disabled:cursor-not-allowed",children:A?"Submitting...":a?"Update Review":"Post Review"}),i.jsx("button",{"data-loc":"client/src/components/ReviewForm.tsx:286",type:"button",onClick:l,className:"px-6 py-3 border border-gray-300 rounded-md hover:bg-gray-50 transition-colors",children:"Cancel"})]})]})]})}function Z6({destinationSlug:e,destinationName:t}){const[a,r]=j.useState([]),[l,c]=j.useState(!0),[d,f]=j.useState(null),[p,m]=j.useState(!1),[y,x]=j.useState(null),[v,b]=j.useState(new Set),[N,w]=j.useState(0);j.useEffect(()=>{async function C(){const{data:{user:z}}=await re.auth.getUser();f(z)}C()},[]),j.useEffect(()=>{_()},[e]),j.useEffect(()=>{d&&E()},[d,a]);const _=async()=>{try{const{data:C,error:z}=await re.from("reviews").select(`
          *,
          user_profiles (
            username,
            display_name,
            profile_photo
          )
        `).eq("destination_slug",e).order("created_at",{ascending:!1});if(z)throw z;if(r(C||[]),C&&C.length>0){const G=C.reduce((X,B)=>X+B.rating,0)/C.length;w(Math.round(G*10)/10)}}catch(C){console.error("Error fetching reviews:",C)}finally{c(!1)}},E=async()=>{if(d)try{const{data:C,error:z}=await re.from("review_helpful").select("review_id").eq("user_id",d.id);if(z)throw z;b(new Set(C?.map(G=>G.review_id)||[]))}catch(C){console.error("Error fetching helpful votes:",C)}},T=async C=>{if(!d){le.error("Please sign in to vote");return}const z=v.has(C);try{if(z){const{error:G}=await re.from("review_helpful").delete().eq("review_id",C).eq("user_id",d.id);if(G)throw G;b(X=>{const B=new Set(X);return B.delete(C),B})}else{const{error:G}=await re.from("review_helpful").insert({review_id:C,user_id:d.id});if(G)throw G;b(X=>new Set(X).add(C))}_()}catch(G){console.error("Error voting:",G),le.error("Failed to record vote")}},A=async C=>{if(confirm("Are you sure you want to delete this review?"))try{const{error:z}=await re.from("reviews").delete().eq("id",C);if(z)throw z;le.success("Review deleted"),_()}catch(z){console.error("Error deleting review:",z),le.error("Failed to delete review")}},I=C=>{x(C),m(!0)},M=()=>{m(!1),x(null),_()},P=C=>new Date(C).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"}),O=C=>i.jsx("div",{"data-loc":"client/src/components/ReviewsList.tsx:190",className:"flex gap-1",children:[1,2,3,4,5].map(z=>i.jsx(cs,{"data-loc":"client/src/components/ReviewsList.tsx:192",className:`h-4 w-4 ${z<=C?"fill-yellow-400 text-yellow-400":"text-gray-300"}`},z))});return l?i.jsx("div",{"data-loc":"client/src/components/ReviewsList.tsx:207",className:"py-12",children:i.jsx("div",{"data-loc":"client/src/components/ReviewsList.tsx:208",className:"animate-pulse text-gray-400",children:"Loading reviews..."})}):i.jsxs("div",{"data-loc":"client/src/components/ReviewsList.tsx:214",className:"py-12",children:[i.jsxs("div",{"data-loc":"client/src/components/ReviewsList.tsx:216",className:"flex items-center justify-between mb-8",children:[i.jsxs("div",{"data-loc":"client/src/components/ReviewsList.tsx:217",children:[i.jsx("h2",{"data-loc":"client/src/components/ReviewsList.tsx:218",className:"text-2xl font-semibold mb-2",children:"Reviews"}),a.length>0&&i.jsxs("div",{"data-loc":"client/src/components/ReviewsList.tsx:220",className:"flex items-center gap-3",children:[i.jsxs("div",{"data-loc":"client/src/components/ReviewsList.tsx:221",className:"flex items-center gap-2",children:[i.jsx(cs,{"data-loc":"client/src/components/ReviewsList.tsx:222",className:"h-5 w-5 fill-yellow-400 text-yellow-400"}),i.jsx("span",{"data-loc":"client/src/components/ReviewsList.tsx:223",className:"text-lg font-semibold",children:N})]}),i.jsxs("span",{"data-loc":"client/src/components/ReviewsList.tsx:225",className:"text-gray-500",children:["(",a.length," ",a.length===1?"review":"reviews",")"]})]})]}),d&&!p&&i.jsx("button",{"data-loc":"client/src/components/ReviewsList.tsx:233",onClick:()=>m(!0),className:"px-6 py-3 bg-black text-white rounded-md hover:bg-gray-800 transition-colors",children:"Write a Review"})]}),p&&i.jsx("div",{"data-loc":"client/src/components/ReviewsList.tsx:244",className:"mb-8",children:i.jsx(J6,{"data-loc":"client/src/components/ReviewsList.tsx:245",destinationSlug:e,destinationName:t,existingReview:y?{id:y.id,rating:y.rating,title:y.title,content:y.content,photos:y.photos,visit_date:y.visit_date}:void 0,onSuccess:M,onCancel:()=>{m(!1),x(null)}})}),a.length===0?i.jsxs("div",{"data-loc":"client/src/components/ReviewsList.tsx:267",className:"text-center py-12 bg-gray-50 rounded-lg",children:[i.jsx("p",{"data-loc":"client/src/components/ReviewsList.tsx:268",className:"text-gray-500 mb-4",children:"No reviews yet"}),d&&!p&&i.jsx("button",{"data-loc":"client/src/components/ReviewsList.tsx:270",onClick:()=>m(!0),className:"px-6 py-3 bg-black text-white rounded-md hover:bg-gray-800 transition-colors",children:"Be the First to Review"})]}):i.jsx("div",{"data-loc":"client/src/components/ReviewsList.tsx:279",className:"space-y-6",children:a.map(C=>i.jsxs("div",{"data-loc":"client/src/components/ReviewsList.tsx:281",className:"bg-white border border-gray-200 rounded-lg p-6",children:[i.jsxs("div",{"data-loc":"client/src/components/ReviewsList.tsx:286",className:"flex items-start justify-between mb-4",children:[i.jsxs("div",{"data-loc":"client/src/components/ReviewsList.tsx:287",className:"flex items-start gap-4",children:[i.jsx("div",{"data-loc":"client/src/components/ReviewsList.tsx:289",className:"w-12 h-12 rounded-full bg-gray-200 flex items-center justify-center overflow-hidden",children:C.user_profiles?.profile_photo?i.jsx("img",{"data-loc":"client/src/components/ReviewsList.tsx:291",src:C.user_profiles.profile_photo,alt:C.user_profiles.display_name||C.user_profiles.username,className:"w-full h-full object-cover"}):i.jsx("span",{"data-loc":"client/src/components/ReviewsList.tsx:297",className:"text-lg font-semibold text-gray-600",children:(C.user_profiles?.display_name||C.user_profiles?.username||"U")[0].toUpperCase()})}),i.jsxs("div",{"data-loc":"client/src/components/ReviewsList.tsx:304",children:[i.jsx("div",{"data-loc":"client/src/components/ReviewsList.tsx:305",className:"font-semibold",children:C.user_profiles?.display_name||C.user_profiles?.username||"Anonymous"}),i.jsxs("div",{"data-loc":"client/src/components/ReviewsList.tsx:308",className:"flex items-center gap-3 text-sm text-gray-500",children:[i.jsx("span",{"data-loc":"client/src/components/ReviewsList.tsx:309",children:P(C.created_at)}),C.visit_date&&i.jsxs("span",{"data-loc":"client/src/components/ReviewsList.tsx:311",className:"flex items-center gap-1",children:[i.jsx(An,{"data-loc":"client/src/components/ReviewsList.tsx:312",className:"h-3 w-3"}),"Visited ",P(C.visit_date)]})]})]})]}),d?.id===C.user_id&&!p&&i.jsxs("div",{"data-loc":"client/src/components/ReviewsList.tsx:322",className:"flex gap-2",children:[i.jsx("button",{"data-loc":"client/src/components/ReviewsList.tsx:323",onClick:()=>I(C),className:"p-2 text-gray-400 hover:text-gray-600",children:i.jsx(nj,{"data-loc":"client/src/components/ReviewsList.tsx:327",className:"h-4 w-4"})}),i.jsx("button",{"data-loc":"client/src/components/ReviewsList.tsx:329",onClick:()=>A(C.id),className:"p-2 text-gray-400 hover:text-red-600",children:i.jsx(kl,{"data-loc":"client/src/components/ReviewsList.tsx:333",className:"h-4 w-4"})})]})]}),i.jsx("div",{"data-loc":"client/src/components/ReviewsList.tsx:340",className:"mb-3",children:O(C.rating)}),C.title&&i.jsx("h3",{"data-loc":"client/src/components/ReviewsList.tsx:346",className:"text-lg font-semibold mb-2",children:C.title}),i.jsx("p",{"data-loc":"client/src/components/ReviewsList.tsx:350",className:"text-gray-700 mb-4 whitespace-pre-wrap",children:C.content}),C.photos&&C.photos.length>0&&i.jsx("div",{"data-loc":"client/src/components/ReviewsList.tsx:354",className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 gap-3 mb-4",children:C.photos.map((z,G)=>i.jsx("img",{"data-loc":"client/src/components/ReviewsList.tsx:356",src:z,alt:`Review photo ${G+1}`,className:"w-full h-32 object-cover rounded-md cursor-pointer hover:opacity-90 transition-opacity",onClick:()=>window.open(z,"_blank")},G))}),i.jsx("div",{"data-loc":"client/src/components/ReviewsList.tsx:368",className:"flex items-center gap-2 pt-4 border-t border-gray-100",children:i.jsxs("button",{"data-loc":"client/src/components/ReviewsList.tsx:369",onClick:()=>T(C.id),disabled:!d,className:`flex items-center gap-2 px-4 py-2 rounded-md transition-colors ${v.has(C.id)?"bg-blue-50 text-blue-600":"bg-gray-50 text-gray-600 hover:bg-gray-100"} disabled:opacity-50 disabled:cursor-not-allowed`,children:[i.jsx(i5,{"data-loc":"client/src/components/ReviewsList.tsx:378",className:`h-4 w-4 ${v.has(C.id)?"fill-current":""}`}),i.jsxs("span",{"data-loc":"client/src/components/ReviewsList.tsx:379",className:"text-sm",children:["Helpful ",C.helpful_count>0&&`(${C.helpful_count})`]})]})})]},C.id))})]})}function eR(e){return e.split("-").map(t=>t.charAt(0).toUpperCase()+t.slice(1)).join(" ")}function tR(){const e=Zu(),[,t]=ut(),[a,r]=j.useState(null),[l,c]=j.useState(!0),[d,f]=j.useState(null),[p,m]=j.useState(!1),[y,x]=j.useState(!1),[v,b]=j.useState(!1);j.useEffect(()=>{async function E(){const{data:{session:T}}=await re.auth.getSession();f(T?.user||null)}E()},[]),j.useEffect(()=>{async function E(){if(!e.slug)return;const{data:T,error:A}=await re.from("destinations").select("*").eq("slug",e.slug).single();if(A){console.error("Error fetching destination:",A),t("/");return}r({...T,mainImage:T.main_image,michelinStars:T.michelin_stars||0,additionalImages:T.additional_images||[]}),c(!1)}E()},[e.slug,t]),j.useEffect(()=>{async function E(){if(!d||!a)return;const{data:T}=await re.from("saved_destinations").select("*").eq("user_id",d.id).eq("destination_slug",a.slug).single();m(!!T);const{data:A}=await re.from("visited_destinations").select("*").eq("user_id",d.id).eq("destination_slug",a.slug).single();x(!!A)}E()},[d,a]);const N=async()=>{if(!a)return;const E=window.location.href;try{await navigator.clipboard.writeText(E),b(!0),le.success("Link copied to clipboard!"),setTimeout(()=>b(!1),2e3)}catch{le.error("Failed to copy link")}},w=async()=>{if(!d){le.error("Please sign in to save destinations");return}if(a)if(p){const{error:E}=await re.from("saved_destinations").delete().eq("user_id",d.id).eq("destination_slug",a.slug);E?le.error("Failed to remove from saved"):(m(!1),le.success("Removed from saved"))}else{const{error:E}=await re.from("saved_destinations").insert({user_id:d.id,destination_slug:a.slug});E?le.error("Failed to save destination"):(m(!0),le.success("Saved!"))}},_=async()=>{if(!d){le.error("Please sign in to mark as visited");return}if(a)if(y){const{error:E}=await re.from("visited_destinations").delete().eq("user_id",d.id).eq("destination_slug",a.slug);E?le.error("Failed to remove from visited"):(x(!1),le.success("Removed from visited"))}else{const{error:E}=await re.from("visited_destinations").insert({user_id:d.id,destination_slug:a.slug,visited_at:new Date().toISOString()});E?le.error("Failed to mark as visited"):(x(!0),le.success("Marked as visited!"))}};return l?i.jsxs("div",{"data-loc":"client/src/pages/Destination.tsx:188",className:"min-h-screen bg-white",children:[i.jsx(Le,{"data-loc":"client/src/pages/Destination.tsx:189"}),i.jsx("div",{"data-loc":"client/src/pages/Destination.tsx:190",className:"flex items-center justify-center h-[calc(100vh-200px)]",children:i.jsx("div",{"data-loc":"client/src/pages/Destination.tsx:191",className:"text-center",children:i.jsx("div",{"data-loc":"client/src/pages/Destination.tsx:192",className:"animate-pulse text-gray-400",children:"Loading..."})})}),i.jsx(Ze,{"data-loc":"client/src/pages/Destination.tsx:195"})]}):a?i.jsxs("div",{"data-loc":"client/src/pages/Destination.tsx:205",className:"min-h-screen bg-white",children:[i.jsx(Le,{"data-loc":"client/src/pages/Destination.tsx:206"}),i.jsxs("div",{"data-loc":"client/src/pages/Destination.tsx:209",className:"grid grid-cols-1 lg:grid-cols-2 gap-0 min-h-[80vh]",children:[i.jsxs("div",{"data-loc":"client/src/pages/Destination.tsx:211",className:"px-8 sm:px-12 lg:px-16 py-16 lg:py-24 bg-gray-50",children:[i.jsx("h1",{"data-loc":"client/src/pages/Destination.tsx:212",className:"text-4xl sm:text-5xl lg:text-6xl font-normal mb-16",children:a.name}),i.jsxs("div",{"data-loc":"client/src/pages/Destination.tsx:217",className:"space-y-10",children:[i.jsxs("div",{"data-loc":"client/src/pages/Destination.tsx:219",children:[i.jsx("div",{"data-loc":"client/src/pages/Destination.tsx:220",className:"text-xs uppercase tracking-wider text-gray-500 mb-2",children:"Category"}),i.jsx("div",{"data-loc":"client/src/pages/Destination.tsx:223",className:"text-base",children:a.category})]}),i.jsxs("div",{"data-loc":"client/src/pages/Destination.tsx:227",children:[i.jsx("div",{"data-loc":"client/src/pages/Destination.tsx:228",className:"text-xs uppercase tracking-wider text-gray-500 mb-2",children:"Location"}),i.jsx("div",{"data-loc":"client/src/pages/Destination.tsx:231",className:"text-base",children:eR(a.city)})]}),a.brand&&i.jsxs("div",{"data-loc":"client/src/pages/Destination.tsx:236",children:[i.jsx("div",{"data-loc":"client/src/pages/Destination.tsx:237",className:"text-xs uppercase tracking-wider text-gray-500 mb-2",children:"Brand"}),i.jsxs("button",{"data-loc":"client/src/pages/Destination.tsx:240",onClick:()=>t(`/brand/${a.brand}`),className:"inline-flex items-center gap-2 px-3 py-1.5 bg-gray-100 hover:bg-gray-200 rounded-full text-sm font-medium transition-colors",children:[i.jsx("span",{"data-loc":"client/src/pages/Destination.tsx:244",children:""}),a.brand.split("-").map(E=>E.charAt(0).toUpperCase()+E.slice(1)).join(" ")]})]}),a.designer&&i.jsxs("div",{"data-loc":"client/src/pages/Destination.tsx:252",children:[i.jsx("div",{"data-loc":"client/src/pages/Destination.tsx:253",className:"text-xs uppercase tracking-wider text-gray-500 mb-2",children:"Designer"}),i.jsxs("button",{"data-loc":"client/src/pages/Destination.tsx:256",onClick:()=>t(`/designer/${a.designer}`),className:"inline-flex items-center gap-2 px-3 py-1.5 bg-purple-100 hover:bg-purple-200 rounded-full text-sm font-medium transition-colors",children:[i.jsx("span",{"data-loc":"client/src/pages/Destination.tsx:260",children:""}),a.designer.split("-").map(E=>E.charAt(0).toUpperCase()+E.slice(1)).join(" ")]})]}),a.michelinStars>0&&i.jsxs("div",{"data-loc":"client/src/pages/Destination.tsx:268",children:[i.jsx("div",{"data-loc":"client/src/pages/Destination.tsx:269",className:"text-xs uppercase tracking-wider text-gray-500 mb-2",children:"Michelin Stars"}),i.jsx("div",{"data-loc":"client/src/pages/Destination.tsx:272",className:"flex items-center gap-2",children:[...Array(a.michelinStars)].map((E,T)=>i.jsx("img",{"data-loc":"client/src/pages/Destination.tsx:274",src:"https://guide.michelin.com/assets/images/icons/1star-1f2c04d7e6738e8a3312c9cda4b64fd0.svg",alt:`Michelin Star ${T+1}`,className:"h-5 w-5",loading:"lazy"},T))})]}),a.website&&i.jsxs("div",{"data-loc":"client/src/pages/Destination.tsx:288",children:[i.jsx("div",{"data-loc":"client/src/pages/Destination.tsx:289",className:"text-xs uppercase tracking-wider text-gray-500 mb-2",children:"Website"}),i.jsx("a",{"data-loc":"client/src/pages/Destination.tsx:292",href:a.website,target:"_blank",rel:"noopener noreferrer",className:"text-base hover:underline",children:a.website.replace(/^https?:\/\//,"").replace(/\/$/,"")})]})]})]}),i.jsxs("div",{"data-loc":"client/src/pages/Destination.tsx:306",className:"flex flex-col",children:[i.jsx("div",{"data-loc":"client/src/pages/Destination.tsx:308",className:"w-full h-[50vh] lg:h-[60vh]",children:i.jsx("img",{"data-loc":"client/src/pages/Destination.tsx:309",src:a.mainImage,alt:a.name,className:"w-full h-full object-cover",loading:"eager"})}),i.jsxs("div",{"data-loc":"client/src/pages/Destination.tsx:318",className:"px-8 sm:px-12 lg:px-16 py-16 bg-gray-50",children:[a.content&&i.jsx("p",{"data-loc":"client/src/pages/Destination.tsx:320",className:"text-lg lg:text-xl leading-relaxed text-gray-700 mb-12",children:a.content.replace(/<[^>]*>/g,"")}),d&&i.jsxs("div",{"data-loc":"client/src/pages/Destination.tsx:327",className:"flex flex-wrap gap-3 mb-8",children:[i.jsxs("button",{"data-loc":"client/src/pages/Destination.tsx:328",onClick:w,className:`flex items-center gap-2 px-5 py-3 text-sm border transition-colors ${p?"bg-black text-white border-black":"bg-white text-black border-gray-300 hover:border-black"}`,children:[i.jsx(Us,{"data-loc":"client/src/pages/Destination.tsx:336",className:`h-4 w-4 ${p?"fill-current":""}`}),i.jsx("span",{"data-loc":"client/src/pages/Destination.tsx:337",children:p?"Saved":"Save"})]}),i.jsxs("button",{"data-loc":"client/src/pages/Destination.tsx:340",onClick:_,className:`flex items-center gap-2 px-5 py-3 text-sm border transition-colors ${y?"bg-black text-white border-black":"bg-white text-black border-gray-300 hover:border-black"}`,children:[i.jsx(ml,{"data-loc":"client/src/pages/Destination.tsx:348",className:`h-4 w-4 ${y?"fill-current":""}`}),i.jsx("span",{"data-loc":"client/src/pages/Destination.tsx:349",children:y?"Visited":"Mark as Visited"})]})]}),i.jsxs("div",{"data-loc":"client/src/pages/Destination.tsx:355",className:"flex flex-wrap gap-3",children:[i.jsxs("a",{"data-loc":"client/src/pages/Destination.tsx:356",href:`https://www.google.com/maps/search/?api=1&query=${encodeURIComponent(a.name+" "+a.city)}`,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-2 px-5 py-3 text-sm bg-gray-100 hover:bg-gray-200 transition-colors",children:[i.jsx(Yp,{"data-loc":"client/src/pages/Destination.tsx:362",className:"h-4 w-4"}),i.jsx("span",{"data-loc":"client/src/pages/Destination.tsx:363",children:"Directions"})]}),i.jsxs("button",{"data-loc":"client/src/pages/Destination.tsx:366",onClick:N,className:"inline-flex items-center gap-2 px-5 py-3 text-sm bg-gray-100 hover:bg-gray-200 transition-colors",children:[i.jsx(Kp,{"data-loc":"client/src/pages/Destination.tsx:370",className:"h-4 w-4"}),i.jsx("span",{"data-loc":"client/src/pages/Destination.tsx:371",children:v?"Copied!":"Share"})]})]})]})]})]}),a.additionalImages&&a.additionalImages.length>0&&i.jsx("div",{"data-loc":"client/src/pages/Destination.tsx:380",className:"w-full h-[60vh]",children:i.jsx("img",{"data-loc":"client/src/pages/Destination.tsx:381",src:a.additionalImages[0],alt:`${a.name} additional view`,className:"w-full h-full object-cover",loading:"lazy"})}),i.jsx("div",{"data-loc":"client/src/pages/Destination.tsx:391",className:"px-8 sm:px-12 lg:px-16 py-24 bg-white",children:i.jsxs("div",{"data-loc":"client/src/pages/Destination.tsx:392",className:"max-w-6xl mx-auto",children:[i.jsx("h2",{"data-loc":"client/src/pages/Destination.tsx:393",className:"text-xs uppercase tracking-wider text-gray-500 mb-8",children:"Location"}),i.jsx(Wp,{"data-loc":"client/src/pages/Destination.tsx:396",destination:a})]})}),i.jsx("div",{"data-loc":"client/src/pages/Destination.tsx:401",className:"px-8 sm:px-12 lg:px-16 py-24 bg-gray-50",children:i.jsx("div",{"data-loc":"client/src/pages/Destination.tsx:402",className:"max-w-6xl mx-auto",children:i.jsx(Z6,{"data-loc":"client/src/pages/Destination.tsx:403",destinationSlug:a.slug,destinationName:a.name})})}),i.jsx("div",{"data-loc":"client/src/pages/Destination.tsx:411",className:"bg-gradient-to-br from-blue-900 to-blue-950 text-white px-8 sm:px-12 lg:px-16 py-24",children:i.jsxs("div",{"data-loc":"client/src/pages/Destination.tsx:412",className:"max-w-4xl mx-auto text-center",children:[i.jsx("h2",{"data-loc":"client/src/pages/Destination.tsx:413",className:"text-3xl sm:text-4xl lg:text-5xl font-normal mb-6",children:"Explore More Destinations"}),i.jsx("p",{"data-loc":"client/src/pages/Destination.tsx:416",className:"text-lg text-blue-200 mb-12",children:"Discover curated places around the world"}),i.jsx("button",{"data-loc":"client/src/pages/Destination.tsx:419",onClick:()=>t("/"),className:"inline-flex items-center gap-2 px-8 py-4 bg-white text-blue-950 hover:bg-gray-100 transition-colors text-sm font-medium",children:"View All Destinations"})]})}),i.jsx(Ze,{"data-loc":"client/src/pages/Destination.tsx:428"})]}):null}function sR(){const[,e]=ut(),[t,a]=j.useState([]),[r,l]=j.useState([]),[c,d]=j.useState(null),[f,p]=j.useState(!0);return j.useEffect(()=>{async function m(){try{const{data:{session:y}}=await re.auth.getSession();if(d(y?.user||null),!y?.user){p(!1);return}const{data:x}=await re.from("saved_places").select("destination_slug").eq("user_id",y.user.id),v=x?.map(N=>N.destination_slug)||[];l(v);const{data:b}=await re.from("destinations").select("*").in("slug",v).order("name");if(b){const N=b.map(w=>({name:w.name,slug:w.slug,city:w.city,category:w.category,content:w.content||w.description||"",mainImage:w.image||"",michelinStars:w.michelin_stars||0,crown:w.crown||!1,brand:"",cardTags:"",lat:0,long:0,myRating:0,reviewed:!1,subline:""}));a(N)}}catch(y){console.error("Error loading saved places:",y)}finally{p(!1)}}m()},[]),f?i.jsxs("div",{"data-loc":"client/src/pages/SavedPlaces.tsx:80",className:"min-h-screen bg-white dark:bg-gray-950 transition-colors duration-300",children:[i.jsx(Le,{"data-loc":"client/src/pages/SavedPlaces.tsx:81"}),i.jsx("main",{"data-loc":"client/src/pages/SavedPlaces.tsx:82",className:"px-6 md:px-10 py-12 dark:text-white",children:i.jsxs("div",{"data-loc":"client/src/pages/SavedPlaces.tsx:83",className:"max-w-[1920px] mx-auto",children:[i.jsxs("div",{"data-loc":"client/src/pages/SavedPlaces.tsx:85",className:"mb-12",children:[i.jsx("div",{"data-loc":"client/src/pages/SavedPlaces.tsx:86",className:"h-12 w-64 bg-gray-200 dark:bg-gray-800 rounded animate-shimmer mb-4"}),i.jsx("div",{"data-loc":"client/src/pages/SavedPlaces.tsx:87",className:"h-6 w-32 bg-gray-200 dark:bg-gray-800 rounded animate-shimmer"})]}),i.jsx(ld,{"data-loc":"client/src/pages/SavedPlaces.tsx:91",count:12})]})})]}):c?i.jsxs("div",{"data-loc":"client/src/pages/SavedPlaces.tsx:115",className:"min-h-screen bg-white dark:bg-gray-950 transition-colors duration-300",children:[i.jsx(Le,{"data-loc":"client/src/pages/SavedPlaces.tsx:116"}),i.jsx("main",{"data-loc":"client/src/pages/SavedPlaces.tsx:119",className:"px-6 md:px-10 py-12 dark:text-white",children:i.jsxs("div",{"data-loc":"client/src/pages/SavedPlaces.tsx:120",className:"max-w-[1920px] mx-auto",children:[i.jsxs("div",{"data-loc":"client/src/pages/SavedPlaces.tsx:122",className:"mb-12 animate-fade-in",children:[i.jsx("h1",{"data-loc":"client/src/pages/SavedPlaces.tsx:123",className:"text-4xl md:text-5xl font-bold uppercase mb-4 text-black dark:text-white",children:"Saved Places"}),i.jsxs("p",{"data-loc":"client/src/pages/SavedPlaces.tsx:126",className:"text-sm text-gray-600 dark:text-gray-400",children:[t.length," ",t.length===1?"place":"places"," saved"]})]}),t.length===0?i.jsxs("div",{"data-loc":"client/src/pages/SavedPlaces.tsx:133",className:"text-center py-20 animate-fade-in",children:[i.jsx(Us,{"data-loc":"client/src/pages/SavedPlaces.tsx:134",className:"h-16 w-16 text-gray-300 dark:text-gray-700 mx-auto mb-4"}),i.jsx("p",{"data-loc":"client/src/pages/SavedPlaces.tsx:135",className:"text-xl text-gray-400 dark:text-gray-600 mb-6",children:"No saved places yet."}),i.jsx(Re,{"data-loc":"client/src/pages/SavedPlaces.tsx:138",onClick:()=>e("/"),className:"bg-black dark:bg-white text-white dark:text-black hover:bg-gray-800 dark:hover:bg-gray-200",children:"Explore Destinations"})]}):i.jsx("div",{"data-loc":"client/src/pages/SavedPlaces.tsx:143",className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 xl:grid-cols-6 2xl:grid-cols-7 gap-4 md:gap-6",children:t.map((m,y)=>i.jsx(Im,{"data-loc":"client/src/pages/SavedPlaces.tsx:145",destination:m,onClick:()=>e(`/destination/${m.slug}`),isSaved:!0,isVisited:!1,animationDelay:Math.min(y*30,500)},m.slug))})]})}),i.jsx(Ze,{"data-loc":"client/src/pages/SavedPlaces.tsx:159"})]}):i.jsxs("div",{"data-loc":"client/src/pages/SavedPlaces.tsx:100",className:"min-h-screen bg-white dark:bg-gray-950 transition-colors duration-300",children:[i.jsx(Le,{"data-loc":"client/src/pages/SavedPlaces.tsx:101"}),i.jsxs("div",{"data-loc":"client/src/pages/SavedPlaces.tsx:102",className:"flex flex-col items-center justify-center p-6 min-h-[60vh] dark:text-white",children:[i.jsx(Us,{"data-loc":"client/src/pages/SavedPlaces.tsx:103",className:"h-16 w-16 text-gray-300 dark:text-gray-700 mb-4"}),i.jsx("h2",{"data-loc":"client/src/pages/SavedPlaces.tsx:104",className:"text-2xl font-bold mb-2 text-black dark:text-white",children:"Sign in to save places"}),i.jsx("p",{"data-loc":"client/src/pages/SavedPlaces.tsx:105",className:"text-gray-600 dark:text-gray-400 mb-6",children:"Create an account to save your favorite destinations"}),i.jsx(Re,{"data-loc":"client/src/pages/SavedPlaces.tsx:106",onClick:()=>e("/auth/login"),children:"Sign In"})]})]})}function aR(e){return e.split("-").map(t=>t.charAt(0).toUpperCase()+t.slice(1)).join(" ")}function nR(){const[,e]=ut(),[t,a]=j.useState([]),[r,l]=j.useState(!0);if(j.useEffect(()=>{async function f(){const{data:p,error:m}=await re.from("destinations").select("city");if(!m&&p){const y=p.reduce((b,N)=>(b[N.city]=(b[N.city]||0)+1,b),{}),v=Object.entries(y).map(([b,N])=>({city:b,count:N,country:Mu[b]||"Other"})).sort((b,N)=>{const w=b.country,_=N.country,E=Lu.indexOf(w),T=Lu.indexOf(_);return w===_?N.count-b.count:E===-1&&T===-1?w.localeCompare(_):E===-1?1:T===-1?-1:E-T});a(v)}l(!1)}f()},[]),r)return i.jsxs("div",{"data-loc":"client/src/pages/Cities.tsx:82",className:"min-h-screen bg-white dark:bg-gray-950 transition-colors duration-300",children:[i.jsx(Le,{"data-loc":"client/src/pages/Cities.tsx:83"}),i.jsx("main",{"data-loc":"client/src/pages/Cities.tsx:84",className:"px-6 md:px-10 py-12 dark:text-white",children:i.jsxs("div",{"data-loc":"client/src/pages/Cities.tsx:85",className:"max-w-[1920px] mx-auto",children:[i.jsxs("div",{"data-loc":"client/src/pages/Cities.tsx:87",className:"mb-12",children:[i.jsx("div",{"data-loc":"client/src/pages/Cities.tsx:88",className:"h-12 w-48 bg-gray-200 dark:bg-gray-800 rounded animate-shimmer mb-4"}),i.jsx("div",{"data-loc":"client/src/pages/Cities.tsx:89",className:"h-4 w-32 bg-gray-200 dark:bg-gray-800 rounded animate-shimmer"})]}),i.jsx(ld,{"data-loc":"client/src/pages/Cities.tsx:93",count:24})]})})]});const c=t.length,d=t.reduce((f,p)=>f+p.count,0);return i.jsxs("div",{"data-loc":"client/src/pages/Cities.tsx:104",className:"min-h-screen bg-white dark:bg-gray-950 transition-colors duration-300",children:[i.jsx("header",{"data-loc":"client/src/pages/Cities.tsx:106",className:"px-6 md:px-10 py-6 border-b border-gray-200 dark:border-gray-800 dark:bg-gray-900",children:i.jsxs("div",{"data-loc":"client/src/pages/Cities.tsx:107",className:"max-w-[1920px] mx-auto flex items-center justify-between",children:[i.jsx("button",{"data-loc":"client/src/pages/Cities.tsx:108",onClick:()=>e("/"),className:"text-[clamp(32px,6vw,72px)] font-bold uppercase leading-none tracking-tight hover:opacity-60 transition-opacity text-black dark:text-white",children:"The Urban Manual"}),i.jsx("button",{"data-loc":"client/src/pages/Cities.tsx:114",onClick:()=>e("/account"),className:"text-xs font-bold uppercase hover:opacity-60 transition-opacity px-4 py-2 border border-black",children:"Account"})]})}),i.jsx("nav",{"data-loc":"client/src/pages/Cities.tsx:124",className:"px-6 md:px-10 border-b border-gray-200 dark:border-gray-800 dark:bg-gray-900",children:i.jsxs("div",{"data-loc":"client/src/pages/Cities.tsx:125",className:"max-w-[1920px] mx-auto flex items-center justify-between h-12",children:[i.jsxs("div",{"data-loc":"client/src/pages/Cities.tsx:126",className:"flex items-center gap-6",children:[i.jsx("button",{"data-loc":"client/src/pages/Cities.tsx:127",onClick:()=>e("/"),className:"text-xs font-bold uppercase hover:opacity-60 transition-opacity",children:"Catalogue"}),i.jsx("button",{"data-loc":"client/src/pages/Cities.tsx:128",onClick:()=>e("/cities"),className:"text-xs font-bold uppercase text-black dark:text-white",children:"Cities"}),i.jsx("a",{"data-loc":"client/src/pages/Cities.tsx:129",href:"#",className:"text-xs font-bold uppercase hover:opacity-60 transition-opacity",children:"Archive"}),i.jsx("a",{"data-loc":"client/src/pages/Cities.tsx:130",href:"#",className:"text-xs font-bold uppercase hover:opacity-60 transition-opacity",children:"Editorial"})]}),i.jsxs("div",{"data-loc":"client/src/pages/Cities.tsx:132",className:"flex items-center gap-4",children:[i.jsx("span",{"data-loc":"client/src/pages/Cities.tsx:133",className:"text-xs font-bold uppercase",children:"New York"}),i.jsx("span",{"data-loc":"client/src/pages/Cities.tsx:134",className:"text-xs font-bold",children:new Date().toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit",hour12:!0})})]})]})}),i.jsx("main",{"data-loc":"client/src/pages/Cities.tsx:140",className:"px-6 md:px-10 py-12 dark:text-white",children:i.jsxs("div",{"data-loc":"client/src/pages/Cities.tsx:141",className:"max-w-[1920px] mx-auto",children:[i.jsxs("div",{"data-loc":"client/src/pages/Cities.tsx:143",className:"mb-12 animate-fade-in",children:[i.jsx("h1",{"data-loc":"client/src/pages/Cities.tsx:144",className:"text-4xl md:text-5xl font-bold uppercase mb-4 text-black dark:text-white",children:"Cities"}),i.jsxs("p",{"data-loc":"client/src/pages/Cities.tsx:145",className:"text-sm text-gray-600 dark:text-gray-400",children:[c," cities  ",d," places"]})]}),i.jsx("div",{"data-loc":"client/src/pages/Cities.tsx:151",className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 xl:grid-cols-6 2xl:grid-cols-7 gap-4 md:gap-6",children:t.map((f,p)=>i.jsxs("button",{"data-loc":"client/src/pages/Cities.tsx:153",onClick:()=>e(`/city/${f.city}`),className:"border border-gray-200 dark:border-gray-700 p-6 hover:border-black dark:hover:border-white hover:shadow-lg transition-all duration-200 text-left group bg-white dark:bg-gray-900 animate-scale-in",style:{animationDelay:`${Math.min(p*20,400)}ms`},children:[i.jsx("h3",{"data-loc":"client/src/pages/Cities.tsx:159",className:"text-base font-bold uppercase mb-2 group-hover:opacity-60 transition-opacity text-black dark:text-white",children:aR(f.city)}),i.jsxs("p",{"data-loc":"client/src/pages/Cities.tsx:162",className:"text-xs text-gray-500 dark:text-gray-400",children:[f.count," ",f.count===1?"place":"places"]})]},f.city))})]})}),i.jsx("footer",{"data-loc":"client/src/pages/Cities.tsx:172",className:"border-t border-gray-200 py-8 mt-20",children:i.jsx("div",{"data-loc":"client/src/pages/Cities.tsx:173",className:"max-w-[1920px] mx-auto px-6 md:px-10",children:i.jsxs("div",{"data-loc":"client/src/pages/Cities.tsx:174",className:"flex items-center justify-between",children:[i.jsxs("div",{"data-loc":"client/src/pages/Cities.tsx:175",className:"flex items-center gap-6 text-xs",children:[i.jsx("a",{"data-loc":"client/src/pages/Cities.tsx:176",href:"#",className:"hover:underline",children:"INSTAGRAM"}),i.jsx("a",{"data-loc":"client/src/pages/Cities.tsx:177",href:"#",className:"hover:underline",children:"TWITTER"}),i.jsx("a",{"data-loc":"client/src/pages/Cities.tsx:178",href:"#",className:"hover:underline",children:"SAVEE"})]}),i.jsxs("div",{"data-loc":"client/src/pages/Cities.tsx:180",className:"text-xs text-gray-500",children:[" ",new Date().getFullYear()," ALL RIGHTS RESERVED"]})]})})})]})}function rR(e){return e.split("-").map(t=>t.charAt(0).toUpperCase()+t.slice(1)).join(" ")}function iR(){const[,e]=ut(),[,t]=_l("/city/:city"),a=t?.city||"",[r,l]=j.useState([]),[c,d]=j.useState(!0),[f,p]=j.useState(null),[m,y]=j.useState(!1),[x,v]=j.useState([]),[b,N]=j.useState([]),[w,_]=j.useState(null);j.useEffect(()=>{async function I(){const{data:{session:M}}=await re.auth.getSession();if(_(M?.user||null),M?.user){const{data:P}=await re.from("saved_places").select("destination_slug").eq("user_id",M.user.id);P&&v(P.map(C=>C.destination_slug));const{data:O}=await re.from("visited_places").select("destination_slug").eq("user_id",M.user.id);O&&N(O.map(C=>C.destination_slug))}}I()},[]),j.useEffect(()=>{async function I(){const{data:M,error:P}=await re.from("destinations").select("*").eq("city",a).order("name");if(!P&&M){const O=M.map(C=>({name:C.name,slug:C.slug,city:C.city,category:C.category,content:C.content||C.description||"",mainImage:C.image||"",michelinStars:C.michelin_stars||0,crown:C.crown||!1,brand:"",cardTags:"",lat:0,long:0,myRating:0,reviewed:!1,subline:C.description||""}));l(O)}d(!1)}a&&I()},[a]);const E=I=>{p(I),y(!0)},T=(I,M)=>{v(M?P=>[...P,I]:P=>P.filter(O=>O!==I))},A=(I,M)=>{N(M?P=>[...P,I]:P=>P.filter(O=>O!==I))};return c?i.jsxs("div",{"data-loc":"client/src/pages/City.tsx:122",className:"min-h-screen bg-white dark:bg-gray-950 transition-colors duration-300",children:[i.jsx(Le,{"data-loc":"client/src/pages/City.tsx:123"}),i.jsx("main",{"data-loc":"client/src/pages/City.tsx:124",className:"px-6 md:px-10 py-12 dark:text-white",children:i.jsxs("div",{"data-loc":"client/src/pages/City.tsx:125",className:"max-w-[1920px] mx-auto",children:[i.jsx("div",{"data-loc":"client/src/pages/City.tsx:127",className:"mb-6 h-4 w-32 bg-gray-200 dark:bg-gray-800 rounded animate-shimmer"}),i.jsxs("div",{"data-loc":"client/src/pages/City.tsx:130",className:"mb-12",children:[i.jsx("div",{"data-loc":"client/src/pages/City.tsx:131",className:"h-12 w-64 bg-gray-200 dark:bg-gray-800 rounded animate-shimmer mb-4"}),i.jsx("div",{"data-loc":"client/src/pages/City.tsx:132",className:"h-4 w-32 bg-gray-200 dark:bg-gray-800 rounded animate-shimmer"})]}),i.jsx(ld,{"data-loc":"client/src/pages/City.tsx:136",count:16})]})})]}):i.jsxs("div",{"data-loc":"client/src/pages/City.tsx:144",className:"min-h-screen bg-white dark:bg-gray-950 transition-colors duration-300",children:[i.jsx(Le,{"data-loc":"client/src/pages/City.tsx:145"}),i.jsx("main",{"data-loc":"client/src/pages/City.tsx:148",className:"px-6 md:px-10 py-12 dark:text-white",children:i.jsxs("div",{"data-loc":"client/src/pages/City.tsx:149",className:"max-w-[1920px] mx-auto",children:[i.jsx("div",{"data-loc":"client/src/pages/City.tsx:151",className:"mb-6 animate-fade-in",children:i.jsx("button",{"data-loc":"client/src/pages/City.tsx:152",onClick:()=>e("/cities"),className:"text-xs text-gray-500 dark:text-gray-400 hover:text-black dark:hover:text-white transition-colors",children:" Back to Cities"})}),i.jsxs("div",{"data-loc":"client/src/pages/City.tsx:158",className:"mb-12 animate-fade-in",style:{animationDelay:"50ms"},children:[i.jsx("h1",{"data-loc":"client/src/pages/City.tsx:159",className:"text-4xl md:text-5xl font-bold uppercase mb-4 text-black dark:text-white",children:rR(a)}),i.jsxs("p",{"data-loc":"client/src/pages/City.tsx:162",className:"text-sm text-gray-600 dark:text-gray-400",children:[r.length," ",r.length===1?"destination":"destinations"]})]}),r.length===0?i.jsx("div",{"data-loc":"client/src/pages/City.tsx:169",className:"text-center py-20 animate-fade-in",children:i.jsx("p",{"data-loc":"client/src/pages/City.tsx:170",className:"text-xl text-gray-400 dark:text-gray-600",children:"No destinations found in this city."})}):i.jsx("div",{"data-loc":"client/src/pages/City.tsx:173",className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 xl:grid-cols-6 2xl:grid-cols-7 gap-4 md:gap-6",children:r.map((I,M)=>i.jsx(Im,{"data-loc":"client/src/pages/City.tsx:175",destination:I,onClick:()=>E(I),isSaved:x.includes(I.slug),isVisited:b.includes(I.slug),animationDelay:Math.min(M*30,500)},I.slug))})]})}),i.jsx(Ze,{"data-loc":"client/src/pages/City.tsx:189"}),f&&i.jsx(Nr,{"data-loc":"client/src/pages/City.tsx:193",destination:f,isOpen:m,onClose:()=>{y(!1),setTimeout(()=>p(null),300)},onSaveToggle:T,onVisitToggle:A})]})}function oR(){const[,e]=ut(),[t,a]=j.useState(""),[r,l]=j.useState(""),[c,d]=j.useState(!1),[f,p]=j.useState(null),[m,y]=j.useState(!1);j.useEffect(()=>{async function b(){const{data:{session:N}}=await re.auth.getSession();N&&e("/account")}b()},[e]);const x=async b=>{b.preventDefault(),d(!0),p(null);try{if(m){const{error:N}=await re.auth.signUp({email:t,password:r});if(N)throw N;le.success("Check your email for the confirmation link!")}else{const{error:N}=await re.auth.signInWithPassword({email:t,password:r});if(N)throw N;e("/account")}}catch(N){p(N.message)}finally{d(!1)}},v=async()=>{d(!0);try{const{error:b}=await re.auth.signInWithOAuth({provider:"google",options:{redirectTo:`${window.location.origin}/account`}});if(b)throw b}catch(b){le.error(b.message||"Failed to sign in with Google"),d(!1)}};return i.jsxs("div",{"data-loc":"client/src/pages/Login.tsx:75",className:"min-h-screen bg-white flex flex-col",children:[i.jsx(Le,{"data-loc":"client/src/pages/Login.tsx:76"}),i.jsx("div",{"data-loc":"client/src/pages/Login.tsx:79",className:"flex-1 flex items-center justify-center px-4 py-12",children:i.jsxs("div",{"data-loc":"client/src/pages/Login.tsx:80",className:"w-full max-w-md",children:[i.jsxs("div",{"data-loc":"client/src/pages/Login.tsx:81",className:"mb-8 text-center",children:[i.jsx("h1",{"data-loc":"client/src/pages/Login.tsx:82",className:"text-2xl font-bold uppercase mb-2",children:m?"Create Account":"Sign In"}),i.jsx("p",{"data-loc":"client/src/pages/Login.tsx:85",className:"text-sm text-gray-600",children:m?"Sign up to save your favorite destinations":"Access your saved places and travel history"})]}),i.jsxs("div",{"data-loc":"client/src/pages/Login.tsx:92",className:"space-y-6",children:[i.jsx(Re,{"data-loc":"client/src/pages/Login.tsx:94",onClick:v,disabled:c,className:"w-full h-12 bg-black text-white hover:bg-gray-800 text-xs font-bold uppercase",children:c?"Loading...":"Continue with Google"}),i.jsxs("div",{"data-loc":"client/src/pages/Login.tsx:102",className:"relative",children:[i.jsx("div",{"data-loc":"client/src/pages/Login.tsx:103",className:"absolute inset-0 flex items-center",children:i.jsx("div",{"data-loc":"client/src/pages/Login.tsx:104",className:"w-full border-t border-gray-300"})}),i.jsx("div",{"data-loc":"client/src/pages/Login.tsx:106",className:"relative flex justify-center text-xs uppercase",children:i.jsx("span",{"data-loc":"client/src/pages/Login.tsx:107",className:"bg-white px-2 text-gray-500",children:"Or"})})]}),i.jsxs("form",{"data-loc":"client/src/pages/Login.tsx:112",onSubmit:x,className:"space-y-4",children:[i.jsx("div",{"data-loc":"client/src/pages/Login.tsx:113",children:i.jsx(wt,{"data-loc":"client/src/pages/Login.tsx:114",id:"email",type:"email",value:t,onChange:b=>a(b.target.value),placeholder:"Email",required:!0,disabled:c,className:"h-12 bg-[#efefef] border-none"})}),i.jsx("div",{"data-loc":"client/src/pages/Login.tsx:126",children:i.jsx(wt,{"data-loc":"client/src/pages/Login.tsx:127",id:"password",type:"password",value:r,onChange:b=>l(b.target.value),placeholder:"Password",required:!0,disabled:c,minLength:6,className:"h-12 bg-[#efefef] border-none"})}),f&&i.jsx("div",{"data-loc":"client/src/pages/Login.tsx:141",className:"bg-red-50 border border-red-200 text-red-600 p-3 text-sm",children:f}),i.jsx(Re,{"data-loc":"client/src/pages/Login.tsx:146",type:"submit",className:"w-full h-12 border-2 border-black bg-white text-black hover:bg-black hover:text-white text-xs font-bold uppercase",disabled:c,children:c?"Loading...":m?"Sign Up":"Sign In"})]}),i.jsx("div",{"data-loc":"client/src/pages/Login.tsx:155",className:"text-center",children:i.jsx("button",{"data-loc":"client/src/pages/Login.tsx:156",onClick:()=>{y(!m),p(null)},className:"text-xs font-bold uppercase hover:underline",children:m?"Already have an account? Sign in":"Don't have an account? Sign up"})})]}),i.jsx("div",{"data-loc":"client/src/pages/Login.tsx:170",className:"mt-8 text-center",children:i.jsx("button",{"data-loc":"client/src/pages/Login.tsx:171",onClick:()=>e("/"),className:"text-xs font-bold uppercase hover:underline",children:" Back to Home"})})]})}),i.jsx("footer",{"data-loc":"client/src/pages/Login.tsx:182",className:"border-t border-gray-200 py-8",children:i.jsx("div",{"data-loc":"client/src/pages/Login.tsx:183",className:"max-w-[1920px] mx-auto px-4",children:i.jsx("div",{"data-loc":"client/src/pages/Login.tsx:184",className:"flex items-center justify-center",children:i.jsxs("div",{"data-loc":"client/src/pages/Login.tsx:185",className:"text-xs text-gray-500",children:[" ",new Date().getFullYear()," ALL RIGHTS RESERVED"]})})})})]})}function kt({className:e,...t}){return i.jsx("div",{"data-loc":"client/src/components/ui/card.tsx:7","data-slot":"card",className:Ye("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm",e),...t})}function Ht({className:e,...t}){return i.jsx("div",{"data-loc":"client/src/components/ui/card.tsx:20","data-slot":"card-header",className:Ye("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-2 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",e),...t})}function $t({className:e,...t}){return i.jsx("div",{"data-loc":"client/src/components/ui/card.tsx:33","data-slot":"card-title",className:Ye("leading-none font-semibold",e),...t})}function Ma({className:e,...t}){return i.jsx("div",{"data-loc":"client/src/components/ui/card.tsx:43","data-slot":"card-description",className:Ye("text-muted-foreground text-sm",e),...t})}function Tt({className:e,...t}){return i.jsx("div",{"data-loc":"client/src/components/ui/card.tsx:66","data-slot":"card-content",className:Ye("px-6",e),...t})}function lR({className:e,...t}){return i.jsx("div",{"data-loc":"client/src/components/ui/card.tsx:76","data-slot":"card-footer",className:Ye("flex items-center px-6 [.border-t]:pt-6",e),...t})}function cR(e){const t=e+"CollectionProvider",[a,r]=qi(t),[l,c]=a(t,{collectionRef:{current:null},itemMap:new Map}),d=w=>{const{scope:_,children:E}=w,T=oe.useRef(null),A=oe.useRef(new Map).current;return i.jsx(l,{scope:_,itemMap:A,collectionRef:T,children:E})};d.displayName=t;const f=e+"CollectionSlot",p=cl(f),m=oe.forwardRef((w,_)=>{const{scope:E,children:T}=w,A=c(f,E),I=us(_,A.collectionRef);return i.jsx(p,{ref:I,children:T})});m.displayName=f;const y=e+"CollectionItemSlot",x="data-radix-collection-item",v=cl(y),b=oe.forwardRef((w,_)=>{const{scope:E,children:T,...A}=w,I=oe.useRef(null),M=us(_,I),P=c(y,E);return oe.useEffect(()=>(P.itemMap.set(I,{ref:I,...A}),()=>void P.itemMap.delete(I))),i.jsx(v,{[x]:"",ref:M,children:T})});b.displayName=y;function N(w){const _=c(e+"CollectionConsumer",w);return oe.useCallback(()=>{const T=_.collectionRef.current;if(!T)return[];const A=Array.from(T.querySelectorAll(`[${x}]`));return Array.from(_.itemMap.values()).sort((P,O)=>A.indexOf(P.ref.current)-A.indexOf(O.ref.current))},[_.collectionRef,_.itemMap])}return[{Provider:d,Slot:m,ItemSlot:b},N,r]}var uR=j.createContext(void 0);function zj(e){const t=j.useContext(uR);return e||t||"ltr"}var rp="rovingFocusGroup.onEntryFocus",dR={bubbles:!1,cancelable:!0},Al="RovingFocusGroup",[Jp,qj,fR]=cR(Al),[hR,Bj]=qi(Al,[fR]),[pR,mR]=hR(Al),Hj=j.forwardRef((e,t)=>i.jsx(Jp.Provider,{scope:e.__scopeRovingFocusGroup,children:i.jsx(Jp.Slot,{scope:e.__scopeRovingFocusGroup,children:i.jsx(gR,{...e,ref:t})})}));Hj.displayName=Al;var gR=j.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:a,orientation:r,loop:l=!1,dir:c,currentTabStopId:d,defaultCurrentTabStopId:f,onCurrentTabStopIdChange:p,onEntryFocus:m,preventScrollOnEntryFocus:y=!1,...x}=e,v=j.useRef(null),b=us(t,v),N=zj(c),[w,_]=bm({prop:d,defaultProp:f??null,onChange:p,caller:Al}),[E,T]=j.useState(!1),A=yr(m),I=qj(a),M=j.useRef(!1),[P,O]=j.useState(0);return j.useEffect(()=>{const C=v.current;if(C)return C.addEventListener(rp,A),()=>C.removeEventListener(rp,A)},[A]),i.jsx(pR,{scope:a,orientation:r,dir:N,loop:l,currentTabStopId:w,onItemFocus:j.useCallback(C=>_(C),[_]),onItemShiftTab:j.useCallback(()=>T(!0),[]),onFocusableItemAdd:j.useCallback(()=>O(C=>C+1),[]),onFocusableItemRemove:j.useCallback(()=>O(C=>C-1),[]),children:i.jsx(ct.div,{tabIndex:E||P===0?-1:0,"data-orientation":r,...x,ref:b,style:{outline:"none",...e.style},onMouseDown:rt(e.onMouseDown,()=>{M.current=!0}),onFocus:rt(e.onFocus,C=>{const z=!M.current;if(C.target===C.currentTarget&&z&&!E){const G=new CustomEvent(rp,dR);if(C.currentTarget.dispatchEvent(G),!G.defaultPrevented){const X=I().filter(D=>D.focusable),B=X.find(D=>D.active),se=X.find(D=>D.id===w),ee=[B,se,...X].filter(Boolean).map(D=>D.ref.current);Gj(ee,y)}}M.current=!1}),onBlur:rt(e.onBlur,()=>T(!1))})})}),$j="RovingFocusGroupItem",Fj=j.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:a,focusable:r=!0,active:l=!1,tabStopId:c,children:d,...f}=e,p=el(),m=c||p,y=mR($j,a),x=y.currentTabStopId===m,v=qj(a),{onFocusableItemAdd:b,onFocusableItemRemove:N,currentTabStopId:w}=y;return j.useEffect(()=>{if(r)return b(),()=>N()},[r,b,N]),i.jsx(Jp.ItemSlot,{scope:a,id:m,focusable:r,active:l,children:i.jsx(ct.span,{tabIndex:x?0:-1,"data-orientation":y.orientation,...f,ref:t,onMouseDown:rt(e.onMouseDown,_=>{r?y.onItemFocus(m):_.preventDefault()}),onFocus:rt(e.onFocus,()=>y.onItemFocus(m)),onKeyDown:rt(e.onKeyDown,_=>{if(_.key==="Tab"&&_.shiftKey){y.onItemShiftTab();return}if(_.target!==_.currentTarget)return;const E=vR(_,y.orientation,y.dir);if(E!==void 0){if(_.metaKey||_.ctrlKey||_.altKey||_.shiftKey)return;_.preventDefault();let A=v().filter(I=>I.focusable).map(I=>I.ref.current);if(E==="last")A.reverse();else if(E==="prev"||E==="next"){E==="prev"&&A.reverse();const I=A.indexOf(_.currentTarget);A=y.loop?bR(A,I+1):A.slice(I+1)}setTimeout(()=>Gj(A))}}),children:typeof d=="function"?d({isCurrentTabStop:x,hasTabStop:w!=null}):d})})});Fj.displayName=$j;var xR={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function yR(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function vR(e,t,a){const r=yR(e.key,a);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return xR[r]}function Gj(e,t=!1){const a=document.activeElement;for(const r of e)if(r===a||(r.focus({preventScroll:t}),document.activeElement!==a))return}function bR(e,t){return e.map((a,r)=>e[(t+r)%e.length])}var wR=Hj,jR=Fj,cd="Tabs",[SR]=qi(cd,[Bj]),Vj=Bj(),[_R,Km]=SR(cd),Qj=j.forwardRef((e,t)=>{const{__scopeTabs:a,value:r,onValueChange:l,defaultValue:c,orientation:d="horizontal",dir:f,activationMode:p="automatic",...m}=e,y=zj(f),[x,v]=bm({prop:r,onChange:l,defaultProp:c??"",caller:cd});return i.jsx(_R,{scope:a,baseId:el(),value:x,onValueChange:v,orientation:d,dir:y,activationMode:p,children:i.jsx(ct.div,{dir:y,"data-orientation":d,...m,ref:t})})});Qj.displayName=cd;var Yj="TabsList",Kj=j.forwardRef((e,t)=>{const{__scopeTabs:a,loop:r=!0,...l}=e,c=Km(Yj,a),d=Vj(a);return i.jsx(wR,{asChild:!0,...d,orientation:c.orientation,dir:c.dir,loop:r,children:i.jsx(ct.div,{role:"tablist","aria-orientation":c.orientation,...l,ref:t})})});Kj.displayName=Yj;var Wj="TabsTrigger",Xj=j.forwardRef((e,t)=>{const{__scopeTabs:a,value:r,disabled:l=!1,...c}=e,d=Km(Wj,a),f=Vj(a),p=eS(d.baseId,r),m=tS(d.baseId,r),y=r===d.value;return i.jsx(jR,{asChild:!0,...f,focusable:!l,active:y,children:i.jsx(ct.button,{type:"button",role:"tab","aria-selected":y,"aria-controls":m,"data-state":y?"active":"inactive","data-disabled":l?"":void 0,disabled:l,id:p,...c,ref:t,onMouseDown:rt(e.onMouseDown,x=>{!l&&x.button===0&&x.ctrlKey===!1?d.onValueChange(r):x.preventDefault()}),onKeyDown:rt(e.onKeyDown,x=>{[" ","Enter"].includes(x.key)&&d.onValueChange(r)}),onFocus:rt(e.onFocus,()=>{const x=d.activationMode!=="manual";!y&&!l&&x&&d.onValueChange(r)})})})});Xj.displayName=Wj;var Jj="TabsContent",Zj=j.forwardRef((e,t)=>{const{__scopeTabs:a,value:r,forceMount:l,children:c,...d}=e,f=Km(Jj,a),p=eS(f.baseId,r),m=tS(f.baseId,r),y=r===f.value,x=j.useRef(y);return j.useEffect(()=>{const v=requestAnimationFrame(()=>x.current=!1);return()=>cancelAnimationFrame(v)},[]),i.jsx($i,{present:l||y,children:({present:v})=>i.jsx(ct.div,{"data-state":y?"active":"inactive","data-orientation":f.orientation,role:"tabpanel","aria-labelledby":p,hidden:!v,id:m,tabIndex:0,...d,ref:t,style:{...e.style,animationDuration:x.current?"0s":void 0},children:v&&c})})});Zj.displayName=Jj;function eS(e,t){return`${e}-trigger-${t}`}function tS(e,t){return`${e}-content-${t}`}var NR=Qj,kR=Kj,ER=Xj,AR=Zj;function CR({className:e,...t}){return i.jsx(NR,{"data-loc":"client/src/components/ui/tabs.tsx:11","data-slot":"tabs",className:Ye("flex flex-col gap-2",e),...t})}function TR({className:e,...t}){return i.jsx(kR,{"data-loc":"client/src/components/ui/tabs.tsx:24","data-slot":"tabs-list",className:Ye("bg-muted text-muted-foreground inline-flex h-9 w-fit items-center justify-center rounded-lg p-[3px]",e),...t})}function hu({className:e,...t}){return i.jsx(ER,{"data-loc":"client/src/components/ui/tabs.tsx:40","data-slot":"tabs-trigger",className:Ye("data-[state=active]:bg-background dark:data-[state=active]:text-foreground focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:outline-ring dark:data-[state=active]:border-input dark:data-[state=active]:bg-input/30 text-foreground dark:text-muted-foreground inline-flex h-[calc(100%-1px)] flex-1 items-center justify-center gap-1.5 rounded-md border border-transparent px-2 py-1 text-sm font-medium whitespace-nowrap transition-[color,box-shadow] focus-visible:ring-[3px] focus-visible:outline-1 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:shadow-sm [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",e),...t})}function pu({className:e,...t}){return i.jsx(AR,{"data-loc":"client/src/components/ui/tabs.tsx:56","data-slot":"tabs-content",className:Ye("flex-1 outline-none",e),...t})}const OR=oj("inline-flex items-center justify-center rounded-md border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90",secondary:"border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90",destructive:"border-transparent bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground"}},defaultVariants:{variant:"default"}});function Ci({className:e,variant:t,asChild:a=!1,...r}){const l=a?l1:"span";return i.jsx(l,{"data-loc":"client/src/components/ui/badge.tsx:38","data-slot":"badge",className:Ye(OR({variant:t}),e),...r})}var DR="Separator",Ub="horizontal",RR=["horizontal","vertical"],sS=j.forwardRef((e,t)=>{const{decorative:a,orientation:r=Ub,...l}=e,c=PR(r)?r:Ub,f=a?{role:"none"}:{"aria-orientation":c==="vertical"?c:void 0,role:"separator"};return i.jsx(ct.div,{"data-orientation":c,...f,...l,ref:t})});sS.displayName=DR;function PR(e){return RR.includes(e)}var MR=sS;function mu({className:e,orientation:t="horizontal",decorative:a=!0,...r}){return i.jsx(MR,{"data-loc":"client/src/components/ui/separator.tsx:13","data-slot":"separator",decorative:a,orientation:t,className:Ye("bg-border shrink-0 data-[orientation=horizontal]:h-px data-[orientation=horizontal]:w-full data-[orientation=vertical]:h-full data-[orientation=vertical]:w-px",e),...r})}function Ib(e){return e.split("-").map(t=>t.charAt(0).toUpperCase()+t.slice(1)).join(" ")}function zb(){const[,e]=ut(),{user:t,loading:a}=El({redirectOnUnauthenticated:!0}),[r,l]=j.useState([]),[c,d]=j.useState([]),[f,p]=j.useState(null),[m,y]=j.useState(!1),[x,v]=j.useState([]),[b,N]=j.useState(!1),[w,_]=j.useState({name:"",email:""}),[E,T]=j.useState(!0),{data:A}=Ut.trips.list.useQuery(void 0,{enabled:!!t});j.useEffect(()=>{async function z(){const{data:G}=await re.from("destinations").select("*");if(G){const X=G.map(B=>({name:B.name,slug:B.slug,city:B.city,category:B.category,content:B.content||B.description||"",mainImage:B.image||"",michelinStars:B.michelin_stars||0,crown:B.crown||!1,brand:"",cardTags:"",lat:0,long:0,myRating:0,reviewed:!1,subline:B.description||""}));v(X)}}z()},[]),j.useEffect(()=>{async function z(){if(!t){T(!1);return}try{T(!0),_({name:t.name||"",email:t.email||""});const{data:{session:G}}=await re.auth.getSession();if(!G){T(!1);return}const[X,B]=await Promise.all([re.from("saved_places").select("destination_slug").eq("user_id",G.user.id),re.from("visited_places").select("destination_slug, visited_at, rating, notes").eq("user_id",G.user.id).order("visited_at",{ascending:!1})]),se=new Set;if(X.data&&X.data.forEach(R=>se.add(R.destination_slug)),B.data&&B.data.forEach(R=>se.add(R.destination_slug)),se.size>0){const{data:R}=await re.from("destinations").select("slug, name, city, category, image").in("slug",Array.from(se));R&&(X.data&&l(X.data.map(ee=>{const D=R.find(Y=>Y.slug===ee.destination_slug);return D?{destination_slug:D.slug,destination:{name:D.name,city:D.city,category:D.category,image:D.image}}:null}).filter(ee=>ee!==null)),B.data&&d(B.data.map(ee=>{const D=R.find(Y=>Y.slug===ee.destination_slug);return D?{destination_slug:ee.destination_slug,visited_at:ee.visited_at,rating:ee.rating,notes:ee.notes,destination:{name:D.name,city:D.city,category:D.category,image:D.image}}:null}).filter(ee=>ee!==null)))}}catch(G){console.error("Error loading user data:",G)}finally{T(!1)}}z()},[t?.id]);const I=z=>{const G=x.find(X=>X.slug===z);G&&(p(G),y(!0))},M=async()=>{try{const{error:z}=await re.auth.updateUser({data:{name:w.name}});if(z)throw z;le.success("Profile updated successfully!"),N(!1)}catch(z){le.error(`Failed to update profile: ${z.message}`)}},P=async()=>{await re.auth.signOut(),e("/")},O=j.useMemo(()=>{const z=new Set([...r.map(B=>B.destination?.city).filter(Boolean),...c.filter(B=>B.destination).map(B=>B.destination.city)]),G=new Set(Array.from(z).map(B=>Mu[B]||"Other")),X=c.filter(B=>{const se=x.find(R=>R.slug===B.destination_slug);return se&&se.michelinStars>0}).length;return{uniqueCities:z,uniqueCountries:G,michelinCount:X}},[r,c,x]),C=a||E;return i.jsxs("div",{"data-loc":"client/src/pages/Account.tsx:230",className:"min-h-screen bg-white dark:bg-gray-950 transition-colors duration-300",children:[i.jsx(Le,{"data-loc":"client/src/pages/Account.tsx:231"}),i.jsx("main",{"data-loc":"client/src/pages/Account.tsx:234",className:`px-6 md:px-10 py-12 transition-opacity duration-500 ${C?"opacity-100":"opacity-0 pointer-events-none absolute"}`,children:i.jsxs("div",{"data-loc":"client/src/pages/Account.tsx:239",className:"max-w-7xl mx-auto",children:[i.jsxs("div",{"data-loc":"client/src/pages/Account.tsx:241",className:"mb-8",children:[i.jsx("div",{"data-loc":"client/src/pages/Account.tsx:242",className:"h-8 w-48 bg-gray-200 dark:bg-gray-800 rounded animate-shimmer mb-2"}),i.jsx("div",{"data-loc":"client/src/pages/Account.tsx:243",className:"h-4 w-96 bg-gray-200 dark:bg-gray-800 rounded animate-shimmer"})]}),i.jsx("div",{"data-loc":"client/src/pages/Account.tsx:247",className:"h-10 w-[600px] bg-gray-200 dark:bg-gray-800 rounded animate-shimmer mb-6"}),i.jsx("div",{"data-loc":"client/src/pages/Account.tsx:250",className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:Array.from({length:4}).map((z,G)=>i.jsx("div",{"data-loc":"client/src/pages/Account.tsx:252",className:"h-32 bg-gray-200 dark:bg-gray-800 rounded-lg animate-shimmer"},G))})]})}),i.jsx("main",{"data-loc":"client/src/pages/Account.tsx:259",className:`px-6 md:px-10 py-12 dark:text-white transition-opacity duration-500 ${C?"opacity-0 pointer-events-none":"opacity-100"}`,children:i.jsxs("div",{"data-loc":"client/src/pages/Account.tsx:264",className:"max-w-7xl mx-auto",children:[i.jsxs("div",{"data-loc":"client/src/pages/Account.tsx:266",className:"mb-8",children:[i.jsx("h1",{"data-loc":"client/src/pages/Account.tsx:267",className:"text-3xl font-bold mb-2",children:"Account"}),i.jsx("p",{"data-loc":"client/src/pages/Account.tsx:268",className:"text-gray-600 dark:text-gray-400",children:"Manage your profile, view your travel stats, and customize your settings"})]}),i.jsxs(CR,{"data-loc":"client/src/pages/Account.tsx:273",defaultValue:"overview",className:"space-y-6",children:[i.jsxs(TR,{"data-loc":"client/src/pages/Account.tsx:274",className:"grid w-full grid-cols-4 lg:w-[600px]",children:[i.jsx(hu,{"data-loc":"client/src/pages/Account.tsx:275",value:"overview",children:"Overview"}),i.jsx(hu,{"data-loc":"client/src/pages/Account.tsx:276",value:"profile",children:"Profile"}),i.jsx(hu,{"data-loc":"client/src/pages/Account.tsx:277",value:"collection",children:"Collection"}),i.jsx(hu,{"data-loc":"client/src/pages/Account.tsx:278",value:"settings",children:"Settings"})]}),i.jsxs(pu,{"data-loc":"client/src/pages/Account.tsx:282",value:"overview",className:"space-y-6",children:[i.jsxs("div",{"data-loc":"client/src/pages/Account.tsx:284",className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[i.jsxs(kt,{"data-loc":"client/src/pages/Account.tsx:285",children:[i.jsxs(Ht,{"data-loc":"client/src/pages/Account.tsx:286",className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[i.jsx($t,{"data-loc":"client/src/pages/Account.tsx:287",className:"text-sm font-medium",children:"Places Visited"}),i.jsx(ml,{"data-loc":"client/src/pages/Account.tsx:288",className:"h-4 w-4 text-muted-foreground"})]}),i.jsxs(Tt,{"data-loc":"client/src/pages/Account.tsx:290",children:[i.jsx("div",{"data-loc":"client/src/pages/Account.tsx:291",className:"text-2xl font-bold",children:c.length}),i.jsxs("p",{"data-loc":"client/src/pages/Account.tsx:292",className:"text-xs text-muted-foreground mt-1",children:["Across ",O.uniqueCities.size," cities"]})]})]}),i.jsxs(kt,{"data-loc":"client/src/pages/Account.tsx:298",children:[i.jsxs(Ht,{"data-loc":"client/src/pages/Account.tsx:299",className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[i.jsx($t,{"data-loc":"client/src/pages/Account.tsx:300",className:"text-sm font-medium",children:"Saved"}),i.jsx(Us,{"data-loc":"client/src/pages/Account.tsx:301",className:"h-4 w-4 text-muted-foreground"})]}),i.jsxs(Tt,{"data-loc":"client/src/pages/Account.tsx:303",children:[i.jsx("div",{"data-loc":"client/src/pages/Account.tsx:304",className:"text-2xl font-bold",children:r.length}),i.jsx("p",{"data-loc":"client/src/pages/Account.tsx:305",className:"text-xs text-muted-foreground mt-1",children:"Wishlist items"})]})]}),i.jsxs(kt,{"data-loc":"client/src/pages/Account.tsx:311",children:[i.jsxs(Ht,{"data-loc":"client/src/pages/Account.tsx:312",className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[i.jsx($t,{"data-loc":"client/src/pages/Account.tsx:313",className:"text-sm font-medium",children:"Countries"}),i.jsx(wb,{"data-loc":"client/src/pages/Account.tsx:314",className:"h-4 w-4 text-muted-foreground"})]}),i.jsxs(Tt,{"data-loc":"client/src/pages/Account.tsx:316",children:[i.jsx("div",{"data-loc":"client/src/pages/Account.tsx:317",className:"text-2xl font-bold",children:O.uniqueCountries.size}),i.jsx("p",{"data-loc":"client/src/pages/Account.tsx:318",className:"text-xs text-muted-foreground mt-1",children:"Explored"})]})]}),i.jsxs(kt,{"data-loc":"client/src/pages/Account.tsx:324",children:[i.jsxs(Ht,{"data-loc":"client/src/pages/Account.tsx:325",className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[i.jsx($t,{"data-loc":"client/src/pages/Account.tsx:326",className:"text-sm font-medium",children:"Trips"}),i.jsx(ZD,{"data-loc":"client/src/pages/Account.tsx:327",className:"h-4 w-4 text-muted-foreground"})]}),i.jsxs(Tt,{"data-loc":"client/src/pages/Account.tsx:329",children:[i.jsx("div",{"data-loc":"client/src/pages/Account.tsx:330",className:"text-2xl font-bold",children:A?.length||0}),i.jsx("p",{"data-loc":"client/src/pages/Account.tsx:331",className:"text-xs text-muted-foreground mt-1",children:"Planned adventures"})]})]})]}),A&&A.length>0&&i.jsxs(kt,{"data-loc":"client/src/pages/Account.tsx:340",children:[i.jsxs(Ht,{"data-loc":"client/src/pages/Account.tsx:341",children:[i.jsxs($t,{"data-loc":"client/src/pages/Account.tsx:342",className:"flex items-center gap-2",children:[i.jsx(An,{"data-loc":"client/src/pages/Account.tsx:343",className:"h-5 w-5"}),"Recent Trips"]}),i.jsx(Ma,{"data-loc":"client/src/pages/Account.tsx:346",children:"Your latest travel plans"})]}),i.jsxs(Tt,{"data-loc":"client/src/pages/Account.tsx:348",children:[i.jsx("div",{"data-loc":"client/src/pages/Account.tsx:349",className:"space-y-4",children:A.slice(0,3).map(z=>i.jsxs("div",{"data-loc":"client/src/pages/Account.tsx:351",className:"flex items-center justify-between p-4 border border-gray-200 dark:border-gray-800 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-900 transition-colors cursor-pointer",onClick:()=>e(`/trip/${z.id}`),children:[i.jsxs("div",{"data-loc":"client/src/pages/Account.tsx:356",className:"flex-1",children:[i.jsx("h3",{"data-loc":"client/src/pages/Account.tsx:357",className:"font-semibold",children:z.title}),z.destination&&i.jsxs("p",{"data-loc":"client/src/pages/Account.tsx:359",className:"text-sm text-gray-600 dark:text-gray-400 flex items-center gap-1 mt-1",children:[i.jsx(Gt,{"data-loc":"client/src/pages/Account.tsx:360",className:"h-3 w-3"}),z.destination]})]}),i.jsx(Ci,{"data-loc":"client/src/pages/Account.tsx:365",children:z.status||"planning"})]},z.id))}),A.length>3&&i.jsx(Re,{"data-loc":"client/src/pages/Account.tsx:370",variant:"outline",className:"w-full mt-4",onClick:()=>e("/trips"),children:"View All Trips"})]})]}),O.michelinCount>0&&i.jsxs(kt,{"data-loc":"client/src/pages/Account.tsx:384",children:[i.jsx(Ht,{"data-loc":"client/src/pages/Account.tsx:385",children:i.jsxs($t,{"data-loc":"client/src/pages/Account.tsx:386",className:"flex items-center gap-2",children:[i.jsx(cs,{"data-loc":"client/src/pages/Account.tsx:387",className:"h-5 w-5 text-yellow-500"}),"Travel Achievements"]})}),i.jsx(Tt,{"data-loc":"client/src/pages/Account.tsx:391",children:i.jsxs("div",{"data-loc":"client/src/pages/Account.tsx:392",className:"space-y-3",children:[O.michelinCount>0&&i.jsxs("div",{"data-loc":"client/src/pages/Account.tsx:394",className:"flex items-center justify-between p-3 bg-yellow-50 dark:bg-yellow-950/20 rounded-lg",children:[i.jsxs("div",{"data-loc":"client/src/pages/Account.tsx:395",className:"flex items-center gap-3",children:[i.jsx("div",{"data-loc":"client/src/pages/Account.tsx:396",className:"h-10 w-10 rounded-full bg-yellow-100 dark:bg-yellow-900/30 flex items-center justify-center",children:i.jsx(cs,{"data-loc":"client/src/pages/Account.tsx:397",className:"h-5 w-5 text-yellow-600 dark:text-yellow-500"})}),i.jsxs("div",{"data-loc":"client/src/pages/Account.tsx:399",children:[i.jsx("p",{"data-loc":"client/src/pages/Account.tsx:400",className:"font-semibold",children:"Michelin Explorer"}),i.jsxs("p",{"data-loc":"client/src/pages/Account.tsx:401",className:"text-sm text-gray-600 dark:text-gray-400",children:["Visited ",O.michelinCount," Michelin-starred ",O.michelinCount===1?"restaurant":"restaurants"]})]})]}),i.jsx(Ci,{"data-loc":"client/src/pages/Account.tsx:406",variant:"secondary",children:O.michelinCount})]}),O.uniqueCountries.size>=5&&i.jsxs("div",{"data-loc":"client/src/pages/Account.tsx:410",className:"flex items-center justify-between p-3 bg-blue-50 dark:bg-blue-950/20 rounded-lg",children:[i.jsxs("div",{"data-loc":"client/src/pages/Account.tsx:411",className:"flex items-center gap-3",children:[i.jsx("div",{"data-loc":"client/src/pages/Account.tsx:412",className:"h-10 w-10 rounded-full bg-blue-100 dark:bg-blue-900/30 flex items-center justify-center",children:i.jsx(wb,{"data-loc":"client/src/pages/Account.tsx:413",className:"h-5 w-5 text-blue-600 dark:text-blue-500"})}),i.jsxs("div",{"data-loc":"client/src/pages/Account.tsx:415",children:[i.jsx("p",{"data-loc":"client/src/pages/Account.tsx:416",className:"font-semibold",children:"Globe Trotter"}),i.jsxs("p",{"data-loc":"client/src/pages/Account.tsx:417",className:"text-sm text-gray-600 dark:text-gray-400",children:["Explored ",O.uniqueCountries.size," countries"]})]})]}),i.jsx(Ci,{"data-loc":"client/src/pages/Account.tsx:422",variant:"secondary",children:O.uniqueCountries.size})]})]})})]})]}),i.jsxs(pu,{"data-loc":"client/src/pages/Account.tsx:432",value:"profile",className:"space-y-6",children:[i.jsxs(kt,{"data-loc":"client/src/pages/Account.tsx:433",children:[i.jsx(Ht,{"data-loc":"client/src/pages/Account.tsx:434",children:i.jsxs("div",{"data-loc":"client/src/pages/Account.tsx:435",className:"flex items-center justify-between",children:[i.jsxs("div",{"data-loc":"client/src/pages/Account.tsx:436",children:[i.jsx($t,{"data-loc":"client/src/pages/Account.tsx:437",children:"Personal Information"}),i.jsx(Ma,{"data-loc":"client/src/pages/Account.tsx:438",children:"Update your profile details"})]}),!b&&i.jsxs(Re,{"data-loc":"client/src/pages/Account.tsx:441",variant:"outline",size:"sm",onClick:()=>N(!0),children:[i.jsx(Um,{"data-loc":"client/src/pages/Account.tsx:446",className:"h-4 w-4 mr-2"}),"Edit"]})]})}),i.jsxs(Tt,{"data-loc":"client/src/pages/Account.tsx:452",className:"space-y-4",children:[i.jsxs("div",{"data-loc":"client/src/pages/Account.tsx:453",className:"grid gap-4",children:[i.jsxs("div",{"data-loc":"client/src/pages/Account.tsx:454",className:"grid gap-2",children:[i.jsx(pt,{"data-loc":"client/src/pages/Account.tsx:455",htmlFor:"name",children:"Name"}),i.jsx(wt,{"data-loc":"client/src/pages/Account.tsx:456",id:"name",value:w.name,onChange:z=>_({...w,name:z.target.value}),disabled:!b})]}),i.jsxs("div",{"data-loc":"client/src/pages/Account.tsx:463",className:"grid gap-2",children:[i.jsx(pt,{"data-loc":"client/src/pages/Account.tsx:464",htmlFor:"email",children:"Email"}),i.jsx(wt,{"data-loc":"client/src/pages/Account.tsx:465",id:"email",type:"email",value:w.email,disabled:!0,className:"bg-gray-50 dark:bg-gray-900"}),i.jsx("p",{"data-loc":"client/src/pages/Account.tsx:472",className:"text-xs text-gray-500",children:"Email cannot be changed. Contact support if you need to update it."})]})]}),b&&i.jsxs("div",{"data-loc":"client/src/pages/Account.tsx:479",className:"flex gap-2 pt-4",children:[i.jsxs(Re,{"data-loc":"client/src/pages/Account.tsx:480",onClick:M,children:[i.jsx(rj,{"data-loc":"client/src/pages/Account.tsx:481",className:"h-4 w-4 mr-2"}),"Save Changes"]}),i.jsxs(Re,{"data-loc":"client/src/pages/Account.tsx:484",variant:"outline",onClick:()=>{N(!1),_({name:t?.name||"",email:t?.email||""})},children:[i.jsx(ua,{"data-loc":"client/src/pages/Account.tsx:494",className:"h-4 w-4 mr-2"}),"Cancel"]})]})]})]}),i.jsxs(kt,{"data-loc":"client/src/pages/Account.tsx:502",children:[i.jsxs(Ht,{"data-loc":"client/src/pages/Account.tsx:503",children:[i.jsx($t,{"data-loc":"client/src/pages/Account.tsx:504",children:"Account Information"}),i.jsx(Ma,{"data-loc":"client/src/pages/Account.tsx:505",children:"View your account details"})]}),i.jsx(Tt,{"data-loc":"client/src/pages/Account.tsx:507",children:i.jsxs("dl",{"data-loc":"client/src/pages/Account.tsx:508",className:"space-y-3",children:[i.jsxs("div",{"data-loc":"client/src/pages/Account.tsx:509",className:"flex justify-between items-center",children:[i.jsx("dt",{"data-loc":"client/src/pages/Account.tsx:510",className:"text-sm text-gray-600 dark:text-gray-400",children:"User ID"}),i.jsxs("dd",{"data-loc":"client/src/pages/Account.tsx:511",className:"text-sm font-mono",children:[t?.id?.substring(0,16),"..."]})]}),i.jsx(mu,{"data-loc":"client/src/pages/Account.tsx:513"}),i.jsxs("div",{"data-loc":"client/src/pages/Account.tsx:514",className:"flex justify-between items-center",children:[i.jsx("dt",{"data-loc":"client/src/pages/Account.tsx:515",className:"text-sm text-gray-600 dark:text-gray-400",children:"Member Since"}),i.jsx("dd",{"data-loc":"client/src/pages/Account.tsx:516",className:"text-sm",children:t?.createdAt?new Date(t.createdAt).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"}):"N/A"})]})]})})]})]}),i.jsxs(pu,{"data-loc":"client/src/pages/Account.tsx:530",value:"collection",className:"space-y-6",children:[i.jsxs(kt,{"data-loc":"client/src/pages/Account.tsx:531",children:[i.jsxs(Ht,{"data-loc":"client/src/pages/Account.tsx:532",children:[i.jsx($t,{"data-loc":"client/src/pages/Account.tsx:533",children:"Saved Places"}),i.jsx(Ma,{"data-loc":"client/src/pages/Account.tsx:534",children:"Places you want to visit"})]}),i.jsxs(Tt,{"data-loc":"client/src/pages/Account.tsx:536",children:[r.length===0?i.jsxs("div",{"data-loc":"client/src/pages/Account.tsx:538",className:"text-center py-12",children:[i.jsx(Us,{"data-loc":"client/src/pages/Account.tsx:539",className:"h-12 w-12 text-gray-300 dark:text-gray-700 mx-auto mb-4"}),i.jsx("p",{"data-loc":"client/src/pages/Account.tsx:540",className:"text-gray-500 dark:text-gray-400 mb-4",children:"No saved places yet"}),i.jsx(Re,{"data-loc":"client/src/pages/Account.tsx:541",onClick:()=>e("/"),children:"Explore Destinations"})]}):i.jsx("div",{"data-loc":"client/src/pages/Account.tsx:546",className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4",children:r.slice(0,8).map(z=>i.jsxs("button",{"data-loc":"client/src/pages/Account.tsx:548",onClick:()=>I(z.destination_slug),className:"group text-left",children:[i.jsx("div",{"data-loc":"client/src/pages/Account.tsx:553",className:"aspect-square bg-gray-100 dark:bg-gray-800 mb-2 overflow-hidden rounded-lg",children:z.destination.image&&i.jsx("img",{"data-loc":"client/src/pages/Account.tsx:555",src:z.destination.image,alt:z.destination.name,className:"w-full h-full object-cover transition-transform duration-500 group-hover:scale-105"})}),i.jsx("h3",{"data-loc":"client/src/pages/Account.tsx:562",className:"font-medium text-sm line-clamp-1",children:z.destination.name}),i.jsx("p",{"data-loc":"client/src/pages/Account.tsx:563",className:"text-xs text-gray-600 dark:text-gray-400",children:Ib(z.destination.city)})]},z.destination_slug))}),r.length>8&&i.jsxs(Re,{"data-loc":"client/src/pages/Account.tsx:569",variant:"outline",className:"w-full mt-4",onClick:()=>e("/saved"),children:["View All ",r.length," Saved Places"]})]})]}),i.jsxs(kt,{"data-loc":"client/src/pages/Account.tsx:576",children:[i.jsxs(Ht,{"data-loc":"client/src/pages/Account.tsx:577",children:[i.jsx($t,{"data-loc":"client/src/pages/Account.tsx:578",children:"Visited Places"}),i.jsx(Ma,{"data-loc":"client/src/pages/Account.tsx:579",children:"Places you've already been to"})]}),i.jsx(Tt,{"data-loc":"client/src/pages/Account.tsx:581",children:c.length===0?i.jsxs("div",{"data-loc":"client/src/pages/Account.tsx:583",className:"text-center py-12",children:[i.jsx(ml,{"data-loc":"client/src/pages/Account.tsx:584",className:"h-12 w-12 text-gray-300 dark:text-gray-700 mx-auto mb-4"}),i.jsx("p",{"data-loc":"client/src/pages/Account.tsx:585",className:"text-gray-500 dark:text-gray-400",children:"No visited places yet"})]}):i.jsx("div",{"data-loc":"client/src/pages/Account.tsx:588",className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4",children:c.slice(0,8).map(z=>z.destination&&i.jsxs("button",{"data-loc":"client/src/pages/Account.tsx:591",onClick:()=>I(z.destination_slug),className:"group text-left",children:[i.jsxs("div",{"data-loc":"client/src/pages/Account.tsx:596",className:"aspect-square bg-gray-100 dark:bg-gray-800 mb-2 overflow-hidden rounded-lg relative",children:[z.destination.image&&i.jsx("img",{"data-loc":"client/src/pages/Account.tsx:598",src:z.destination.image,alt:z.destination.name,className:"w-full h-full object-cover transition-transform duration-500 group-hover:scale-105"}),i.jsx(Ci,{"data-loc":"client/src/pages/Account.tsx:604",className:"absolute top-2 right-2",variant:"secondary",children:""})]}),i.jsx("h3",{"data-loc":"client/src/pages/Account.tsx:608",className:"font-medium text-sm line-clamp-1",children:z.destination.name}),i.jsx("p",{"data-loc":"client/src/pages/Account.tsx:609",className:"text-xs text-gray-600 dark:text-gray-400",children:Ib(z.destination.city)})]},z.destination_slug))})})]})]}),i.jsxs(pu,{"data-loc":"client/src/pages/Account.tsx:620",value:"settings",className:"space-y-6",children:[i.jsxs(kt,{"data-loc":"client/src/pages/Account.tsx:621",children:[i.jsxs(Ht,{"data-loc":"client/src/pages/Account.tsx:622",children:[i.jsx($t,{"data-loc":"client/src/pages/Account.tsx:623",children:"Account Actions"}),i.jsx(Ma,{"data-loc":"client/src/pages/Account.tsx:624",children:"Manage your account"})]}),i.jsx(Tt,{"data-loc":"client/src/pages/Account.tsx:626",className:"space-y-4",children:i.jsxs("div",{"data-loc":"client/src/pages/Account.tsx:627",className:"flex items-center justify-between p-4 border border-gray-200 dark:border-gray-800 rounded-lg",children:[i.jsxs("div",{"data-loc":"client/src/pages/Account.tsx:628",children:[i.jsx("h3",{"data-loc":"client/src/pages/Account.tsx:629",className:"font-semibold",children:"Sign Out"}),i.jsx("p",{"data-loc":"client/src/pages/Account.tsx:630",className:"text-sm text-gray-600 dark:text-gray-400",children:"Sign out of your account on this device"})]}),i.jsx(Re,{"data-loc":"client/src/pages/Account.tsx:634",variant:"outline",onClick:P,children:"Sign Out"})]})})]}),i.jsxs(kt,{"data-loc":"client/src/pages/Account.tsx:641",children:[i.jsx(Ht,{"data-loc":"client/src/pages/Account.tsx:642",children:i.jsxs($t,{"data-loc":"client/src/pages/Account.tsx:643",className:"flex items-center gap-2",children:[i.jsx(gl,{"data-loc":"client/src/pages/Account.tsx:644",className:"h-5 w-5"}),"Quick Stats"]})}),i.jsx(Tt,{"data-loc":"client/src/pages/Account.tsx:648",children:i.jsxs("dl",{"data-loc":"client/src/pages/Account.tsx:649",className:"space-y-3",children:[i.jsxs("div",{"data-loc":"client/src/pages/Account.tsx:650",className:"flex justify-between",children:[i.jsx("dt",{"data-loc":"client/src/pages/Account.tsx:651",className:"text-sm text-gray-600 dark:text-gray-400",children:"Total Destinations"}),i.jsx("dd",{"data-loc":"client/src/pages/Account.tsx:652",className:"font-semibold",children:r.length+c.length})]}),i.jsx(mu,{"data-loc":"client/src/pages/Account.tsx:654"}),i.jsxs("div",{"data-loc":"client/src/pages/Account.tsx:655",className:"flex justify-between",children:[i.jsx("dt",{"data-loc":"client/src/pages/Account.tsx:656",className:"text-sm text-gray-600 dark:text-gray-400",children:"Cities Explored"}),i.jsx("dd",{"data-loc":"client/src/pages/Account.tsx:657",className:"font-semibold",children:O.uniqueCities.size})]}),i.jsx(mu,{"data-loc":"client/src/pages/Account.tsx:659"}),i.jsxs("div",{"data-loc":"client/src/pages/Account.tsx:660",className:"flex justify-between",children:[i.jsx("dt",{"data-loc":"client/src/pages/Account.tsx:661",className:"text-sm text-gray-600 dark:text-gray-400",children:"Countries"}),i.jsx("dd",{"data-loc":"client/src/pages/Account.tsx:662",className:"font-semibold",children:O.uniqueCountries.size})]}),i.jsx(mu,{"data-loc":"client/src/pages/Account.tsx:664"}),i.jsxs("div",{"data-loc":"client/src/pages/Account.tsx:665",className:"flex justify-between",children:[i.jsx("dt",{"data-loc":"client/src/pages/Account.tsx:666",className:"text-sm text-gray-600 dark:text-gray-400",children:"Planned Trips"}),i.jsx("dd",{"data-loc":"client/src/pages/Account.tsx:667",className:"font-semibold",children:A?.length||0})]})]})})]})]})]})]})}),i.jsx(Ze,{"data-loc":"client/src/pages/Account.tsx:677"}),f&&i.jsx(Nr,{"data-loc":"client/src/pages/Account.tsx:681",destination:f,isOpen:m,onClose:()=>{y(!1),p(null)}})]})}function LR(){const e=Zu(),[,t]=ut(),[a,r]=j.useState(null),[l,c]=j.useState(null),[d,f]=j.useState(null),[p,m]=j.useState(!1),[y,x]=j.useState(!0),[v,b]=j.useState("saved"),[N,w]=j.useState([]),[_,E]=j.useState([]),[T,A]=j.useState(null),[I,M]=j.useState(!1),P=d&&a&&d.id===a.user_id;j.useEffect(()=>{async function G(){const{data:{session:X}}=await re.auth.getSession();f(X?.user||null)}G()},[]),j.useEffect(()=>{async function G(){if(!e.username)return;const{data:X,error:B}=await re.from("user_profiles").select("*").eq("username",e.username).single();if(B||!X){console.error("Error fetching profile:",B),t("/404");return}if(!X.is_public&&(!d||d.id!==X.user_id)){le.error("This profile is private"),t("/");return}if(r(X),await O(X.user_id),d&&d.id!==X.user_id){const{data:se}=await re.from("follows").select("*").eq("follower_id",d.id).eq("following_id",X.user_id).single();m(!!se)}x(!1)}G()},[e.username,d,t]);async function O(G){c({destinations_saved:0,destinations_visited:0,cities_count:0,countries_count:0,reviews_count:0,lists_count:0,followers_count:0,following_count:0})}async function C(){if(!d){le.error("Please sign in to follow users");return}if(a)if(p){const{error:G}=await re.from("follows").delete().eq("follower_id",d.id).eq("following_id",a.user_id);G?le.error("Failed to unfollow"):(m(!1),le.success("Unfollowed"))}else{const{error:G}=await re.from("follows").insert({follower_id:d.id,following_id:a.user_id});G?le.error("Failed to follow"):(m(!0),le.success("Following!"))}}const z={foodie:{label:" Foodie",color:"bg-red-100 text-red-800"},luxury:{label:" Luxury Traveler",color:"bg-purple-100 text-purple-800"},culture:{label:" Culture Seeker",color:"bg-blue-100 text-blue-800"},adventure:{label:" Adventurer",color:"bg-green-100 text-green-800"},budget:{label:" Budget Traveler",color:"bg-yellow-100 text-yellow-800"},solo:{label:" Solo Traveler",color:"bg-indigo-100 text-indigo-800"}};return y?i.jsxs("div",{"data-loc":"client/src/pages/Profile.tsx:185",className:"min-h-screen bg-white",children:[i.jsx(Le,{"data-loc":"client/src/pages/Profile.tsx:186"}),i.jsx("div",{"data-loc":"client/src/pages/Profile.tsx:187",className:"flex items-center justify-center h-[calc(100vh-200px)]",children:i.jsx("div",{"data-loc":"client/src/pages/Profile.tsx:188",className:"text-center",children:i.jsx("div",{"data-loc":"client/src/pages/Profile.tsx:189",className:"animate-pulse text-gray-400",children:"Loading profile..."})})}),i.jsx(Ze,{"data-loc":"client/src/pages/Profile.tsx:192"})]}):a?i.jsxs("div",{"data-loc":"client/src/pages/Profile.tsx:202",className:"min-h-screen bg-white",children:[i.jsx(Le,{"data-loc":"client/src/pages/Profile.tsx:203"}),i.jsx("div",{"data-loc":"client/src/pages/Profile.tsx:206",className:"w-full h-64 bg-gray-100 relative",children:a.cover_image?i.jsx("img",{"data-loc":"client/src/pages/Profile.tsx:208",src:a.cover_image,alt:"Cover",className:"w-full h-full object-cover"}):i.jsx("div",{"data-loc":"client/src/pages/Profile.tsx:214",className:"w-full h-full bg-gradient-to-br from-gray-100 to-gray-200"})}),i.jsxs("div",{"data-loc":"client/src/pages/Profile.tsx:219",className:"max-w-6xl mx-auto px-6 md:px-10 -mt-20 relative",children:[i.jsxs("div",{"data-loc":"client/src/pages/Profile.tsx:220",className:"flex flex-col md:flex-row gap-6 items-start",children:[i.jsx("div",{"data-loc":"client/src/pages/Profile.tsx:222",className:"relative",children:i.jsx("div",{"data-loc":"client/src/pages/Profile.tsx:223",className:"w-40 h-40 rounded-full border-4 border-white bg-gray-200 overflow-hidden",children:a.profile_photo?i.jsx("img",{"data-loc":"client/src/pages/Profile.tsx:225",src:a.profile_photo,alt:a.display_name||a.username,className:"w-full h-full object-cover"}):i.jsx("div",{"data-loc":"client/src/pages/Profile.tsx:231",className:"w-full h-full flex items-center justify-center text-4xl font-bold text-gray-400",children:(a.display_name||a.username).charAt(0).toUpperCase()})})}),i.jsxs("div",{"data-loc":"client/src/pages/Profile.tsx:239",className:"flex-1 pt-4",children:[i.jsxs("div",{"data-loc":"client/src/pages/Profile.tsx:240",className:"flex items-start justify-between mb-4",children:[i.jsxs("div",{"data-loc":"client/src/pages/Profile.tsx:241",children:[i.jsx("h1",{"data-loc":"client/src/pages/Profile.tsx:242",className:"text-3xl font-normal mb-1",children:a.display_name||a.username}),i.jsxs("p",{"data-loc":"client/src/pages/Profile.tsx:245",className:"text-gray-500",children:["@",a.username]})]}),i.jsx("div",{"data-loc":"client/src/pages/Profile.tsx:249",className:"flex gap-2",children:P?i.jsxs("button",{"data-loc":"client/src/pages/Profile.tsx:251",onClick:()=>t("/account"),className:"flex items-center gap-2 px-4 py-2 border border-gray-300 hover:border-black transition-colors text-sm",children:[i.jsx(s5,{"data-loc":"client/src/pages/Profile.tsx:255",className:"h-4 w-4"}),i.jsx("span",{"data-loc":"client/src/pages/Profile.tsx:256",children:"Edit Profile"})]}):i.jsx("button",{"data-loc":"client/src/pages/Profile.tsx:259",onClick:C,className:`flex items-center gap-2 px-4 py-2 transition-colors text-sm ${p?"border border-gray-300 hover:border-black":"bg-black text-white hover:bg-gray-800"}`,children:p?i.jsxs(i.Fragment,{children:[i.jsx(c5,{"data-loc":"client/src/pages/Profile.tsx:269",className:"h-4 w-4"}),i.jsx("span",{"data-loc":"client/src/pages/Profile.tsx:270",children:"Unfollow"})]}):i.jsxs(i.Fragment,{children:[i.jsx(u5,{"data-loc":"client/src/pages/Profile.tsx:274",className:"h-4 w-4"}),i.jsx("span",{"data-loc":"client/src/pages/Profile.tsx:275",children:"Follow"})]})})})]}),a.bio&&i.jsx("p",{"data-loc":"client/src/pages/Profile.tsx:285",className:"text-gray-700 mb-4 max-w-2xl",children:a.bio}),i.jsxs("div",{"data-loc":"client/src/pages/Profile.tsx:289",className:"flex flex-wrap gap-4 text-sm text-gray-600 mb-4",children:[a.location&&i.jsxs("div",{"data-loc":"client/src/pages/Profile.tsx:291",className:"flex items-center gap-1",children:[i.jsx(Gt,{"data-loc":"client/src/pages/Profile.tsx:292",className:"h-4 w-4"}),i.jsx("span",{"data-loc":"client/src/pages/Profile.tsx:293",children:a.location})]}),a.website&&i.jsxs("div",{"data-loc":"client/src/pages/Profile.tsx:297",className:"flex items-center gap-1",children:[i.jsx(ad,{"data-loc":"client/src/pages/Profile.tsx:298",className:"h-4 w-4"}),i.jsx("a",{"data-loc":"client/src/pages/Profile.tsx:299",href:a.website,target:"_blank",rel:"noopener noreferrer",className:"hover:underline",children:a.website.replace(/^https?:\/\//,"")})]}),i.jsxs("div",{"data-loc":"client/src/pages/Profile.tsx:309",className:"flex items-center gap-1",children:[i.jsx(An,{"data-loc":"client/src/pages/Profile.tsx:310",className:"h-4 w-4"}),i.jsxs("span",{"data-loc":"client/src/pages/Profile.tsx:311",children:["Joined ",new Date(a.created_at).toLocaleDateString("en-US",{month:"long",year:"numeric"})]})]})]}),i.jsxs("div",{"data-loc":"client/src/pages/Profile.tsx:316",className:"flex gap-6 text-sm mb-4",children:[i.jsxs("div",{"data-loc":"client/src/pages/Profile.tsx:317",children:[i.jsx("span",{"data-loc":"client/src/pages/Profile.tsx:318",className:"font-semibold",children:l?.following_count||0}),i.jsx("span",{"data-loc":"client/src/pages/Profile.tsx:319",className:"text-gray-600 ml-1",children:"Following"})]}),i.jsxs("div",{"data-loc":"client/src/pages/Profile.tsx:321",children:[i.jsx("span",{"data-loc":"client/src/pages/Profile.tsx:322",className:"font-semibold",children:l?.followers_count||0}),i.jsx("span",{"data-loc":"client/src/pages/Profile.tsx:323",className:"text-gray-600 ml-1",children:"Followers"})]})]}),a.travel_style&&a.travel_style.length>0&&i.jsx("div",{"data-loc":"client/src/pages/Profile.tsx:329",className:"flex flex-wrap gap-2",children:a.travel_style.map(G=>{const X=z[G];return X?i.jsx("span",{"data-loc":"client/src/pages/Profile.tsx:334",className:`px-3 py-1 text-xs ${X.color}`,children:X.label},G):null})})]})]}),i.jsxs("div",{"data-loc":"client/src/pages/Profile.tsx:348",className:"grid grid-cols-2 md:grid-cols-4 gap-4 mt-12 mb-12",children:[i.jsxs("div",{"data-loc":"client/src/pages/Profile.tsx:349",className:"border border-gray-200 p-6 text-center",children:[i.jsx("div",{"data-loc":"client/src/pages/Profile.tsx:350",className:"text-3xl font-normal mb-2",children:l?.destinations_saved||0}),i.jsx("div",{"data-loc":"client/src/pages/Profile.tsx:351",className:"text-xs uppercase tracking-wider text-gray-500",children:"Saved"})]}),i.jsxs("div",{"data-loc":"client/src/pages/Profile.tsx:353",className:"border border-gray-200 p-6 text-center",children:[i.jsx("div",{"data-loc":"client/src/pages/Profile.tsx:354",className:"text-3xl font-normal mb-2",children:l?.destinations_visited||0}),i.jsx("div",{"data-loc":"client/src/pages/Profile.tsx:355",className:"text-xs uppercase tracking-wider text-gray-500",children:"Visited"})]}),i.jsxs("div",{"data-loc":"client/src/pages/Profile.tsx:357",className:"border border-gray-200 p-6 text-center",children:[i.jsx("div",{"data-loc":"client/src/pages/Profile.tsx:358",className:"text-3xl font-normal mb-2",children:l?.cities_count||0}),i.jsx("div",{"data-loc":"client/src/pages/Profile.tsx:359",className:"text-xs uppercase tracking-wider text-gray-500",children:"Cities"})]}),i.jsxs("div",{"data-loc":"client/src/pages/Profile.tsx:361",className:"border border-gray-200 p-6 text-center",children:[i.jsx("div",{"data-loc":"client/src/pages/Profile.tsx:362",className:"text-3xl font-normal mb-2",children:l?.reviews_count||0}),i.jsx("div",{"data-loc":"client/src/pages/Profile.tsx:363",className:"text-xs uppercase tracking-wider text-gray-500",children:"Reviews"})]})]}),i.jsx("div",{"data-loc":"client/src/pages/Profile.tsx:368",className:"border-b border-gray-200 mb-8",children:i.jsxs("div",{"data-loc":"client/src/pages/Profile.tsx:369",className:"flex gap-8",children:[i.jsxs("button",{"data-loc":"client/src/pages/Profile.tsx:370",onClick:()=>b("saved"),className:`pb-4 text-sm uppercase tracking-wider transition-colors ${v==="saved"?"border-b-2 border-black text-black":"text-gray-500 hover:text-black"}`,children:["Saved (",l?.destinations_saved||0,")"]}),i.jsxs("button",{"data-loc":"client/src/pages/Profile.tsx:380",onClick:()=>b("visited"),className:`pb-4 text-sm uppercase tracking-wider transition-colors ${v==="visited"?"border-b-2 border-black text-black":"text-gray-500 hover:text-black"}`,children:["Visited (",l?.destinations_visited||0,")"]}),i.jsxs("button",{"data-loc":"client/src/pages/Profile.tsx:390",onClick:()=>b("reviews"),className:`pb-4 text-sm uppercase tracking-wider transition-colors ${v==="reviews"?"border-b-2 border-black text-black":"text-gray-500 hover:text-black"}`,children:["Reviews (",l?.reviews_count||0,")"]}),i.jsxs("button",{"data-loc":"client/src/pages/Profile.tsx:400",onClick:()=>b("lists"),className:`pb-4 text-sm uppercase tracking-wider transition-colors ${v==="lists"?"border-b-2 border-black text-black":"text-gray-500 hover:text-black"}`,children:["Lists (",l?.lists_count||0,")"]})]})}),i.jsxs("div",{"data-loc":"client/src/pages/Profile.tsx:414",className:"mb-24",children:[v==="saved"&&i.jsx("div",{"data-loc":"client/src/pages/Profile.tsx:416",className:"text-center py-12 text-gray-400",children:"No saved destinations yet"}),v==="visited"&&i.jsx("div",{"data-loc":"client/src/pages/Profile.tsx:421",className:"text-center py-12 text-gray-400",children:"No visited destinations yet"}),v==="reviews"&&i.jsx("div",{"data-loc":"client/src/pages/Profile.tsx:426",className:"text-center py-12 text-gray-400",children:"No reviews yet"}),v==="lists"&&i.jsx("div",{"data-loc":"client/src/pages/Profile.tsx:431",className:"text-center py-12 text-gray-400",children:"No lists yet"})]})]}),i.jsx(Ze,{"data-loc":"client/src/pages/Profile.tsx:438"}),T&&i.jsx(Nr,{"data-loc":"client/src/pages/Profile.tsx:442",destination:T,isOpen:I,onClose:()=>{M(!1),A(null)}})]}):null}function UR(){const[,e]=ut(),[t,a]=j.useState(null),[r,l]=j.useState([]),[c,d]=j.useState(!0),[f,p]=j.useState(!1),[m,y]=j.useState(null);j.useEffect(()=>{async function b(){const{data:{session:N}}=await re.auth.getSession();if(!N){e("/auth/login");return}a(N.user),await x(N.user.id)}b()},[e]);async function x(b){d(!0);const{data:N,error:w}=await re.from("lists").select("*").eq("user_id",b).order("updated_at",{ascending:!1});if(w)console.error("Error fetching lists:",w),le.error("Failed to load lists");else{const _=await Promise.all((N||[]).map(async E=>{const{count:T}=await re.from("list_items").select("*",{count:"exact",head:!0}).eq("list_id",E.id),{count:A}=await re.from("list_likes").select("*",{count:"exact",head:!0}).eq("list_id",E.id);return{...E,item_count:T||0,like_count:A||0}}));l(_)}d(!1)}async function v(b){if(!confirm("Are you sure you want to delete this list?"))return;const{error:N}=await re.from("lists").delete().eq("id",b);N?le.error("Failed to delete list"):(le.success("List deleted"),l(r.filter(w=>w.id!==b)))}return c?i.jsxs("div",{"data-loc":"client/src/pages/Lists.tsx:102",className:"min-h-screen bg-white",children:[i.jsx(Le,{"data-loc":"client/src/pages/Lists.tsx:103"}),i.jsx("div",{"data-loc":"client/src/pages/Lists.tsx:104",className:"flex items-center justify-center h-[calc(100vh-200px)]",children:i.jsx("div",{"data-loc":"client/src/pages/Lists.tsx:105",className:"text-center",children:i.jsx("div",{"data-loc":"client/src/pages/Lists.tsx:106",className:"animate-pulse text-gray-400",children:"Loading lists..."})})}),i.jsx(Ze,{"data-loc":"client/src/pages/Lists.tsx:109"})]}):i.jsxs("div",{"data-loc":"client/src/pages/Lists.tsx:115",className:"min-h-screen bg-white",children:[i.jsx(Le,{"data-loc":"client/src/pages/Lists.tsx:116"}),i.jsxs("div",{"data-loc":"client/src/pages/Lists.tsx:118",className:"max-w-6xl mx-auto px-6 md:px-10 py-12",children:[i.jsxs("div",{"data-loc":"client/src/pages/Lists.tsx:120",className:"flex items-center justify-between mb-12",children:[i.jsxs("div",{"data-loc":"client/src/pages/Lists.tsx:121",children:[i.jsx("h1",{"data-loc":"client/src/pages/Lists.tsx:122",className:"text-4xl font-normal mb-2",children:"My Lists"}),i.jsx("p",{"data-loc":"client/src/pages/Lists.tsx:123",className:"text-gray-600",children:"Organize your favorite destinations into collections"})]}),i.jsxs("button",{"data-loc":"client/src/pages/Lists.tsx:125",onClick:()=>p(!0),className:"flex items-center gap-2 px-6 py-3 bg-black text-white hover:bg-gray-800 transition-colors",children:[i.jsx(Cn,{"data-loc":"client/src/pages/Lists.tsx:129",className:"h-5 w-5"}),i.jsx("span",{"data-loc":"client/src/pages/Lists.tsx:130",children:"New List"})]})]}),r.length===0?i.jsxs("div",{"data-loc":"client/src/pages/Lists.tsx:136",className:"text-center py-24",children:[i.jsx("div",{"data-loc":"client/src/pages/Lists.tsx:137",className:"mb-6",children:i.jsx(Gt,{"data-loc":"client/src/pages/Lists.tsx:138",className:"h-16 w-16 text-gray-300 mx-auto"})}),i.jsx("h3",{"data-loc":"client/src/pages/Lists.tsx:140",className:"text-xl font-normal mb-2",children:"No lists yet"}),i.jsx("p",{"data-loc":"client/src/pages/Lists.tsx:141",className:"text-gray-600 mb-6",children:"Create your first list to start organizing destinations"}),i.jsx("button",{"data-loc":"client/src/pages/Lists.tsx:142",onClick:()=>p(!0),className:"px-6 py-3 bg-black text-white hover:bg-gray-800 transition-colors",children:"Create List"})]}):i.jsx("div",{"data-loc":"client/src/pages/Lists.tsx:150",className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:r.map(b=>i.jsxs("div",{"data-loc":"client/src/pages/Lists.tsx:152",className:"border border-gray-200 hover:border-black transition-colors cursor-pointer group",onClick:()=>e(`/list/${b.id}`),children:[i.jsxs("div",{"data-loc":"client/src/pages/Lists.tsx:158",className:"aspect-square bg-gray-100 relative overflow-hidden",children:[b.cover_image?i.jsx("img",{"data-loc":"client/src/pages/Lists.tsx:160",src:b.cover_image,alt:b.name,className:"w-full h-full object-cover"}):i.jsx("div",{"data-loc":"client/src/pages/Lists.tsx:166",className:"w-full h-full flex items-center justify-center text-gray-300",children:i.jsx(Gt,{"data-loc":"client/src/pages/Lists.tsx:167",className:"h-12 w-12"})}),i.jsxs("div",{"data-loc":"client/src/pages/Lists.tsx:172",className:"absolute top-2 right-2 flex gap-2 opacity-0 group-hover:opacity-100 transition-opacity",children:[i.jsx("button",{"data-loc":"client/src/pages/Lists.tsx:173",onClick:N=>{N.stopPropagation(),y(b),p(!0)},className:"p-2 bg-white hover:bg-gray-100 transition-colors",children:i.jsx(nj,{"data-loc":"client/src/pages/Lists.tsx:181",className:"h-4 w-4"})}),i.jsx("button",{"data-loc":"client/src/pages/Lists.tsx:183",onClick:N=>{N.stopPropagation(),v(b.id)},className:"p-2 bg-white hover:bg-red-50 text-red-600 transition-colors",children:i.jsx(kl,{"data-loc":"client/src/pages/Lists.tsx:190",className:"h-4 w-4"})})]})]}),i.jsxs("div",{"data-loc":"client/src/pages/Lists.tsx:196",className:"p-4",children:[i.jsxs("div",{"data-loc":"client/src/pages/Lists.tsx:197",className:"flex items-start justify-between mb-2",children:[i.jsx("h3",{"data-loc":"client/src/pages/Lists.tsx:198",className:"font-normal text-lg",children:b.name}),b.is_public?i.jsx(ad,{"data-loc":"client/src/pages/Lists.tsx:200",className:"h-4 w-4 text-gray-400 flex-shrink-0"}):i.jsx(sj,{"data-loc":"client/src/pages/Lists.tsx:202",className:"h-4 w-4 text-gray-400 flex-shrink-0"})]}),b.description&&i.jsx("p",{"data-loc":"client/src/pages/Lists.tsx:207",className:"text-sm text-gray-600 mb-3 line-clamp-2",children:b.description}),i.jsxs("div",{"data-loc":"client/src/pages/Lists.tsx:212",className:"flex items-center gap-4 text-xs text-gray-500",children:[i.jsxs("span",{"data-loc":"client/src/pages/Lists.tsx:213",children:[b.item_count," ",b.item_count===1?"place":"places"]}),b.is_public&&i.jsxs("span",{"data-loc":"client/src/pages/Lists.tsx:215",className:"flex items-center gap-1",children:[i.jsx(Us,{"data-loc":"client/src/pages/Lists.tsx:216",className:"h-3 w-3"}),b.like_count]})]})]})]},b.id))})]}),i.jsx(Ze,{"data-loc":"client/src/pages/Lists.tsx:228"}),f&&i.jsx(IR,{"data-loc":"client/src/pages/Lists.tsx:232",list:m,onClose:()=>{p(!1),y(null)},onSave:()=>{p(!1),y(null),t&&x(t.id)}})]})}function IR({list:e,onClose:t,onSave:a}){const[r,l]=j.useState(e?.name||""),[c,d]=j.useState(e?.description||""),[f,p]=j.useState(e?.is_public??!0),[m,y]=j.useState(!1);async function x(){if(!r.trim()){le.error("Please enter a list name");return}y(!0);const{data:{session:v}}=await re.auth.getSession();if(!v){le.error("Please sign in");return}if(e){const{error:b}=await re.from("lists").update({name:r.trim(),description:c.trim()||null,is_public:f,updated_at:new Date().toISOString()}).eq("id",e.id);b?(le.error("Failed to update list"),console.error(b)):(le.success("List updated"),a())}else{const{error:b}=await re.from("lists").insert({user_id:v.user.id,name:r.trim(),description:c.trim()||null,is_public:f});b?(le.error("Failed to create list"),console.error(b)):(le.success("List created"),a())}y(!1)}return i.jsx("div",{"data-loc":"client/src/pages/Lists.tsx:321",className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:i.jsxs("div",{"data-loc":"client/src/pages/Lists.tsx:322",className:"bg-white max-w-md w-full p-8",children:[i.jsx("h2",{"data-loc":"client/src/pages/Lists.tsx:323",className:"text-2xl font-normal mb-6",children:e?"Edit List":"Create New List"}),i.jsxs("div",{"data-loc":"client/src/pages/Lists.tsx:327",className:"space-y-6",children:[i.jsxs("div",{"data-loc":"client/src/pages/Lists.tsx:328",children:[i.jsx("label",{"data-loc":"client/src/pages/Lists.tsx:329",className:"block text-xs uppercase tracking-wider text-gray-600 mb-2",children:"List Name"}),i.jsx("input",{"data-loc":"client/src/pages/Lists.tsx:332",type:"text",value:r,onChange:v=>l(v.target.value),placeholder:"e.g., Tokyo Favorites",className:"w-full px-4 py-3 border border-gray-300 focus:border-black focus:outline-none",autoFocus:!0})]}),i.jsxs("div",{"data-loc":"client/src/pages/Lists.tsx:342",children:[i.jsx("label",{"data-loc":"client/src/pages/Lists.tsx:343",className:"block text-xs uppercase tracking-wider text-gray-600 mb-2",children:"Description (Optional)"}),i.jsx("textarea",{"data-loc":"client/src/pages/Lists.tsx:346",value:c,onChange:v=>d(v.target.value),placeholder:"Describe your list...",rows:3,className:"w-full px-4 py-3 border border-gray-300 focus:border-black focus:outline-none resize-none"})]}),i.jsx("div",{"data-loc":"client/src/pages/Lists.tsx:355",children:i.jsxs("label",{"data-loc":"client/src/pages/Lists.tsx:356",className:"flex items-center gap-3 cursor-pointer",children:[i.jsx("input",{"data-loc":"client/src/pages/Lists.tsx:357",type:"checkbox",checked:f,onChange:v=>p(v.target.checked),className:"w-5 h-5"}),i.jsxs("div",{"data-loc":"client/src/pages/Lists.tsx:363",children:[i.jsx("div",{"data-loc":"client/src/pages/Lists.tsx:364",className:"font-normal",children:"Make this list public"}),i.jsx("div",{"data-loc":"client/src/pages/Lists.tsx:365",className:"text-xs text-gray-600",children:"Anyone can view this list"})]})]})})]}),i.jsxs("div",{"data-loc":"client/src/pages/Lists.tsx:371",className:"flex gap-3 mt-8",children:[i.jsx("button",{"data-loc":"client/src/pages/Lists.tsx:372",onClick:t,className:"flex-1 px-6 py-3 border border-gray-300 hover:border-black transition-colors",disabled:m,children:"Cancel"}),i.jsx("button",{"data-loc":"client/src/pages/Lists.tsx:379",onClick:x,className:"flex-1 px-6 py-3 bg-black text-white hover:bg-gray-800 transition-colors disabled:opacity-50",disabled:m,children:m?"Saving...":e?"Update":"Create"})]})]})})}function zR(e){return e.split("-").map(t=>t.charAt(0).toUpperCase()+t.slice(1)).join(" ")}function qR({destination:e,onClick:t}){return i.jsxs("div",{"data-loc":"client/src/components/DestinationCard.tsx:22",className:"group cursor-pointer destination-card overflow-hidden transition-all duration-300 hover:opacity-80 animate-in fade-in slide-in-from-bottom-4",onClick:t,children:[i.jsxs("div",{"data-loc":"client/src/components/DestinationCard.tsx:26",className:"relative aspect-square overflow-hidden bg-gray-100",children:[e.mainImage?i.jsx("img",{"data-loc":"client/src/components/DestinationCard.tsx:28",src:e.mainImage,alt:e.name,className:"w-full h-full object-cover transition-transform duration-500 group-hover:scale-105",loading:"lazy"}):i.jsx("div",{"data-loc":"client/src/components/DestinationCard.tsx:35",className:"w-full h-full flex items-center justify-center text-gray-300 bg-gradient-to-br from-gray-50 to-gray-100",children:i.jsx(Gt,{"data-loc":"client/src/components/DestinationCard.tsx:36",className:"h-16 w-16 opacity-20"})}),e.crown&&i.jsx("div",{"data-loc":"client/src/components/DestinationCard.tsx:41",className:"absolute top-3 left-3 bg-yellow-400 text-yellow-900 p-2",children:i.jsx(tj,{"data-loc":"client/src/components/DestinationCard.tsx:42",className:"h-4 w-4"})}),e.michelinStars>0&&i.jsxs("div",{"data-loc":"client/src/components/DestinationCard.tsx:46",className:"absolute bottom-3 left-3 bg-white text-gray-900 px-2.5 py-1.5 text-xs font-bold flex items-center gap-1.5",children:[i.jsx("img",{"data-loc":"client/src/components/DestinationCard.tsx:47",src:"https://guide.michelin.com/assets/images/icons/1star-1f2c04d7e6738e8a3312c9cda4b64fd0.svg",alt:"Michelin Star",className:"h-4 w-4 inline-block"}),i.jsx("span",{"data-loc":"client/src/components/DestinationCard.tsx:52",children:e.michelinStars})]})]}),i.jsxs("div",{"data-loc":"client/src/components/DestinationCard.tsx:57",className:"py-3 space-y-0.5",children:[i.jsx("h3",{"data-loc":"client/src/components/DestinationCard.tsx:58",className:"font-medium text-sm leading-tight line-clamp-2 text-black dark:text-white",children:e.name}),i.jsx("p",{"data-loc":"client/src/components/DestinationCard.tsx:62",className:"text-xs text-black/60 dark:text-gray-400",children:zR(e.city)})]})]})}function BR(){const e=Zu(),[,t]=ut(),[a,r]=j.useState(null),[l,c]=j.useState([]),[d,f]=j.useState(null),[p,m]=j.useState(!0),[y,x]=j.useState(!1),[v,b]=j.useState(0),[N,w]=j.useState(null),[_,E]=j.useState(!1),T=d&&a&&d.id===a.user_id;j.useEffect(()=>{async function M(){const{data:{session:P}}=await re.auth.getSession();f(P?.user||null)}M()},[]),j.useEffect(()=>{async function M(){if(!e.id)return;const{data:P,error:O}=await re.from("lists").select(`
          *,
          user_profiles!lists_user_id_fkey (
            username,
            display_name
          )
        `).eq("id",e.id).single();if(O||!P){console.error("Error fetching list:",O),le.error("List not found"),t("/lists");return}if(!P.is_public&&(!d||d.id!==P.user_id)){le.error("This list is private"),t("/lists");return}const C={...P,owner_username:P.user_profiles?.username,owner_display_name:P.user_profiles?.display_name};r(C);const{data:z,error:G}=await re.from("list_items").select("*").eq("list_id",e.id).order("created_at",{ascending:!1});if(G)console.error("Error fetching list items:",G);else if(z&&z.length>0){const B=z.map(ee=>ee.destination_slug),{data:se,error:R}=await re.from("destinations").select("*").in("slug",B);!R&&se&&c(se)}if(d){const{data:B}=await re.from("list_likes").select("*").eq("list_id",e.id).eq("user_id",d.id).single();x(!!B)}const{count:X}=await re.from("list_likes").select("*",{count:"exact",head:!0}).eq("list_id",e.id);b(X||0),m(!1)}M()},[e.id,d,t]);async function A(){if(!d){le.error("Please sign in to like lists");return}if(a)if(y){const{error:M}=await re.from("list_likes").delete().eq("list_id",a.id).eq("user_id",d.id);M?le.error("Failed to unlike"):(x(!1),b(P=>P-1))}else{const{error:M}=await re.from("list_likes").insert({list_id:a.id,user_id:d.id});M?le.error("Failed to like"):(x(!0),b(P=>P+1),le.success("Added to liked lists"))}}async function I(M){if(!a)return;const{error:P}=await re.from("list_items").delete().eq("list_id",a.id).eq("destination_slug",M);P?le.error("Failed to remove from list"):(c(l.filter(O=>O.slug!==M)),le.success("Removed from list"))}return p?i.jsxs("div",{"data-loc":"client/src/pages/ListDetail.tsx:200",className:"min-h-screen bg-white",children:[i.jsx(Le,{"data-loc":"client/src/pages/ListDetail.tsx:201"}),i.jsx("div",{"data-loc":"client/src/pages/ListDetail.tsx:202",className:"flex items-center justify-center h-[calc(100vh-200px)]",children:i.jsx("div",{"data-loc":"client/src/pages/ListDetail.tsx:203",className:"text-center",children:i.jsx("div",{"data-loc":"client/src/pages/ListDetail.tsx:204",className:"animate-pulse text-gray-400",children:"Loading list..."})})}),i.jsx(Ze,{"data-loc":"client/src/pages/ListDetail.tsx:207"})]}):a?i.jsxs("div",{"data-loc":"client/src/pages/ListDetail.tsx:217",className:"min-h-screen bg-white",children:[i.jsx(Le,{"data-loc":"client/src/pages/ListDetail.tsx:218"}),i.jsxs("div",{"data-loc":"client/src/pages/ListDetail.tsx:220",className:"max-w-6xl mx-auto px-6 md:px-10 py-12",children:[i.jsx("div",{"data-loc":"client/src/pages/ListDetail.tsx:222",className:"mb-12",children:i.jsxs("div",{"data-loc":"client/src/pages/ListDetail.tsx:223",className:"flex items-start justify-between mb-4",children:[i.jsxs("div",{"data-loc":"client/src/pages/ListDetail.tsx:224",className:"flex-1",children:[i.jsxs("div",{"data-loc":"client/src/pages/ListDetail.tsx:225",className:"flex items-center gap-3 mb-2",children:[i.jsx("h1",{"data-loc":"client/src/pages/ListDetail.tsx:226",className:"text-4xl font-normal",children:a.name}),a.is_public?i.jsx(ad,{"data-loc":"client/src/pages/ListDetail.tsx:228",className:"h-5 w-5 text-gray-400"}):i.jsx(sj,{"data-loc":"client/src/pages/ListDetail.tsx:230",className:"h-5 w-5 text-gray-400"})]}),a.description&&i.jsx("p",{"data-loc":"client/src/pages/ListDetail.tsx:235",className:"text-gray-600 mb-4 max-w-2xl",children:a.description}),i.jsxs("div",{"data-loc":"client/src/pages/ListDetail.tsx:238",className:"flex items-center gap-4 text-sm text-gray-600",children:[i.jsxs("span",{"data-loc":"client/src/pages/ListDetail.tsx:239",children:["By"," ",i.jsx("button",{"data-loc":"client/src/pages/ListDetail.tsx:241",onClick:()=>a.owner_username&&t(`/user/${a.owner_username}`),className:"hover:underline font-medium",children:a.owner_display_name||a.owner_username||"Unknown"})]}),i.jsx("span",{"data-loc":"client/src/pages/ListDetail.tsx:248",children:""}),i.jsxs("span",{"data-loc":"client/src/pages/ListDetail.tsx:249",children:[l.length," ",l.length===1?"place":"places"]}),a.is_public&&i.jsxs(i.Fragment,{children:[i.jsx("span",{"data-loc":"client/src/pages/ListDetail.tsx:252",children:""}),i.jsxs("span",{"data-loc":"client/src/pages/ListDetail.tsx:253",className:"flex items-center gap-1",children:[i.jsx(Us,{"data-loc":"client/src/pages/ListDetail.tsx:254",className:`h-4 w-4 ${y?"fill-red-500 text-red-500":""}`}),v]})]})]})]}),i.jsxs("div",{"data-loc":"client/src/pages/ListDetail.tsx:263",className:"flex gap-2",children:[a.is_public&&i.jsxs("button",{"data-loc":"client/src/pages/ListDetail.tsx:265",onClick:A,className:`flex items-center gap-2 px-4 py-2 border transition-colors ${y?"border-red-500 text-red-500 hover:bg-red-50":"border-gray-300 hover:border-black"}`,children:[i.jsx(Us,{"data-loc":"client/src/pages/ListDetail.tsx:273",className:`h-4 w-4 ${y?"fill-current":""}`}),i.jsx("span",{"data-loc":"client/src/pages/ListDetail.tsx:274",children:y?"Liked":"Like"})]}),T&&i.jsx("button",{"data-loc":"client/src/pages/ListDetail.tsx:279",onClick:()=>t("/lists"),className:"px-4 py-2 border border-gray-300 hover:border-black transition-colors",children:"Manage Lists"})]})]})}),l.length===0?i.jsxs("div",{"data-loc":"client/src/pages/ListDetail.tsx:292",className:"text-center py-24",children:[i.jsx("div",{"data-loc":"client/src/pages/ListDetail.tsx:293",className:"mb-6",children:i.jsx(Cn,{"data-loc":"client/src/pages/ListDetail.tsx:294",className:"h-16 w-16 text-gray-300 mx-auto"})}),i.jsx("h3",{"data-loc":"client/src/pages/ListDetail.tsx:296",className:"text-xl font-normal mb-2",children:"No destinations yet"}),i.jsx("p",{"data-loc":"client/src/pages/ListDetail.tsx:297",className:"text-gray-600",children:T?"Start adding destinations to this list":"This list is empty"})]}):i.jsx("div",{"data-loc":"client/src/pages/ListDetail.tsx:302",className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 gap-4",children:l.map(M=>i.jsxs("div",{"data-loc":"client/src/pages/ListDetail.tsx:304",className:"relative group",children:[i.jsx(qR,{"data-loc":"client/src/pages/ListDetail.tsx:305",destination:M,onClick:()=>{w(M),E(!0)}}),T&&i.jsx("button",{"data-loc":"client/src/pages/ListDetail.tsx:314",onClick:P=>{P.stopPropagation(),I(M.slug)},className:"absolute top-2 right-2 p-2 bg-white hover:bg-red-50 text-red-600 opacity-0 group-hover:opacity-100 transition-opacity",children:i.jsx(kl,{"data-loc":"client/src/pages/ListDetail.tsx:321",className:"h-4 w-4"})})]},M.slug))})]}),i.jsx(Ze,{"data-loc":"client/src/pages/ListDetail.tsx:330"}),N&&i.jsx(Nr,{"data-loc":"client/src/pages/ListDetail.tsx:334",destination:N,isOpen:_,onClose:()=>{E(!1),w(null)}})]}):null}function HR({userId:e,followingOnly:t=!1,limit:a=20}){const[r,l]=j.useState([]),[c,d]=j.useState(!0),[,f]=ut();j.useEffect(()=>{p()},[e,t,a]);const p=async()=>{try{let v=re.from("activities").select(`
          *,
          user_profiles (
            username,
            display_name,
            profile_photo
          ),
          destinations (
            name,
            slug
          ),
          lists (
            name
          ),
          reviews (
            rating
          )
        `).order("created_at",{ascending:!1}).limit(a);if(e)v=v.eq("user_id",e);else if(t){const{data:{user:w}}=await re.auth.getUser();if(w){const{data:_}=await re.from("follows").select("following_id").eq("follower_id",w.id);if(_&&_.length>0){const E=_.map(T=>T.following_id);v=v.in("user_id",E)}else{l([]),d(!1);return}}}const{data:b,error:N}=await v;if(N)throw N;l(b||[])}catch(v){console.error("Error fetching activities:",v)}finally{d(!1)}},m=v=>{switch(v){case"saved":return i.jsx(Us,{"data-loc":"client/src/components/ActivityFeed.tsx:110",className:"h-5 w-5 text-red-500"});case"visited":return i.jsx(Gt,{"data-loc":"client/src/components/ActivityFeed.tsx:112",className:"h-5 w-5 text-green-500"});case"reviewed":return i.jsx(cs,{"data-loc":"client/src/components/ActivityFeed.tsx:114",className:"h-5 w-5 text-yellow-500"});case"created_list":return i.jsx(QD,{"data-loc":"client/src/components/ActivityFeed.tsx:116",className:"h-5 w-5 text-blue-500"});case"followed":return i.jsx(d5,{"data-loc":"client/src/components/ActivityFeed.tsx:118",className:"h-5 w-5 text-purple-500"});default:return i.jsx(Gt,{"data-loc":"client/src/components/ActivityFeed.tsx:120",className:"h-5 w-5 text-gray-500"})}},y=v=>{const b=v.user_profiles?.display_name||v.user_profiles?.username||"Someone";switch(v.type){case"saved":return i.jsxs(i.Fragment,{children:[i.jsx("span",{"data-loc":"client/src/components/ActivityFeed.tsx:131",className:"font-semibold",children:b})," saved"," ",v.destinations&&i.jsx("button",{"data-loc":"client/src/components/ActivityFeed.tsx:133",onClick:()=>f(`/destination/${v.destinations?.slug}`),className:"font-semibold hover:underline",children:v.destinations.name})]});case"visited":return i.jsxs(i.Fragment,{children:[i.jsx("span",{"data-loc":"client/src/components/ActivityFeed.tsx:145",className:"font-semibold",children:b})," visited"," ",v.destinations&&i.jsx("button",{"data-loc":"client/src/components/ActivityFeed.tsx:147",onClick:()=>f(`/destination/${v.destinations?.slug}`),className:"font-semibold hover:underline",children:v.destinations.name})]});case"reviewed":return i.jsxs(i.Fragment,{children:[i.jsx("span",{"data-loc":"client/src/components/ActivityFeed.tsx:159",className:"font-semibold",children:b})," reviewed"," ",v.destinations&&i.jsx("button",{"data-loc":"client/src/components/ActivityFeed.tsx:161",onClick:()=>f(`/destination/${v.destinations?.slug}`),className:"font-semibold hover:underline",children:v.destinations.name}),v.reviews&&i.jsxs("span",{"data-loc":"client/src/components/ActivityFeed.tsx:169",className:"ml-2 inline-flex items-center gap-1",children:[i.jsx(cs,{"data-loc":"client/src/components/ActivityFeed.tsx:170",className:"h-3 w-3 fill-yellow-400 text-yellow-400"}),i.jsx("span",{"data-loc":"client/src/components/ActivityFeed.tsx:171",className:"text-sm",children:v.reviews.rating})]})]});case"created_list":return i.jsxs(i.Fragment,{children:[i.jsx("span",{"data-loc":"client/src/components/ActivityFeed.tsx:179",className:"font-semibold",children:b})," created a list"," ",v.lists&&i.jsxs("span",{"data-loc":"client/src/components/ActivityFeed.tsx:181",className:"font-semibold",children:['"',v.lists.name,'"']})]});case"followed":return i.jsxs(i.Fragment,{children:[i.jsx("span",{"data-loc":"client/src/components/ActivityFeed.tsx:188",className:"font-semibold",children:b})," started following someone"]});default:return i.jsxs(i.Fragment,{children:[i.jsx("span",{"data-loc":"client/src/components/ActivityFeed.tsx:194",className:"font-semibold",children:b})," ",v.content||"did something"]})}},x=v=>{const b=new Date(v),w=Math.floor((new Date().getTime()-b.getTime())/1e3);return w<60?"just now":w<3600?`${Math.floor(w/60)}m ago`:w<86400?`${Math.floor(w/3600)}h ago`:w<604800?`${Math.floor(w/86400)}d ago`:b.toLocaleDateString("en-US",{month:"short",day:"numeric"})};return c?i.jsx("div",{"data-loc":"client/src/components/ActivityFeed.tsx:215",className:"space-y-4",children:[...Array(3)].map((v,b)=>i.jsxs("div",{"data-loc":"client/src/components/ActivityFeed.tsx:217",className:"animate-pulse flex gap-4 p-4 bg-white rounded-lg border border-gray-200",children:[i.jsx("div",{"data-loc":"client/src/components/ActivityFeed.tsx:218",className:"w-10 h-10 bg-gray-200 rounded-full"}),i.jsxs("div",{"data-loc":"client/src/components/ActivityFeed.tsx:219",className:"flex-1 space-y-2",children:[i.jsx("div",{"data-loc":"client/src/components/ActivityFeed.tsx:220",className:"h-4 bg-gray-200 rounded w-3/4"}),i.jsx("div",{"data-loc":"client/src/components/ActivityFeed.tsx:221",className:"h-3 bg-gray-200 rounded w-1/4"})]})]},b))}):r.length===0?i.jsx("div",{"data-loc":"client/src/components/ActivityFeed.tsx:231",className:"text-center py-12 bg-gray-50 rounded-lg",children:i.jsx("p",{"data-loc":"client/src/components/ActivityFeed.tsx:232",className:"text-gray-500",children:t?"No recent activity from people you follow":"No activity yet"})}):i.jsx("div",{"data-loc":"client/src/components/ActivityFeed.tsx:242",className:"space-y-3",children:r.map(v=>i.jsxs("div",{"data-loc":"client/src/components/ActivityFeed.tsx:244",className:"flex gap-4 p-4 bg-white rounded-lg border border-gray-200 hover:border-gray-300 transition-colors",children:[i.jsx("div",{"data-loc":"client/src/components/ActivityFeed.tsx:249",className:"flex-shrink-0",children:i.jsx("div",{"data-loc":"client/src/components/ActivityFeed.tsx:250",className:"w-10 h-10 rounded-full bg-gray-200 flex items-center justify-center overflow-hidden",children:v.user_profiles?.profile_photo?i.jsx("img",{"data-loc":"client/src/components/ActivityFeed.tsx:252",src:v.user_profiles.profile_photo,alt:v.user_profiles.display_name||v.user_profiles.username,className:"w-full h-full object-cover"}):i.jsx("span",{"data-loc":"client/src/components/ActivityFeed.tsx:258",className:"text-sm font-semibold text-gray-600",children:(v.user_profiles?.display_name||v.user_profiles?.username||"U")[0].toUpperCase()})})}),i.jsx("div",{"data-loc":"client/src/components/ActivityFeed.tsx:266",className:"flex-1 min-w-0",children:i.jsxs("div",{"data-loc":"client/src/components/ActivityFeed.tsx:267",className:"flex items-start gap-2",children:[m(v.type),i.jsxs("div",{"data-loc":"client/src/components/ActivityFeed.tsx:269",className:"flex-1",children:[i.jsx("p",{"data-loc":"client/src/components/ActivityFeed.tsx:270",className:"text-sm text-gray-900",children:y(v)}),i.jsx("p",{"data-loc":"client/src/components/ActivityFeed.tsx:273",className:"text-xs text-gray-500 mt-1",children:x(v.created_at)})]})]})})]},v.id))})}function $R(){const[e,t]=j.useState(null),[,a]=ut(),[r,l]=j.useState("all");return j.useEffect(()=>{async function c(){const{data:{session:d}}=await re.auth.getSession();if(!d?.user){a("/account");return}t(d.user)}c()},[a]),e?i.jsxs("div",{"data-loc":"client/src/pages/Feed.tsx:40",className:"min-h-screen bg-white",children:[i.jsx(Le,{"data-loc":"client/src/pages/Feed.tsx:41"}),i.jsxs("div",{"data-loc":"client/src/pages/Feed.tsx:43",className:"max-w-4xl mx-auto px-6 py-12",children:[i.jsxs("div",{"data-loc":"client/src/pages/Feed.tsx:45",className:"mb-8",children:[i.jsx("h1",{"data-loc":"client/src/pages/Feed.tsx:46",className:"text-4xl font-bold mb-2",children:"Activity Feed"}),i.jsx("p",{"data-loc":"client/src/pages/Feed.tsx:47",className:"text-gray-600",children:"See what's happening in the travel community"})]}),i.jsxs("div",{"data-loc":"client/src/pages/Feed.tsx:53",className:"flex gap-2 mb-8 border-b border-gray-200",children:[i.jsxs("button",{"data-loc":"client/src/pages/Feed.tsx:54",onClick:()=>l("all"),className:`px-6 py-3 text-sm font-medium transition-colors relative ${r==="all"?"text-black":"text-gray-500 hover:text-gray-700"}`,children:["All Activity",r==="all"&&i.jsx("div",{"data-loc":"client/src/pages/Feed.tsx:64",className:"absolute bottom-0 left-0 right-0 h-0.5 bg-black"})]}),i.jsxs("button",{"data-loc":"client/src/pages/Feed.tsx:67",onClick:()=>l("following"),className:`px-6 py-3 text-sm font-medium transition-colors relative ${r==="following"?"text-black":"text-gray-500 hover:text-gray-700"}`,children:["Following",r==="following"&&i.jsx("div",{"data-loc":"client/src/pages/Feed.tsx:77",className:"absolute bottom-0 left-0 right-0 h-0.5 bg-black"})]})]}),i.jsx(HR,{"data-loc":"client/src/pages/Feed.tsx:83",followingOnly:r==="following",limit:50})]}),i.jsx(Ze,{"data-loc":"client/src/pages/Feed.tsx:89"})]}):i.jsxs("div",{"data-loc":"client/src/pages/Feed.tsx:27",className:"min-h-screen bg-white",children:[i.jsx(Le,{"data-loc":"client/src/pages/Feed.tsx:28"}),i.jsx("div",{"data-loc":"client/src/pages/Feed.tsx:29",className:"flex items-center justify-center h-[calc(100vh-200px)]",children:i.jsx("div",{"data-loc":"client/src/pages/Feed.tsx:30",className:"text-center",children:i.jsx("div",{"data-loc":"client/src/pages/Feed.tsx:31",className:"animate-pulse text-gray-400",children:"Loading..."})})}),i.jsx(Ze,{"data-loc":"client/src/pages/Feed.tsx:34"})]})}function FR(){const[,e]=ut(),[t,a]=j.useState([]),[r,l]=j.useState([]),[c,d]=j.useState([]),[f,p]=j.useState(!0),[m,y]=j.useState("trending");j.useEffect(()=>{x()},[]);const x=async()=>{try{await Promise.all([v(),b(),N()])}catch(w){console.error("Error fetching explore data:",w)}finally{p(!1)}},v=async()=>{try{const w=new Date;w.setDate(w.getDate()-30);const{data:_}=await re.from("saved_destinations").select("destination_slug").gte("created_at",w.toISOString()),{data:E}=await re.from("visited_destinations").select("destination_slug").gte("created_at",w.toISOString()),{data:T}=await re.from("reviews").select("destination_slug, rating").gte("created_at",w.toISOString()),A={};_?.forEach(P=>{A[P.destination_slug]||(A[P.destination_slug]={saves:0,visits:0,reviews:0,totalRating:0}),A[P.destination_slug].saves++}),E?.forEach(P=>{A[P.destination_slug]||(A[P.destination_slug]={saves:0,visits:0,reviews:0,totalRating:0}),A[P.destination_slug].visits++}),T?.forEach(P=>{A[P.destination_slug]||(A[P.destination_slug]={saves:0,visits:0,reviews:0,totalRating:0}),A[P.destination_slug].reviews++,A[P.destination_slug].totalRating+=P.rating});const I=Object.entries(A).map(([P,O])=>({slug:P,score:O.saves*1+O.visits*2+O.reviews*3,...O})).sort((P,O)=>O.score-P.score).slice(0,20).map(P=>P.slug);if(I.length===0){a([]);return}const{data:M}=await re.from("destinations").select("slug, name, city, category, main_image").in("slug",I);if(M){const P=M.map(O=>({...O,save_count:A[O.slug]?.saves||0,visit_count:A[O.slug]?.visits||0,review_count:A[O.slug]?.reviews||0,avg_rating:A[O.slug]?.reviews>0?Math.round(A[O.slug].totalRating/A[O.slug].reviews*10)/10:0}));P.sort((O,C)=>{const z=O.save_count*1+O.visit_count*2+O.review_count*3;return C.save_count*1+C.visit_count*2+C.review_count*3-z}),a(P)}}catch(w){console.error("Error fetching trending destinations:",w)}},b=async()=>{try{const{data:w}=await re.from("reviews").select(`
          user_id,
          user_profiles (
            username,
            display_name,
            profile_photo
          )
        `);if(w){const _={};w.forEach(T=>{_[T.user_id]||(_[T.user_id]={count:0,profile:T.user_profiles}),_[T.user_id].count++});const E=Object.entries(_).map(([T,A])=>({user_id:T,username:A.profile?.username||"unknown",display_name:A.profile?.display_name||A.profile?.username||"Unknown",profile_photo:A.profile?.profile_photo||"",count:A.count})).sort((T,A)=>A.count-T.count).slice(0,10);l(E)}}catch(w){console.error("Error fetching top reviewers:",w)}},N=async()=>{try{const{data:w}=await re.from("visited_destinations").select(`
          user_id,
          user_profiles (
            username,
            display_name,
            profile_photo
          )
        `);if(w){const _={};w.forEach(T=>{_[T.user_id]||(_[T.user_id]={count:0,profile:T.user_profiles}),_[T.user_id].count++});const E=Object.entries(_).map(([T,A])=>({user_id:T,username:A.profile?.username||"unknown",display_name:A.profile?.display_name||A.profile?.username||"Unknown",profile_photo:A.profile?.profile_photo||"",count:A.count})).sort((T,A)=>A.count-T.count).slice(0,10);d(E)}}catch(w){console.error("Error fetching top travelers:",w)}};return f?i.jsxs("div",{"data-loc":"client/src/pages/Explore.tsx:242",className:"min-h-screen bg-white",children:[i.jsx(Le,{"data-loc":"client/src/pages/Explore.tsx:243"}),i.jsx("div",{"data-loc":"client/src/pages/Explore.tsx:244",className:"flex items-center justify-center h-[calc(100vh-200px)]",children:i.jsx("div",{"data-loc":"client/src/pages/Explore.tsx:245",className:"text-center",children:i.jsx("div",{"data-loc":"client/src/pages/Explore.tsx:246",className:"animate-pulse text-gray-400",children:"Loading..."})})}),i.jsx(Ze,{"data-loc":"client/src/pages/Explore.tsx:249"})]}):i.jsxs("div",{"data-loc":"client/src/pages/Explore.tsx:255",className:"min-h-screen bg-white",children:[i.jsx(Le,{"data-loc":"client/src/pages/Explore.tsx:256"}),i.jsxs("div",{"data-loc":"client/src/pages/Explore.tsx:258",className:"max-w-7xl mx-auto px-6 py-12",children:[i.jsxs("div",{"data-loc":"client/src/pages/Explore.tsx:260",className:"mb-12",children:[i.jsx("h1",{"data-loc":"client/src/pages/Explore.tsx:261",className:"text-4xl font-bold mb-2",children:"Explore"}),i.jsx("p",{"data-loc":"client/src/pages/Explore.tsx:262",className:"text-gray-600",children:"Discover trending destinations and top contributors"})]}),i.jsxs("div",{"data-loc":"client/src/pages/Explore.tsx:268",className:"flex gap-2 mb-8 border-b border-gray-200",children:[i.jsxs("button",{"data-loc":"client/src/pages/Explore.tsx:269",onClick:()=>y("trending"),className:`flex items-center gap-2 px-6 py-3 text-sm font-medium transition-colors relative ${m==="trending"?"text-black":"text-gray-500 hover:text-gray-700"}`,children:[i.jsx(gl,{"data-loc":"client/src/pages/Explore.tsx:277",className:"h-4 w-4"}),"Trending Destinations",m==="trending"&&i.jsx("div",{"data-loc":"client/src/pages/Explore.tsx:280",className:"absolute bottom-0 left-0 right-0 h-0.5 bg-black"})]}),i.jsxs("button",{"data-loc":"client/src/pages/Explore.tsx:283",onClick:()=>y("reviewers"),className:`flex items-center gap-2 px-6 py-3 text-sm font-medium transition-colors relative ${m==="reviewers"?"text-black":"text-gray-500 hover:text-gray-700"}`,children:[i.jsx(cs,{"data-loc":"client/src/pages/Explore.tsx:291",className:"h-4 w-4"}),"Top Reviewers",m==="reviewers"&&i.jsx("div",{"data-loc":"client/src/pages/Explore.tsx:294",className:"absolute bottom-0 left-0 right-0 h-0.5 bg-black"})]}),i.jsxs("button",{"data-loc":"client/src/pages/Explore.tsx:297",onClick:()=>y("travelers"),className:`flex items-center gap-2 px-6 py-3 text-sm font-medium transition-colors relative ${m==="travelers"?"text-black":"text-gray-500 hover:text-gray-700"}`,children:[i.jsx(Gt,{"data-loc":"client/src/pages/Explore.tsx:305",className:"h-4 w-4"}),"Top Travelers",m==="travelers"&&i.jsx("div",{"data-loc":"client/src/pages/Explore.tsx:308",className:"absolute bottom-0 left-0 right-0 h-0.5 bg-black"})]})]}),m==="trending"&&i.jsx("div",{"data-loc":"client/src/pages/Explore.tsx:315",children:t.length===0?i.jsx("div",{"data-loc":"client/src/pages/Explore.tsx:317",className:"text-center py-12 bg-gray-50 rounded-lg",children:i.jsx("p",{"data-loc":"client/src/pages/Explore.tsx:318",className:"text-gray-500",children:"No trending destinations yet"})}):i.jsx("div",{"data-loc":"client/src/pages/Explore.tsx:321",className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:t.map((w,_)=>i.jsxs("button",{"data-loc":"client/src/pages/Explore.tsx:323",onClick:()=>e(`/destination/${w.slug}`),className:"group bg-white border border-gray-200 rounded-lg overflow-hidden hover:border-gray-300 transition-all text-left",children:[i.jsxs("div",{"data-loc":"client/src/pages/Explore.tsx:329",className:"relative",children:[i.jsx("img",{"data-loc":"client/src/pages/Explore.tsx:330",src:w.main_image,alt:w.name,className:"w-full h-48 object-cover group-hover:scale-105 transition-transform duration-300"}),i.jsxs("div",{"data-loc":"client/src/pages/Explore.tsx:335",className:"absolute top-3 left-3 bg-black text-white px-3 py-1 rounded-full text-sm font-bold",children:["#",_+1]})]}),i.jsxs("div",{"data-loc":"client/src/pages/Explore.tsx:341",className:"p-4",children:[i.jsx("h3",{"data-loc":"client/src/pages/Explore.tsx:342",className:"font-semibold text-lg mb-1 group-hover:underline",children:w.name}),i.jsxs("p",{"data-loc":"client/src/pages/Explore.tsx:345",className:"text-sm text-gray-600 mb-3",children:[w.city,"  ",w.category]}),i.jsxs("div",{"data-loc":"client/src/pages/Explore.tsx:350",className:"flex items-center gap-4 text-xs text-gray-500",children:[w.save_count>0&&i.jsxs("span",{"data-loc":"client/src/pages/Explore.tsx:352",className:"flex items-center gap-1",children:[i.jsx(f5,{"data-loc":"client/src/pages/Explore.tsx:353",className:"h-3 w-3"}),w.save_count," saved"]}),w.visit_count>0&&i.jsxs("span",{"data-loc":"client/src/pages/Explore.tsx:358",className:"flex items-center gap-1",children:[i.jsx(Gt,{"data-loc":"client/src/pages/Explore.tsx:359",className:"h-3 w-3"}),w.visit_count," visited"]}),w.review_count>0&&i.jsxs("span",{"data-loc":"client/src/pages/Explore.tsx:364",className:"flex items-center gap-1",children:[i.jsx(cs,{"data-loc":"client/src/pages/Explore.tsx:365",className:"h-3 w-3 fill-yellow-400 text-yellow-400"}),w.avg_rating," (",w.review_count,")"]})]})]})]},w.slug))})}),m==="reviewers"&&i.jsx("div",{"data-loc":"client/src/pages/Explore.tsx:379",children:r.length===0?i.jsx("div",{"data-loc":"client/src/pages/Explore.tsx:381",className:"text-center py-12 bg-gray-50 rounded-lg",children:i.jsx("p",{"data-loc":"client/src/pages/Explore.tsx:382",className:"text-gray-500",children:"No reviewers yet"})}):i.jsx("div",{"data-loc":"client/src/pages/Explore.tsx:385",className:"space-y-3",children:r.map((w,_)=>i.jsxs("button",{"data-loc":"client/src/pages/Explore.tsx:387",onClick:()=>e(`/user/${w.username}`),className:"w-full flex items-center gap-4 p-4 bg-white border border-gray-200 rounded-lg hover:border-gray-300 transition-colors text-left",children:[i.jsx("div",{"data-loc":"client/src/pages/Explore.tsx:393",className:"flex-shrink-0 w-12 text-center",children:_<3?i.jsx(bb,{"data-loc":"client/src/pages/Explore.tsx:395",className:`h-8 w-8 mx-auto ${_===0?"text-yellow-500":_===1?"text-gray-400":"text-orange-600"}`}):i.jsxs("span",{"data-loc":"client/src/pages/Explore.tsx:401",className:"text-2xl font-bold text-gray-400",children:["#",_+1]})}),i.jsx("div",{"data-loc":"client/src/pages/Explore.tsx:408",className:"flex-shrink-0",children:i.jsx("div",{"data-loc":"client/src/pages/Explore.tsx:409",className:"w-12 h-12 rounded-full bg-gray-200 flex items-center justify-center overflow-hidden",children:w.profile_photo?i.jsx("img",{"data-loc":"client/src/pages/Explore.tsx:411",src:w.profile_photo,alt:w.display_name,className:"w-full h-full object-cover"}):i.jsx("span",{"data-loc":"client/src/pages/Explore.tsx:417",className:"text-lg font-semibold text-gray-600",children:w.display_name[0].toUpperCase()})})}),i.jsxs("div",{"data-loc":"client/src/pages/Explore.tsx:425",className:"flex-1",children:[i.jsx("div",{"data-loc":"client/src/pages/Explore.tsx:426",className:"font-semibold",children:w.display_name}),i.jsxs("div",{"data-loc":"client/src/pages/Explore.tsx:427",className:"text-sm text-gray-500",children:["@",w.username]})]}),i.jsxs("div",{"data-loc":"client/src/pages/Explore.tsx:431",className:"flex-shrink-0 text-right",children:[i.jsx("div",{"data-loc":"client/src/pages/Explore.tsx:432",className:"text-2xl font-bold",children:w.count}),i.jsx("div",{"data-loc":"client/src/pages/Explore.tsx:433",className:"text-xs text-gray-500",children:"reviews"})]})]},w.user_id))})}),m==="travelers"&&i.jsx("div",{"data-loc":"client/src/pages/Explore.tsx:443",children:c.length===0?i.jsx("div",{"data-loc":"client/src/pages/Explore.tsx:445",className:"text-center py-12 bg-gray-50 rounded-lg",children:i.jsx("p",{"data-loc":"client/src/pages/Explore.tsx:446",className:"text-gray-500",children:"No travelers yet"})}):i.jsx("div",{"data-loc":"client/src/pages/Explore.tsx:449",className:"space-y-3",children:c.map((w,_)=>i.jsxs("button",{"data-loc":"client/src/pages/Explore.tsx:451",onClick:()=>e(`/user/${w.username}`),className:"w-full flex items-center gap-4 p-4 bg-white border border-gray-200 rounded-lg hover:border-gray-300 transition-colors text-left",children:[i.jsx("div",{"data-loc":"client/src/pages/Explore.tsx:457",className:"flex-shrink-0 w-12 text-center",children:_<3?i.jsx(bb,{"data-loc":"client/src/pages/Explore.tsx:459",className:`h-8 w-8 mx-auto ${_===0?"text-yellow-500":_===1?"text-gray-400":"text-orange-600"}`}):i.jsxs("span",{"data-loc":"client/src/pages/Explore.tsx:465",className:"text-2xl font-bold text-gray-400",children:["#",_+1]})}),i.jsx("div",{"data-loc":"client/src/pages/Explore.tsx:472",className:"flex-shrink-0",children:i.jsx("div",{"data-loc":"client/src/pages/Explore.tsx:473",className:"w-12 h-12 rounded-full bg-gray-200 flex items-center justify-center overflow-hidden",children:w.profile_photo?i.jsx("img",{"data-loc":"client/src/pages/Explore.tsx:475",src:w.profile_photo,alt:w.display_name,className:"w-full h-full object-cover"}):i.jsx("span",{"data-loc":"client/src/pages/Explore.tsx:481",className:"text-lg font-semibold text-gray-600",children:w.display_name[0].toUpperCase()})})}),i.jsxs("div",{"data-loc":"client/src/pages/Explore.tsx:489",className:"flex-1",children:[i.jsx("div",{"data-loc":"client/src/pages/Explore.tsx:490",className:"font-semibold",children:w.display_name}),i.jsxs("div",{"data-loc":"client/src/pages/Explore.tsx:491",className:"text-sm text-gray-500",children:["@",w.username]})]}),i.jsxs("div",{"data-loc":"client/src/pages/Explore.tsx:495",className:"flex-shrink-0 text-right",children:[i.jsx("div",{"data-loc":"client/src/pages/Explore.tsx:496",className:"text-2xl font-bold",children:w.count}),i.jsx("div",{"data-loc":"client/src/pages/Explore.tsx:497",className:"text-xs text-gray-500",children:"places visited"})]})]},w.user_id))})})]}),i.jsx(Ze,{"data-loc":"client/src/pages/Explore.tsx:507"})]})}function GR(){return i.jsxs("div",{"data-loc":"client/src/pages/Privacy.tsx:6",className:"min-h-screen bg-white dark:bg-gray-950 transition-colors duration-300",children:[i.jsx(Le,{"data-loc":"client/src/pages/Privacy.tsx:7"}),i.jsx("main",{"data-loc":"client/src/pages/Privacy.tsx:9",className:"px-6 md:px-10 py-12 dark:text-white",children:i.jsxs("div",{"data-loc":"client/src/pages/Privacy.tsx:10",className:"max-w-4xl mx-auto",children:[i.jsx("h1",{"data-loc":"client/src/pages/Privacy.tsx:11",className:"text-[clamp(24px,5vw,48px)] font-bold uppercase leading-none tracking-tight mb-2 text-black dark:text-white",children:"Privacy Policy"}),i.jsxs("p",{"data-loc":"client/src/pages/Privacy.tsx:12",className:"text-xs font-bold uppercase text-black/60 dark:text-white/60 mb-8",children:["Last updated: ",new Date().toLocaleDateString("en-US",{month:"long",day:"numeric",year:"numeric"})]}),i.jsxs("div",{"data-loc":"client/src/pages/Privacy.tsx:14",className:"prose prose-lg max-w-none dark:prose-invert",children:[i.jsxs("section",{"data-loc":"client/src/pages/Privacy.tsx:15",className:"mb-8",children:[i.jsx("h2",{"data-loc":"client/src/pages/Privacy.tsx:16",className:"text-2xl font-bold mb-4 text-black dark:text-white",children:"Introduction"}),i.jsx("p",{"data-loc":"client/src/pages/Privacy.tsx:17",className:"mb-4 text-gray-700 dark:text-gray-300",children:'Welcome to The Urban Manual ("we," "our," or "us"). We are committed to protecting your personal information and your right to privacy. This Privacy Policy explains how we collect, use, disclose, and safeguard your information when you visit our website and use our services.'}),i.jsx("p",{"data-loc":"client/src/pages/Privacy.tsx:20",className:"mb-4 text-gray-700 dark:text-gray-300",children:"Please read this privacy policy carefully. If you do not agree with the terms of this privacy policy, please do not access the site."})]}),i.jsxs("section",{"data-loc":"client/src/pages/Privacy.tsx:25",className:"mb-8",children:[i.jsx("h2",{"data-loc":"client/src/pages/Privacy.tsx:26",className:"text-2xl font-bold mb-4 text-black dark:text-white",children:"Information We Collect"}),i.jsx("h3",{"data-loc":"client/src/pages/Privacy.tsx:28",className:"text-xl font-semibold mb-3 mt-6 text-black dark:text-white",children:"Personal Information"}),i.jsx("p",{"data-loc":"client/src/pages/Privacy.tsx:29",className:"mb-4 text-gray-700 dark:text-gray-300",children:"We collect personal information that you voluntarily provide to us when you register on the website, express an interest in obtaining information about us or our products and services, or otherwise contact us. The personal information we collect may include:"}),i.jsxs("ul",{"data-loc":"client/src/pages/Privacy.tsx:32",className:"list-disc pl-6 mb-4 space-y-2 text-gray-700 dark:text-gray-300",children:[i.jsx("li",{"data-loc":"client/src/pages/Privacy.tsx:33",children:"Name and email address"}),i.jsx("li",{"data-loc":"client/src/pages/Privacy.tsx:34",children:"Username and password"}),i.jsx("li",{"data-loc":"client/src/pages/Privacy.tsx:35",children:"Profile information (display name, bio, location, profile photo)"}),i.jsx("li",{"data-loc":"client/src/pages/Privacy.tsx:36",children:"Travel preferences and interests"}),i.jsx("li",{"data-loc":"client/src/pages/Privacy.tsx:37",children:"Reviews, ratings, and comments you post"}),i.jsx("li",{"data-loc":"client/src/pages/Privacy.tsx:38",children:"Lists and collections you create"}),i.jsx("li",{"data-loc":"client/src/pages/Privacy.tsx:39",children:"Destinations you save or mark as visited"})]}),i.jsx("h3",{"data-loc":"client/src/pages/Privacy.tsx:42",className:"text-xl font-semibold mb-3 mt-6 text-black dark:text-white",children:"Automatically Collected Information"}),i.jsx("p",{"data-loc":"client/src/pages/Privacy.tsx:43",className:"mb-4 text-gray-700 dark:text-gray-300",children:"When you visit our website, we automatically collect certain information about your device, including:"}),i.jsxs("ul",{"data-loc":"client/src/pages/Privacy.tsx:46",className:"list-disc pl-6 mb-4 space-y-2 text-gray-700 dark:text-gray-300",children:[i.jsx("li",{"data-loc":"client/src/pages/Privacy.tsx:47",children:"IP address and browser type"}),i.jsx("li",{"data-loc":"client/src/pages/Privacy.tsx:48",children:"Operating system and device information"}),i.jsx("li",{"data-loc":"client/src/pages/Privacy.tsx:49",children:"Pages you visit and time spent on pages"}),i.jsx("li",{"data-loc":"client/src/pages/Privacy.tsx:50",children:"Referring URLs and clickstream data"}),i.jsx("li",{"data-loc":"client/src/pages/Privacy.tsx:51",children:"Cookies and similar tracking technologies"})]})]}),i.jsxs("section",{"data-loc":"client/src/pages/Privacy.tsx:55",className:"mb-8",children:[i.jsx("h2",{"data-loc":"client/src/pages/Privacy.tsx:56",className:"text-2xl font-bold mb-4 text-black dark:text-white",children:"How We Use Your Information"}),i.jsx("p",{"data-loc":"client/src/pages/Privacy.tsx:57",className:"mb-4 text-gray-700 dark:text-gray-300",children:"We use the information we collect or receive to:"}),i.jsxs("ul",{"data-loc":"client/src/pages/Privacy.tsx:60",className:"list-disc pl-6 mb-4 space-y-2 text-gray-700 dark:text-gray-300",children:[i.jsx("li",{"data-loc":"client/src/pages/Privacy.tsx:61",children:"Provide, operate, and maintain our website and services"}),i.jsx("li",{"data-loc":"client/src/pages/Privacy.tsx:62",children:"Create and manage your account"}),i.jsx("li",{"data-loc":"client/src/pages/Privacy.tsx:63",children:"Process your transactions and send related information"}),i.jsx("li",{"data-loc":"client/src/pages/Privacy.tsx:64",children:"Send you notifications about your activity and interactions"}),i.jsx("li",{"data-loc":"client/src/pages/Privacy.tsx:65",children:"Provide personalized recommendations and content"}),i.jsx("li",{"data-loc":"client/src/pages/Privacy.tsx:66",children:"Respond to your comments, questions, and customer service requests"}),i.jsx("li",{"data-loc":"client/src/pages/Privacy.tsx:67",children:"Analyze usage trends and improve our services"}),i.jsx("li",{"data-loc":"client/src/pages/Privacy.tsx:68",children:"Detect, prevent, and address technical issues and fraudulent activity"}),i.jsx("li",{"data-loc":"client/src/pages/Privacy.tsx:69",children:"Send you marketing and promotional communications (with your consent)"}),i.jsx("li",{"data-loc":"client/src/pages/Privacy.tsx:70",children:"Comply with legal obligations and enforce our terms"})]})]}),i.jsxs("section",{"data-loc":"client/src/pages/Privacy.tsx:74",className:"mb-8",children:[i.jsx("h2",{"data-loc":"client/src/pages/Privacy.tsx:75",className:"text-2xl font-bold mb-4 text-black dark:text-white",children:"Sharing Your Information"}),i.jsx("p",{"data-loc":"client/src/pages/Privacy.tsx:76",className:"mb-4 text-gray-700 dark:text-gray-300",children:"We may share your information in the following situations:"}),i.jsxs("ul",{"data-loc":"client/src/pages/Privacy.tsx:79",className:"list-disc pl-6 mb-4 space-y-2 text-gray-700 dark:text-gray-300",children:[i.jsxs("li",{"data-loc":"client/src/pages/Privacy.tsx:80",children:[i.jsx("strong",{"data-loc":"client/src/pages/Privacy.tsx:80",children:"Public Information:"})," Your profile information, reviews, ratings, lists, and activity may be visible to other users based on your privacy settings"]}),i.jsxs("li",{"data-loc":"client/src/pages/Privacy.tsx:81",children:[i.jsx("strong",{"data-loc":"client/src/pages/Privacy.tsx:81",children:"Service Providers:"})," We may share your information with third-party service providers who perform services on our behalf (e.g., hosting, analytics, email delivery)"]}),i.jsxs("li",{"data-loc":"client/src/pages/Privacy.tsx:82",children:[i.jsx("strong",{"data-loc":"client/src/pages/Privacy.tsx:82",children:"Business Transfers:"})," We may share or transfer your information in connection with a merger, sale, or acquisition"]}),i.jsxs("li",{"data-loc":"client/src/pages/Privacy.tsx:83",children:[i.jsx("strong",{"data-loc":"client/src/pages/Privacy.tsx:83",children:"Legal Requirements:"})," We may disclose your information if required by law or in response to valid requests by public authorities"]}),i.jsxs("li",{"data-loc":"client/src/pages/Privacy.tsx:84",children:[i.jsx("strong",{"data-loc":"client/src/pages/Privacy.tsx:84",children:"Affiliate Partners:"})," We may share information with affiliate partners for monetization purposes, but will not sell your personal information"]})]})]}),i.jsxs("section",{"data-loc":"client/src/pages/Privacy.tsx:88",className:"mb-8",children:[i.jsx("h2",{"data-loc":"client/src/pages/Privacy.tsx:89",className:"text-2xl font-bold mb-4 text-black dark:text-white",children:"Cookies and Tracking Technologies"}),i.jsx("p",{"data-loc":"client/src/pages/Privacy.tsx:90",className:"mb-4 text-gray-700 dark:text-gray-300",children:"We use cookies and similar tracking technologies to track activity on our website and store certain information. Cookies are files with small amounts of data that are sent to your browser from a website and stored on your device."}),i.jsx("p",{"data-loc":"client/src/pages/Privacy.tsx:93",className:"mb-4 text-gray-700 dark:text-gray-300",children:"We use the following types of cookies:"}),i.jsxs("ul",{"data-loc":"client/src/pages/Privacy.tsx:96",className:"list-disc pl-6 mb-4 space-y-2 text-gray-700 dark:text-gray-300",children:[i.jsxs("li",{"data-loc":"client/src/pages/Privacy.tsx:97",children:[i.jsx("strong",{"data-loc":"client/src/pages/Privacy.tsx:97",children:"Essential Cookies:"})," Required for the website to function properly"]}),i.jsxs("li",{"data-loc":"client/src/pages/Privacy.tsx:98",children:[i.jsx("strong",{"data-loc":"client/src/pages/Privacy.tsx:98",children:"Analytics Cookies:"})," Help us understand how visitors use our website"]}),i.jsxs("li",{"data-loc":"client/src/pages/Privacy.tsx:99",children:[i.jsx("strong",{"data-loc":"client/src/pages/Privacy.tsx:99",children:"Advertising Cookies:"})," Used to deliver relevant advertisements"]}),i.jsxs("li",{"data-loc":"client/src/pages/Privacy.tsx:100",children:[i.jsx("strong",{"data-loc":"client/src/pages/Privacy.tsx:100",children:"Preference Cookies:"})," Remember your settings and preferences"]})]}),i.jsx("p",{"data-loc":"client/src/pages/Privacy.tsx:102",className:"mb-4 text-gray-700 dark:text-gray-300",children:"You can instruct your browser to refuse all cookies or to indicate when a cookie is being sent. However, if you do not accept cookies, you may not be able to use some portions of our website."})]}),i.jsxs("section",{"data-loc":"client/src/pages/Privacy.tsx:107",className:"mb-8",children:[i.jsx("h2",{"data-loc":"client/src/pages/Privacy.tsx:108",className:"text-2xl font-bold mb-4 text-black dark:text-white",children:"Third-Party Services"}),i.jsx("p",{"data-loc":"client/src/pages/Privacy.tsx:109",className:"mb-4 text-gray-700 dark:text-gray-300",children:"Our website may contain links to third-party websites and services, including:"}),i.jsxs("ul",{"data-loc":"client/src/pages/Privacy.tsx:112",className:"list-disc pl-6 mb-4 space-y-2 text-gray-700 dark:text-gray-300",children:[i.jsxs("li",{"data-loc":"client/src/pages/Privacy.tsx:113",children:[i.jsx("strong",{"data-loc":"client/src/pages/Privacy.tsx:113",children:"Google AdSense:"})," For displaying advertisements"]}),i.jsxs("li",{"data-loc":"client/src/pages/Privacy.tsx:114",children:[i.jsx("strong",{"data-loc":"client/src/pages/Privacy.tsx:114",children:"Awin Affiliate Network:"})," For affiliate marketing links"]}),i.jsxs("li",{"data-loc":"client/src/pages/Privacy.tsx:115",children:[i.jsx("strong",{"data-loc":"client/src/pages/Privacy.tsx:115",children:"Supabase:"})," For authentication and database services"]}),i.jsxs("li",{"data-loc":"client/src/pages/Privacy.tsx:116",children:[i.jsx("strong",{"data-loc":"client/src/pages/Privacy.tsx:116",children:"Google Gemini API:"})," For AI-powered recommendations"]}),i.jsxs("li",{"data-loc":"client/src/pages/Privacy.tsx:117",children:[i.jsx("strong",{"data-loc":"client/src/pages/Privacy.tsx:117",children:"Analytics Services:"})," For website analytics and insights"]})]}),i.jsx("p",{"data-loc":"client/src/pages/Privacy.tsx:119",className:"mb-4 text-gray-700 dark:text-gray-300",children:"These third-party services have their own privacy policies. We are not responsible for the privacy practices of these third parties."})]}),i.jsxs("section",{"data-loc":"client/src/pages/Privacy.tsx:124",className:"mb-8",children:[i.jsx("h2",{"data-loc":"client/src/pages/Privacy.tsx:125",className:"text-2xl font-bold mb-4 text-black dark:text-white",children:"Data Security"}),i.jsx("p",{"data-loc":"client/src/pages/Privacy.tsx:126",className:"mb-4 text-gray-700 dark:text-gray-300",children:"We implement appropriate technical and organizational security measures to protect your personal information. However, no method of transmission over the Internet or electronic storage is 100% secure. While we strive to use commercially acceptable means to protect your information, we cannot guarantee its absolute security."})]}),i.jsxs("section",{"data-loc":"client/src/pages/Privacy.tsx:131",className:"mb-8",children:[i.jsx("h2",{"data-loc":"client/src/pages/Privacy.tsx:132",className:"text-2xl font-bold mb-4 text-black dark:text-white",children:"Your Privacy Rights"}),i.jsx("p",{"data-loc":"client/src/pages/Privacy.tsx:133",className:"mb-4 text-gray-700 dark:text-gray-300",children:"Depending on your location, you may have the following rights regarding your personal information:"}),i.jsxs("ul",{"data-loc":"client/src/pages/Privacy.tsx:136",className:"list-disc pl-6 mb-4 space-y-2 text-gray-700 dark:text-gray-300",children:[i.jsxs("li",{"data-loc":"client/src/pages/Privacy.tsx:137",children:[i.jsx("strong",{"data-loc":"client/src/pages/Privacy.tsx:137",children:"Access:"})," Request a copy of the personal information we hold about you"]}),i.jsxs("li",{"data-loc":"client/src/pages/Privacy.tsx:138",children:[i.jsx("strong",{"data-loc":"client/src/pages/Privacy.tsx:138",children:"Correction:"})," Request correction of inaccurate or incomplete information"]}),i.jsxs("li",{"data-loc":"client/src/pages/Privacy.tsx:139",children:[i.jsx("strong",{"data-loc":"client/src/pages/Privacy.tsx:139",children:"Deletion:"})," Request deletion of your personal information"]}),i.jsxs("li",{"data-loc":"client/src/pages/Privacy.tsx:140",children:[i.jsx("strong",{"data-loc":"client/src/pages/Privacy.tsx:140",children:"Restriction:"})," Request restriction of processing your information"]}),i.jsxs("li",{"data-loc":"client/src/pages/Privacy.tsx:141",children:[i.jsx("strong",{"data-loc":"client/src/pages/Privacy.tsx:141",children:"Portability:"})," Request transfer of your information to another service"]}),i.jsxs("li",{"data-loc":"client/src/pages/Privacy.tsx:142",children:[i.jsx("strong",{"data-loc":"client/src/pages/Privacy.tsx:142",children:"Objection:"})," Object to our processing of your information"]}),i.jsxs("li",{"data-loc":"client/src/pages/Privacy.tsx:143",children:[i.jsx("strong",{"data-loc":"client/src/pages/Privacy.tsx:143",children:"Withdraw Consent:"})," Withdraw your consent at any time"]})]}),i.jsx("p",{"data-loc":"client/src/pages/Privacy.tsx:145",className:"mb-4 text-gray-700 dark:text-gray-300",children:"To exercise these rights, please contact us using the information provided below."})]}),i.jsxs("section",{"data-loc":"client/src/pages/Privacy.tsx:150",className:"mb-8",children:[i.jsx("h2",{"data-loc":"client/src/pages/Privacy.tsx:151",className:"text-2xl font-bold mb-4 text-black dark:text-white",children:"Children's Privacy"}),i.jsx("p",{"data-loc":"client/src/pages/Privacy.tsx:152",className:"mb-4 text-gray-700 dark:text-gray-300",children:"Our website is not intended for children under the age of 13. We do not knowingly collect personal information from children under 13. If you are a parent or guardian and believe your child has provided us with personal information, please contact us so we can delete it."})]}),i.jsxs("section",{"data-loc":"client/src/pages/Privacy.tsx:157",className:"mb-8",children:[i.jsx("h2",{"data-loc":"client/src/pages/Privacy.tsx:158",className:"text-2xl font-bold mb-4 text-black dark:text-white",children:"International Data Transfers"}),i.jsx("p",{"data-loc":"client/src/pages/Privacy.tsx:159",className:"mb-4 text-gray-700 dark:text-gray-300",children:"Your information may be transferred to and maintained on computers located outside of your state, province, country, or other governmental jurisdiction where data protection laws may differ. By using our website, you consent to such transfers."})]}),i.jsxs("section",{"data-loc":"client/src/pages/Privacy.tsx:164",className:"mb-8",children:[i.jsx("h2",{"data-loc":"client/src/pages/Privacy.tsx:165",className:"text-2xl font-bold mb-4 text-black dark:text-white",children:"Changes to This Privacy Policy"}),i.jsx("p",{"data-loc":"client/src/pages/Privacy.tsx:166",className:"mb-4 text-gray-700 dark:text-gray-300",children:'We may update this privacy policy from time to time. We will notify you of any changes by posting the new privacy policy on this page and updating the "Last updated" date. You are advised to review this privacy policy periodically for any changes.'})]}),i.jsxs("section",{"data-loc":"client/src/pages/Privacy.tsx:171",className:"mb-8",children:[i.jsx("h2",{"data-loc":"client/src/pages/Privacy.tsx:172",className:"text-2xl font-bold mb-4 text-black dark:text-white",children:"Contact Us"}),i.jsx("p",{"data-loc":"client/src/pages/Privacy.tsx:173",className:"mb-4 text-gray-700 dark:text-gray-300",children:"If you have any questions about this Privacy Policy or our privacy practices, please contact us at:"}),i.jsxs("div",{"data-loc":"client/src/pages/Privacy.tsx:176",className:"bg-gray-50 p-6 rounded-lg",children:[i.jsx("p",{"data-loc":"client/src/pages/Privacy.tsx:177",className:"mb-2",children:i.jsx("strong",{"data-loc":"client/src/pages/Privacy.tsx:177",children:"The Urban Manual"})}),i.jsx("p",{"data-loc":"client/src/pages/Privacy.tsx:178",className:"mb-2",children:"Email: privacy@theurbanmanual.com"}),i.jsx("p",{"data-loc":"client/src/pages/Privacy.tsx:179",children:"Website: https://theurbanmanual.com"})]})]}),i.jsxs("section",{"data-loc":"client/src/pages/Privacy.tsx:183",className:"mb-8",children:[i.jsx("h2",{"data-loc":"client/src/pages/Privacy.tsx:184",className:"text-2xl font-bold mb-4 text-black dark:text-white",children:"GDPR Compliance (EU Users)"}),i.jsx("p",{"data-loc":"client/src/pages/Privacy.tsx:185",className:"mb-4 text-gray-700 dark:text-gray-300",children:"If you are located in the European Economic Area (EEA), you have certain data protection rights under the General Data Protection Regulation (GDPR). We aim to take reasonable steps to allow you to correct, amend, delete, or limit the use of your personal information."}),i.jsx("p",{"data-loc":"client/src/pages/Privacy.tsx:188",className:"mb-4 text-gray-700 dark:text-gray-300",children:"The legal basis for processing your information includes:"}),i.jsxs("ul",{"data-loc":"client/src/pages/Privacy.tsx:191",className:"list-disc pl-6 mb-4 space-y-2 text-gray-700 dark:text-gray-300",children:[i.jsx("li",{"data-loc":"client/src/pages/Privacy.tsx:192",children:"Your consent"}),i.jsx("li",{"data-loc":"client/src/pages/Privacy.tsx:193",children:"Performance of a contract with you"}),i.jsx("li",{"data-loc":"client/src/pages/Privacy.tsx:194",children:"Compliance with legal obligations"}),i.jsx("li",{"data-loc":"client/src/pages/Privacy.tsx:195",children:"Our legitimate interests"})]})]}),i.jsxs("section",{"data-loc":"client/src/pages/Privacy.tsx:199",className:"mb-8",children:[i.jsx("h2",{"data-loc":"client/src/pages/Privacy.tsx:200",className:"text-2xl font-bold mb-4 text-black dark:text-white",children:"CCPA Privacy Rights (California Users)"}),i.jsx("p",{"data-loc":"client/src/pages/Privacy.tsx:201",className:"mb-4 text-gray-700 dark:text-gray-300",children:"If you are a California resident, you have specific rights under the California Consumer Privacy Act (CCPA):"}),i.jsxs("ul",{"data-loc":"client/src/pages/Privacy.tsx:204",className:"list-disc pl-6 mb-4 space-y-2 text-gray-700 dark:text-gray-300",children:[i.jsx("li",{"data-loc":"client/src/pages/Privacy.tsx:205",children:"Right to know what personal information is collected"}),i.jsx("li",{"data-loc":"client/src/pages/Privacy.tsx:206",children:"Right to know whether personal information is sold or disclosed"}),i.jsx("li",{"data-loc":"client/src/pages/Privacy.tsx:207",children:"Right to say no to the sale of personal information"}),i.jsx("li",{"data-loc":"client/src/pages/Privacy.tsx:208",children:"Right to access your personal information"}),i.jsx("li",{"data-loc":"client/src/pages/Privacy.tsx:209",children:"Right to equal service and price"})]})]})]})]})}),i.jsx(Ze,{"data-loc":"client/src/pages/Privacy.tsx:216"})]})}function VR(e){return e.split("-").map(t=>t.charAt(0).toUpperCase()+t.slice(1)).join(" ")}function QR(e){return e.split("-").map(t=>t.charAt(0).toUpperCase()+t.slice(1)).join(" ")}function YR(){const[,e]=_l("/brand/:slug"),t=e?.slug||"",[a,r]=j.useState([]),[l,c]=j.useState(!0),[d,f]=j.useState(null),[p,m]=j.useState(!1);j.useEffect(()=>{async function v(){c(!0);const{data:b,error:N}=await re.from("destinations").select("*").eq("brand",t).order("name");N?console.error("Error loading brand destinations:",N):b&&r(b),c(!1)}t&&v()},[t]);const y=v=>{const b={name:v.name,slug:v.slug,city:v.city,category:v.category,content:v.content||v.description||"",mainImage:v.image||"",michelinStars:v.michelin_stars||0,crown:v.crown||!1,brand:v.brand||"",cardTags:"",lat:0,long:0,myRating:0,reviewed:!1,subline:v.description||""};f(b),m(!0)};if(l)return i.jsx("div",{"data-loc":"client/src/pages/Brand.tsx:82",className:"min-h-screen flex items-center justify-center bg-white",children:i.jsx("div",{"data-loc":"client/src/pages/Brand.tsx:83",className:"text-lg text-gray-400",children:"Loading..."})});const x=VR(t);return i.jsxs("div",{"data-loc":"client/src/pages/Brand.tsx:91",className:"min-h-screen bg-white",children:[i.jsx(Le,{"data-loc":"client/src/pages/Brand.tsx:92"}),i.jsx("main",{"data-loc":"client/src/pages/Brand.tsx:94",className:"px-6 md:px-10 py-12",children:i.jsxs("div",{"data-loc":"client/src/pages/Brand.tsx:95",className:"max-w-[1920px] mx-auto",children:[i.jsxs("div",{"data-loc":"client/src/pages/Brand.tsx:97",className:"mb-12",children:[i.jsxs("div",{"data-loc":"client/src/pages/Brand.tsx:98",className:"flex items-center gap-3 mb-4",children:[i.jsx(r5,{"data-loc":"client/src/pages/Brand.tsx:99",className:"h-8 w-8 text-gray-400"}),i.jsx("h1",{"data-loc":"client/src/pages/Brand.tsx:100",className:"text-4xl font-bold",children:x})]}),i.jsxs("p",{"data-loc":"client/src/pages/Brand.tsx:102",className:"text-gray-600",children:[a.length," ",a.length===1?"destination":"destinations"," by ",x]})]}),a.length===0?i.jsx("div",{"data-loc":"client/src/pages/Brand.tsx:109",className:"text-center py-16",children:i.jsx("p",{"data-loc":"client/src/pages/Brand.tsx:110",className:"text-gray-400",children:"No destinations found for this brand"})}):i.jsx("div",{"data-loc":"client/src/pages/Brand.tsx:113",className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 xl:grid-cols-6 2xl:grid-cols-7 gap-6",children:a.map(v=>i.jsxs("button",{"data-loc":"client/src/pages/Brand.tsx:115",onClick:()=>y(v),className:"group text-left",children:[i.jsxs("div",{"data-loc":"client/src/pages/Brand.tsx:120",className:"aspect-square bg-gray-100 mb-3 overflow-hidden relative",children:[v.image&&i.jsx("img",{"data-loc":"client/src/pages/Brand.tsx:122",src:v.image,alt:v.name,className:"w-full h-full object-cover transition-transform duration-500 group-hover:scale-105"}),v.michelin_stars>0&&i.jsxs("div",{"data-loc":"client/src/pages/Brand.tsx:129",className:"absolute top-2 right-2 bg-red-600 text-white px-2 py-1 text-xs font-bold rounded",children:[v.michelin_stars,""]}),v.crown&&i.jsx("div",{"data-loc":"client/src/pages/Brand.tsx:134",className:"absolute top-2 left-2 bg-yellow-500 text-white px-2 py-1 text-xs font-bold rounded",children:""})]}),i.jsx("h3",{"data-loc":"client/src/pages/Brand.tsx:139",className:"font-medium text-sm mb-1 line-clamp-2",children:v.name}),i.jsx("p",{"data-loc":"client/src/pages/Brand.tsx:140",className:"text-xs text-gray-600",children:QR(v.city)}),i.jsx("p",{"data-loc":"client/src/pages/Brand.tsx:141",className:"text-xs text-gray-500",children:v.category})]},v.slug))})]})}),i.jsx(Ze,{"data-loc":"client/src/pages/Brand.tsx:149"}),d&&i.jsx(Nr,{"data-loc":"client/src/pages/Brand.tsx:153",destination:d,isOpen:p,onClose:()=>{m(!1),f(null)}})]})}function KR(e){return e.split("-").map(t=>t.charAt(0).toUpperCase()+t.slice(1)).join(" ")}function WR(e){return e.split("-").map(t=>t.charAt(0).toUpperCase()+t.slice(1)).join(" ")}function XR(){const[,e]=_l("/designer/:slug"),t=e?.slug||"",[a,r]=j.useState([]),[l,c]=j.useState(!0),[d,f]=j.useState(null),[p,m]=j.useState(!1);j.useEffect(()=>{async function v(){c(!0);const{data:b,error:N}=await re.from("destinations").select("*").eq("designer",t).order("name");N?console.error("Error loading designer destinations:",N):b&&r(b),c(!1)}t&&v()},[t]);const y=v=>{const b={name:v.name,slug:v.slug,city:v.city,category:v.category,content:v.content||v.description||"",mainImage:v.image||"",michelinStars:v.michelin_stars||0,crown:v.crown||!1,brand:v.brand||"",cardTags:"",lat:0,long:0,myRating:0,reviewed:!1,subline:v.description||""};f(b),m(!0)};if(l)return i.jsx("div",{"data-loc":"client/src/pages/Designer.tsx:82",className:"min-h-screen flex items-center justify-center bg-white",children:i.jsx("div",{"data-loc":"client/src/pages/Designer.tsx:83",className:"text-lg text-gray-400",children:"Loading..."})});const x=KR(t);return i.jsxs("div",{"data-loc":"client/src/pages/Designer.tsx:91",className:"min-h-screen bg-white",children:[i.jsx(Le,{"data-loc":"client/src/pages/Designer.tsx:92"}),i.jsx("main",{"data-loc":"client/src/pages/Designer.tsx:94",className:"px-6 md:px-10 py-12",children:i.jsxs("div",{"data-loc":"client/src/pages/Designer.tsx:95",className:"max-w-[1920px] mx-auto",children:[i.jsxs("div",{"data-loc":"client/src/pages/Designer.tsx:97",className:"mb-12",children:[i.jsxs("div",{"data-loc":"client/src/pages/Designer.tsx:98",className:"flex items-center gap-3 mb-4",children:[i.jsx(XD,{"data-loc":"client/src/pages/Designer.tsx:99",className:"h-8 w-8 text-gray-400"}),i.jsx("h1",{"data-loc":"client/src/pages/Designer.tsx:100",className:"text-4xl font-bold",children:x})]}),i.jsxs("p",{"data-loc":"client/src/pages/Designer.tsx:102",className:"text-gray-600",children:[a.length," ",a.length===1?"destination":"destinations"," designed by ",x]})]}),a.length===0?i.jsx("div",{"data-loc":"client/src/pages/Designer.tsx:109",className:"text-center py-16",children:i.jsx("p",{"data-loc":"client/src/pages/Designer.tsx:110",className:"text-gray-400",children:"No destinations found for this designer"})}):i.jsx("div",{"data-loc":"client/src/pages/Designer.tsx:113",className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 xl:grid-cols-6 2xl:grid-cols-7 gap-6",children:a.map(v=>i.jsxs("button",{"data-loc":"client/src/pages/Designer.tsx:115",onClick:()=>y(v),className:"group text-left",children:[i.jsxs("div",{"data-loc":"client/src/pages/Designer.tsx:120",className:"aspect-square bg-gray-100 mb-3 overflow-hidden relative",children:[v.image&&i.jsx("img",{"data-loc":"client/src/pages/Designer.tsx:122",src:v.image,alt:v.name,className:"w-full h-full object-cover transition-transform duration-500 group-hover:scale-105"}),v.michelin_stars>0&&i.jsxs("div",{"data-loc":"client/src/pages/Designer.tsx:129",className:"absolute top-2 right-2 bg-red-600 text-white px-2 py-1 text-xs font-bold rounded",children:[v.michelin_stars,""]}),v.crown&&i.jsx("div",{"data-loc":"client/src/pages/Designer.tsx:134",className:"absolute top-2 left-2 bg-yellow-500 text-white px-2 py-1 text-xs font-bold rounded",children:""})]}),i.jsx("h3",{"data-loc":"client/src/pages/Designer.tsx:139",className:"font-medium text-sm mb-1 line-clamp-2",children:v.name}),i.jsx("p",{"data-loc":"client/src/pages/Designer.tsx:140",className:"text-xs text-gray-600",children:WR(v.city)}),i.jsx("p",{"data-loc":"client/src/pages/Designer.tsx:141",className:"text-xs text-gray-500",children:v.category})]},v.slug))})]})}),i.jsx(Ze,{"data-loc":"client/src/pages/Designer.tsx:149"}),d&&i.jsx(Nr,{"data-loc":"client/src/pages/Designer.tsx:153",destination:d,isOpen:p,onClose:()=>{m(!1),f(null)}})]})}function JR(){return i.jsx("footer",{"data-loc":"client/src/components/EnhancedFooter.tsx:5",className:"bg-gray-900 text-white",children:i.jsxs("div",{"data-loc":"client/src/components/EnhancedFooter.tsx:6",className:"max-w-[1440px] mx-auto px-10 py-16",children:[i.jsx("div",{"data-loc":"client/src/components/EnhancedFooter.tsx:8",className:"mb-16",children:i.jsxs("div",{"data-loc":"client/src/components/EnhancedFooter.tsx:9",className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-8",children:[i.jsx("div",{"data-loc":"client/src/components/EnhancedFooter.tsx:10",children:i.jsx("p",{"data-loc":"client/src/components/EnhancedFooter.tsx:11",className:"text-sm text-gray-400 mb-2",children:"Let's explore"})}),i.jsxs("div",{"data-loc":"client/src/components/EnhancedFooter.tsx:13",children:[i.jsxs("h2",{"data-loc":"client/src/components/EnhancedFooter.tsx:14",className:"text-4xl md:text-5xl font-light mb-6 leading-tight",children:["Discover amazing places",i.jsx("br",{"data-loc":"client/src/components/EnhancedFooter.tsx:16"}),"around the world"]}),i.jsxs("div",{"data-loc":"client/src/components/EnhancedFooter.tsx:19",className:"flex gap-3",children:[i.jsx(Wt,{"data-loc":"client/src/components/EnhancedFooter.tsx:20",href:"/explore",children:i.jsx("a",{"data-loc":"client/src/components/EnhancedFooter.tsx:21",className:"px-6 py-2.5 bg-white text-gray-900 rounded-full text-sm font-medium hover:bg-gray-100 transition-colors",children:"Explore now"})}),i.jsx(Wt,{"data-loc":"client/src/components/EnhancedFooter.tsx:25",href:"/account",children:i.jsx("a",{"data-loc":"client/src/components/EnhancedFooter.tsx:26",className:"px-6 py-2.5 bg-white/10 text-white rounded-full text-sm font-medium hover:bg-white/20 transition-colors",children:"Sign up"})})]})]})]})}),i.jsxs("div",{"data-loc":"client/src/components/EnhancedFooter.tsx:36",className:"border-t border-b border-gray-800 py-12",children:[i.jsxs("div",{"data-loc":"client/src/components/EnhancedFooter.tsx:37",className:"grid grid-cols-1 md:grid-cols-12 gap-8",children:[i.jsx("div",{"data-loc":"client/src/components/EnhancedFooter.tsx:39",className:"md:col-span-3",children:i.jsx(Wt,{"data-loc":"client/src/components/EnhancedFooter.tsx:40",href:"/",children:i.jsx("a",{"data-loc":"client/src/components/EnhancedFooter.tsx:41",className:"text-2xl font-semibold",children:"TravelGuide"})})}),i.jsxs("div",{"data-loc":"client/src/components/EnhancedFooter.tsx:46",className:"md:col-span-3",children:[i.jsx("h3",{"data-loc":"client/src/components/EnhancedFooter.tsx:47",className:"text-sm text-gray-400 mb-4",children:"Categories"}),i.jsxs("ul",{"data-loc":"client/src/components/EnhancedFooter.tsx:48",className:"space-y-3",children:[i.jsx("li",{"data-loc":"client/src/components/EnhancedFooter.tsx:49",children:i.jsx(Wt,{"data-loc":"client/src/components/EnhancedFooter.tsx:50",href:"/city/tokyo",children:i.jsx("a",{"data-loc":"client/src/components/EnhancedFooter.tsx:51",className:"text-sm hover:text-gray-300 transition-colors",children:"Restaurants"})})}),i.jsx("li",{"data-loc":"client/src/components/EnhancedFooter.tsx:54",children:i.jsx(Wt,{"data-loc":"client/src/components/EnhancedFooter.tsx:55",href:"/city/paris",children:i.jsx("a",{"data-loc":"client/src/components/EnhancedFooter.tsx:56",className:"text-sm hover:text-gray-300 transition-colors",children:"Hotels"})})}),i.jsx("li",{"data-loc":"client/src/components/EnhancedFooter.tsx:59",children:i.jsx(Wt,{"data-loc":"client/src/components/EnhancedFooter.tsx:60",href:"/cities",children:i.jsx("a",{"data-loc":"client/src/components/EnhancedFooter.tsx:61",className:"text-sm hover:text-gray-300 transition-colors",children:"Attractions"})})}),i.jsx("li",{"data-loc":"client/src/components/EnhancedFooter.tsx:64",children:i.jsx(Wt,{"data-loc":"client/src/components/EnhancedFooter.tsx:65",href:"/explore",children:i.jsx("a",{"data-loc":"client/src/components/EnhancedFooter.tsx:66",className:"text-sm hover:text-gray-300 transition-colors",children:"Cafes & Bars"})})}),i.jsx("li",{"data-loc":"client/src/components/EnhancedFooter.tsx:69",children:i.jsx(Wt,{"data-loc":"client/src/components/EnhancedFooter.tsx:70",href:"/explore",children:i.jsx("a",{"data-loc":"client/src/components/EnhancedFooter.tsx:71",className:"text-sm hover:text-gray-300 transition-colors",children:"Cultural Spaces"})})}),i.jsx("li",{"data-loc":"client/src/components/EnhancedFooter.tsx:74",children:i.jsx(Wt,{"data-loc":"client/src/components/EnhancedFooter.tsx:75",href:"/explore",children:i.jsx("a",{"data-loc":"client/src/components/EnhancedFooter.tsx:76",className:"text-sm hover:text-gray-300 transition-colors",children:"Shopping"})})})]})]}),i.jsxs("div",{"data-loc":"client/src/components/EnhancedFooter.tsx:83",className:"md:col-span-3",children:[i.jsx("h3",{"data-loc":"client/src/components/EnhancedFooter.tsx:84",className:"text-sm text-gray-400 mb-4",children:"Company"}),i.jsxs("ul",{"data-loc":"client/src/components/EnhancedFooter.tsx:85",className:"space-y-3",children:[i.jsx("li",{"data-loc":"client/src/components/EnhancedFooter.tsx:86",children:i.jsx(Wt,{"data-loc":"client/src/components/EnhancedFooter.tsx:87",href:"/feed",children:i.jsx("a",{"data-loc":"client/src/components/EnhancedFooter.tsx:88",className:"text-sm hover:text-gray-300 transition-colors",children:"About us"})})}),i.jsx("li",{"data-loc":"client/src/components/EnhancedFooter.tsx:91",children:i.jsx(Wt,{"data-loc":"client/src/components/EnhancedFooter.tsx:92",href:"/lists",children:i.jsx("a",{"data-loc":"client/src/components/EnhancedFooter.tsx:93",className:"text-sm hover:text-gray-300 transition-colors",children:"Community"})})}),i.jsx("li",{"data-loc":"client/src/components/EnhancedFooter.tsx:96",children:i.jsx(Wt,{"data-loc":"client/src/components/EnhancedFooter.tsx:97",href:"/account",children:i.jsx("a",{"data-loc":"client/src/components/EnhancedFooter.tsx:98",className:"text-sm hover:text-gray-300 transition-colors",children:"Contact"})})})]})]}),i.jsx("div",{"data-loc":"client/src/components/EnhancedFooter.tsx:105",className:"md:col-span-3 flex justify-end",children:i.jsx("button",{"data-loc":"client/src/components/EnhancedFooter.tsx:106",className:"w-10 h-10 bg-white rounded-full flex items-center justify-center hover:bg-gray-100 transition-colors",children:i.jsx("svg",{"data-loc":"client/src/components/EnhancedFooter.tsx:107",className:"w-5 h-5 text-gray-900",fill:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{"data-loc":"client/src/components/EnhancedFooter.tsx:108",d:"M8.29 20.251c7.547 0 11.675-6.253 11.675-11.675 0-.178 0-.355-.012-.53A8.348 8.348 0 0022 5.92a8.19 8.19 0 01-2.357.646 4.118 4.118 0 001.804-2.27 8.224 8.224 0 01-2.605.996 4.107 4.107 0 00-6.993 3.743 11.65 11.65 0 01-8.457-4.287 4.106 4.106 0 001.27 5.477A4.072 4.072 0 012.8 9.713v.052a4.105 4.105 0 003.292 4.022 4.095 4.095 0 01-1.853.07 4.108 4.108 0 003.834 2.85A8.233 8.233 0 012 18.407a11.616 11.616 0 006.29 1.84"})})})})]}),i.jsx("div",{"data-loc":"client/src/components/EnhancedFooter.tsx:115",className:"mt-12",children:i.jsxs("p",{"data-loc":"client/src/components/EnhancedFooter.tsx:116",className:"text-sm text-gray-400 leading-relaxed max-w-md",children:["Discover the world's best destinations",i.jsx("br",{"data-loc":"client/src/components/EnhancedFooter.tsx:118"}),"Curated experiences from travelers who've been there."]})})]}),i.jsxs("div",{"data-loc":"client/src/components/EnhancedFooter.tsx:125",className:"pt-8 flex flex-col md:flex-row justify-between items-center gap-4",children:[i.jsx("p",{"data-loc":"client/src/components/EnhancedFooter.tsx:126",className:"text-sm text-gray-500",children:" 2025 TravelGuide. All rights reserved."}),i.jsxs("div",{"data-loc":"client/src/components/EnhancedFooter.tsx:127",className:"flex gap-8",children:[i.jsx(Wt,{"data-loc":"client/src/components/EnhancedFooter.tsx:128",href:"/privacy",children:i.jsx("a",{"data-loc":"client/src/components/EnhancedFooter.tsx:129",className:"text-sm text-gray-400 hover:text-white transition-colors",children:"Privacy policy"})}),i.jsx("a",{"data-loc":"client/src/components/EnhancedFooter.tsx:131",href:"#",className:"text-sm text-gray-400 hover:text-white transition-colors",children:"Terms of service"})]})]})]})})}function ZR(e){return e.split("-").map(t=>t.charAt(0).toUpperCase()+t.slice(1)).join(" ")}function e8(){const[,e]=_l("/showcase/:slug"),t=e?.slug||"",[a,r]=j.useState(null),[l,c]=j.useState(!0),[d,f]=j.useState([]);if(j.useEffect(()=>{async function m(){if(!t)return;const{data:y,error:x}=await re.from("destinations").select("*").eq("slug",t).single();x?console.error("Error loading destination:",x):y&&r(y),c(!1)}m()},[t]),j.useEffect(()=>{async function m(){if(!t)return;const{data:y}=await re.from("reviews").select(`
          *,
          user_profiles (
            display_name,
            avatar_url
          )
        `).eq("destination_slug",t).order("created_at",{ascending:!1}).limit(1);y&&f(y)}m()},[t]),l)return i.jsx("div",{"data-loc":"client/src/pages/DestinationShowcase.tsx:71",className:"min-h-screen flex items-center justify-center bg-white",children:i.jsx("div",{"data-loc":"client/src/pages/DestinationShowcase.tsx:72",className:"text-lg text-gray-400",children:"Loading..."})});if(!a)return i.jsx("div",{"data-loc":"client/src/pages/DestinationShowcase.tsx:79",className:"min-h-screen flex items-center justify-center bg-white",children:i.jsx("div",{"data-loc":"client/src/pages/DestinationShowcase.tsx:80",className:"text-lg text-gray-400",children:"Destination not found"})});const p=d[0];return i.jsxs("div",{"data-loc":"client/src/pages/DestinationShowcase.tsx:88",className:"min-h-screen bg-white",children:[i.jsx(Le,{"data-loc":"client/src/pages/DestinationShowcase.tsx:89"}),i.jsxs("main",{"data-loc":"client/src/pages/DestinationShowcase.tsx:91",className:"max-w-[1440px] mx-auto px-10",children:[i.jsx("section",{"data-loc":"client/src/pages/DestinationShowcase.tsx:93",className:"py-12",children:i.jsxs("div",{"data-loc":"client/src/pages/DestinationShowcase.tsx:94",className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[i.jsx("div",{"data-loc":"client/src/pages/DestinationShowcase.tsx:96",className:"bg-[#fbf9f7] rounded-xl p-8 flex items-end min-h-[480px]",children:i.jsx("h1",{"data-loc":"client/src/pages/DestinationShowcase.tsx:97",className:"text-5xl font-light text-gray-800",children:a.name})}),i.jsx("div",{"data-loc":"client/src/pages/DestinationShowcase.tsx:101",className:"rounded-xl overflow-hidden min-h-[480px]",children:a.image&&i.jsx("img",{"data-loc":"client/src/pages/DestinationShowcase.tsx:103",src:a.image,alt:a.name,className:"w-full h-full object-cover"})})]})}),i.jsx("section",{"data-loc":"client/src/pages/DestinationShowcase.tsx:114",className:"py-12",children:i.jsxs("div",{"data-loc":"client/src/pages/DestinationShowcase.tsx:115",className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[i.jsxs("div",{"data-loc":"client/src/pages/DestinationShowcase.tsx:117",className:"bg-[#fbf9f7] rounded-xl p-8 space-y-8",children:[i.jsxs("div",{"data-loc":"client/src/pages/DestinationShowcase.tsx:118",children:[i.jsx("p",{"data-loc":"client/src/pages/DestinationShowcase.tsx:119",className:"text-sm text-gray-500 mb-1",children:"Category"}),i.jsx("p",{"data-loc":"client/src/pages/DestinationShowcase.tsx:120",className:"text-base text-gray-700",children:a.category})]}),i.jsxs("div",{"data-loc":"client/src/pages/DestinationShowcase.tsx:123",children:[i.jsx("p",{"data-loc":"client/src/pages/DestinationShowcase.tsx:124",className:"text-sm text-gray-500 mb-1",children:"Location"}),i.jsx("p",{"data-loc":"client/src/pages/DestinationShowcase.tsx:125",className:"text-base text-gray-700",children:ZR(a.city)})]}),a.michelin_stars>0&&i.jsxs("div",{"data-loc":"client/src/pages/DestinationShowcase.tsx:129",children:[i.jsx("p",{"data-loc":"client/src/pages/DestinationShowcase.tsx:130",className:"text-sm text-gray-500 mb-1",children:"Michelin Stars"}),i.jsx("div",{"data-loc":"client/src/pages/DestinationShowcase.tsx:131",className:"flex gap-1",children:[...Array(a.michelin_stars)].map((m,y)=>i.jsx("span",{"data-loc":"client/src/pages/DestinationShowcase.tsx:133",className:"text-red-600 text-xl",children:""},y))})]}),a.brand&&i.jsxs("div",{"data-loc":"client/src/pages/DestinationShowcase.tsx:140",children:[i.jsx("p",{"data-loc":"client/src/pages/DestinationShowcase.tsx:141",className:"text-sm text-gray-500 mb-1",children:"Brand"}),i.jsx(Wt,{"data-loc":"client/src/pages/DestinationShowcase.tsx:142",href:`/brand/${a.brand}`,children:i.jsx("a",{"data-loc":"client/src/pages/DestinationShowcase.tsx:143",className:"text-base text-gray-900 hover:underline",children:a.brand.split("-").map(m=>m.charAt(0).toUpperCase()+m.slice(1)).join(" ")})})]}),a.website&&i.jsxs("div",{"data-loc":"client/src/pages/DestinationShowcase.tsx:151",children:[i.jsx("p",{"data-loc":"client/src/pages/DestinationShowcase.tsx:152",className:"text-sm text-gray-500 mb-1",children:"Website"}),i.jsx("a",{"data-loc":"client/src/pages/DestinationShowcase.tsx:153",href:a.website,target:"_blank",rel:"noopener noreferrer",className:"text-base text-gray-900 hover:underline",children:"Visit website"})]})]}),i.jsxs("div",{"data-loc":"client/src/pages/DestinationShowcase.tsx:166",className:"bg-[#fbf9f7] rounded-xl p-8",children:[i.jsx("p",{"data-loc":"client/src/pages/DestinationShowcase.tsx:167",className:"text-2xl font-light text-gray-800 mb-8 leading-relaxed",children:a.description||a.content?.substring(0,200)+"..."}),a.content&&i.jsxs("p",{"data-loc":"client/src/pages/DestinationShowcase.tsx:172",className:"text-sm text-gray-600 leading-relaxed",children:[a.content.substring(0,400),a.content.length>400&&"..."]})]})]})}),a.additional_images&&a.additional_images[0]&&i.jsx("section",{"data-loc":"client/src/pages/DestinationShowcase.tsx:183",className:"py-12",children:i.jsx("div",{"data-loc":"client/src/pages/DestinationShowcase.tsx:184",className:"rounded-xl overflow-hidden h-[560px]",children:i.jsx("img",{"data-loc":"client/src/pages/DestinationShowcase.tsx:185",src:a.additional_images[0],alt:`${a.name} view`,className:"w-full h-full object-cover"})})}),p&&i.jsx("section",{"data-loc":"client/src/pages/DestinationShowcase.tsx:196",className:"py-12",children:i.jsxs("div",{"data-loc":"client/src/pages/DestinationShowcase.tsx:197",className:"bg-[#fbf9f7] rounded-xl p-12",children:[i.jsx(Wt,{"data-loc":"client/src/pages/DestinationShowcase.tsx:198",href:`/destination/${t}`,children:i.jsx("a",{"data-loc":"client/src/pages/DestinationShowcase.tsx:199",className:"inline-flex items-center gap-2 px-4 py-2 border border-gray-300 rounded-full text-sm font-medium hover:bg-gray-100 transition-colors mb-12",children:"View all reviews"})}),i.jsx("blockquote",{"data-loc":"client/src/pages/DestinationShowcase.tsx:204",className:"mb-8",children:i.jsxs("p",{"data-loc":"client/src/pages/DestinationShowcase.tsx:205",className:"text-4xl font-light text-gray-800 leading-relaxed mb-8",children:['"',p.content.substring(0,200),p.content.length>200&&'..."']})}),i.jsx("div",{"data-loc":"client/src/pages/DestinationShowcase.tsx:211",className:"border-t border-gray-300 pt-8",children:i.jsxs("div",{"data-loc":"client/src/pages/DestinationShowcase.tsx:212",className:"flex items-center gap-4",children:[p.user_profiles?.avatar_url&&i.jsx("img",{"data-loc":"client/src/pages/DestinationShowcase.tsx:214",src:p.user_profiles.avatar_url,alt:p.user_profiles.display_name,className:"w-16 h-16 rounded-xl object-cover"}),i.jsxs("div",{"data-loc":"client/src/pages/DestinationShowcase.tsx:220",children:[i.jsx("p",{"data-loc":"client/src/pages/DestinationShowcase.tsx:221",className:"font-medium text-gray-800",children:p.user_profiles?.display_name||"Anonymous"}),i.jsx("div",{"data-loc":"client/src/pages/DestinationShowcase.tsx:224",className:"flex gap-1 mt-1",children:[...Array(p.rating)].map((m,y)=>i.jsx("span",{"data-loc":"client/src/pages/DestinationShowcase.tsx:226",className:"text-yellow-500",children:""},y))})]})]})})]})})]}),i.jsx(JR,{"data-loc":"client/src/pages/DestinationShowcase.tsx:237"})]})}const qb=[{id:"1",title:"Tokyo's Michelin-Starred Restaurants: A Complete Guide for 2025",excerpt:"Discover the best Michelin-starred dining experiences in Tokyo, from traditional kaiseki to innovative fusion cuisine. Our comprehensive guide covers everything you need to know.",author:"Sarah Chen",date:"2025-01-15",readTime:"12 min read",category:"Dining",image:"https://images.unsplash.com/photo-1579027989536-b7b1f875659b?w=800&q=80",slug:"tokyo-michelin-restaurants-2025"},{id:"2",title:"Paris for First-Time Visitors: The Ultimate 2025 Travel Guide",excerpt:"Planning your first trip to Paris? This comprehensive guide covers the best neighborhoods, must-visit attractions, hidden gems, and insider tips for an unforgettable experience.",author:"Jean-Pierre Laurent",date:"2025-01-10",readTime:"15 min read",category:"Travel",image:"https://images.unsplash.com/photo-1502602898657-3e91760cbb34?w=800&q=80",slug:"paris-first-time-visitors-guide-2025"},{id:"3",title:"Sustainable Travel: How to Explore the World Responsibly in 2025",excerpt:"Learn how to minimize your environmental impact while traveling. From eco-friendly accommodations to carbon-neutral transportation, discover practical tips for sustainable tourism.",author:"Emma Green",date:"2025-01-05",readTime:"10 min read",category:"Sustainability",image:"https://images.unsplash.com/photo-1542601906990-b4d3fb778b09?w=800&q=80",slug:"sustainable-travel-guide-2025"},{id:"4",title:"Hidden Gems of Taipei: Beyond the Tourist Trail",excerpt:"Explore Taipei's best-kept secrets, from local night markets to artisan coffee shops. Discover the authentic side of Taiwan's vibrant capital city.",author:"David Wu",date:"2024-12-28",readTime:"8 min read",category:"Travel",image:"https://images.unsplash.com/photo-1590559899731-a382839e5549?w=800&q=80",slug:"taipei-hidden-gems"},{id:"5",title:"The Rise of Boutique Hotels: Design Meets Hospitality",excerpt:"How independent boutique hotels are redefining luxury travel with unique design, personalized service, and authentic local experiences.",author:"Isabella Martinez",date:"2024-12-20",readTime:"11 min read",category:"Hotels",image:"https://images.unsplash.com/photo-1566073771259-6a8506099945?w=800&q=80",slug:"boutique-hotels-design-hospitality"},{id:"6",title:"Coffee Culture Around the World: From Tokyo to Melbourne",excerpt:"A journey through the world's best coffee cities, exploring unique brewing methods, caf culture, and the artisans behind your perfect cup.",author:"Marcus Thompson",date:"2024-12-15",readTime:"9 min read",category:"Culture",image:"https://images.unsplash.com/photo-1495474472287-4d71bcdd2085?w=800&q=80",slug:"coffee-culture-worldwide"}];function t8(){const[,e]=ut(),[t,a]=j.useState("All"),r=["All","Travel","Dining","Hotels","Culture","Sustainability"],l=t==="All"?qb:qb.filter(d=>d.category===t),c=d=>new Date(d).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"});return i.jsxs("div",{"data-loc":"client/src/pages/Editorial.tsx:104",className:"min-h-screen bg-white dark:bg-gray-950 transition-colors duration-300",children:[i.jsx(Le,{"data-loc":"client/src/pages/Editorial.tsx:105"}),i.jsx("main",{"data-loc":"client/src/pages/Editorial.tsx:108",className:"px-6 md:px-10 py-12 dark:text-white",children:i.jsxs("div",{"data-loc":"client/src/pages/Editorial.tsx:109",className:"max-w-[1920px] mx-auto",children:[i.jsxs("div",{"data-loc":"client/src/pages/Editorial.tsx:111",className:"mb-12",children:[i.jsx("h1",{"data-loc":"client/src/pages/Editorial.tsx:112",className:"text-[clamp(24px,5vw,48px)] font-bold uppercase leading-none tracking-tight mb-2 text-black dark:text-white",children:"Editorial"}),i.jsx("p",{"data-loc":"client/src/pages/Editorial.tsx:113",className:"text-xs font-bold uppercase text-black/60 dark:text-white/60",children:"Stories, guides, and insights from around the world"})]}),i.jsx("div",{"data-loc":"client/src/pages/Editorial.tsx:119",className:"mb-12",children:i.jsx("div",{"data-loc":"client/src/pages/Editorial.tsx:120",className:"flex flex-wrap gap-3",children:r.map(d=>i.jsx("button",{"data-loc":"client/src/pages/Editorial.tsx:122",onClick:()=>a(d),className:`px-4 py-2 rounded-lg text-xs font-bold uppercase transition-opacity ${t===d?"bg-black dark:bg-white text-white dark:text-black":"border border-gray-200 dark:border-gray-800 text-black dark:text-white hover:opacity-60"}`,children:d},d))})}),i.jsx("div",{"data-loc":"client/src/pages/Editorial.tsx:138",className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8 md:gap-12",children:l.map(d=>i.jsxs("article",{"data-loc":"client/src/pages/Editorial.tsx:140",className:"group cursor-pointer animate-in fade-in slide-in-from-bottom-4 duration-500",onClick:()=>e(`/editorial/${d.slug}`),children:[i.jsx("div",{"data-loc":"client/src/pages/Editorial.tsx:146",className:"aspect-[4/3] overflow-hidden mb-4 bg-gray-100 dark:bg-gray-800",children:i.jsx("img",{"data-loc":"client/src/pages/Editorial.tsx:147",src:d.image,alt:d.title,className:"w-full h-full object-cover transition-transform duration-500 group-hover:scale-105",loading:"lazy"})}),i.jsx("div",{"data-loc":"client/src/pages/Editorial.tsx:156",className:"mb-3",children:i.jsx("span",{"data-loc":"client/src/pages/Editorial.tsx:157",className:"text-xs font-bold uppercase text-gray-500 dark:text-gray-400",children:d.category})}),i.jsx("h2",{"data-loc":"client/src/pages/Editorial.tsx:163",className:"text-xl font-bold mb-3 group-hover:opacity-60 transition-opacity text-black dark:text-white",children:d.title}),i.jsx("p",{"data-loc":"client/src/pages/Editorial.tsx:168",className:"text-sm text-gray-600 dark:text-gray-400 mb-4 line-clamp-3",children:d.excerpt}),i.jsxs("div",{"data-loc":"client/src/pages/Editorial.tsx:173",className:"flex items-center gap-4 text-xs text-gray-500 dark:text-gray-500",children:[i.jsx("span",{"data-loc":"client/src/pages/Editorial.tsx:174",className:"font-medium",children:d.author}),i.jsxs("span",{"data-loc":"client/src/pages/Editorial.tsx:175",className:"flex items-center gap-1",children:[i.jsx(An,{"data-loc":"client/src/pages/Editorial.tsx:176",className:"h-3 w-3"}),c(d.date)]}),i.jsxs("span",{"data-loc":"client/src/pages/Editorial.tsx:179",className:"flex items-center gap-1",children:[i.jsx(Lm,{"data-loc":"client/src/pages/Editorial.tsx:180",className:"h-3 w-3"}),d.readTime]})]})]},d.id))}),l.length===0&&i.jsx("div",{"data-loc":"client/src/pages/Editorial.tsx:190",className:"text-center py-20",children:i.jsx("p",{"data-loc":"client/src/pages/Editorial.tsx:191",className:"text-gray-500 dark:text-gray-400",children:"No articles found in this category."})})]})}),i.jsx(Ze,{"data-loc":"client/src/pages/Editorial.tsx:199"})]})}function s8(){const[e,t]=j.useState(7),[a,r]=j.useState({pageViews:0,searches:0,destinationViews:0,actions:0}),[l,c]=j.useState([]),[d,f]=j.useState([]),[p,m]=j.useState([]),[y,x]=j.useState(!0);j.useEffect(()=>{v()},[e]);const v=async()=>{x(!0);try{const[N,w,_,E]=await Promise.all([A5(e),N5(10,e),k5(20,e),E5(10,e)]);r(N),c(w),f(_),m(E)}catch(N){console.error("Failed to load analytics:",N)}finally{x(!1)}},b=(N,w)=>{if(N.length===0)return;const _=Object.keys(N[0]).join(","),E=N.map(P=>Object.values(P).join(",")).join(`
`),T=`${_}
${E}`,A=new Blob([T],{type:"text/csv"}),I=window.URL.createObjectURL(A),M=document.createElement("a");M.href=I,M.download=`${w}-${new Date().toISOString().split("T")[0]}.csv`,M.click(),window.URL.revokeObjectURL(I)};return i.jsxs("div",{"data-loc":"client/src/pages/Analytics.tsx:62",className:"min-h-screen bg-white dark:bg-gray-950 transition-colors duration-300",children:[i.jsx(Le,{"data-loc":"client/src/pages/Analytics.tsx:63"}),i.jsx("main",{"data-loc":"client/src/pages/Analytics.tsx:65",className:"px-6 md:px-10 py-12 dark:text-white",children:i.jsxs("div",{"data-loc":"client/src/pages/Analytics.tsx:66",className:"max-w-7xl mx-auto",children:[i.jsxs("div",{"data-loc":"client/src/pages/Analytics.tsx:68",className:"mb-8",children:[i.jsx("h1",{"data-loc":"client/src/pages/Analytics.tsx:69",className:"text-4xl font-bold mb-4 text-black dark:text-white",children:"Analytics Dashboard"}),i.jsx("p",{"data-loc":"client/src/pages/Analytics.tsx:70",className:"text-gray-600 dark:text-gray-400",children:"Understand your users and improve your content"})]}),i.jsx("div",{"data-loc":"client/src/pages/Analytics.tsx:76",className:"mb-8 flex gap-2",children:[7,30,90].map(N=>i.jsxs("button",{"data-loc":"client/src/pages/Analytics.tsx:78",onClick:()=>t(N),className:`px-4 py-2 text-sm rounded-lg transition-colors ${e===N?"bg-black dark:bg-white text-white dark:text-black":"bg-gray-100 dark:bg-gray-800 text-black dark:text-white hover:bg-gray-200 dark:hover:bg-gray-700"}`,children:["Last ",N," days"]},N))}),y?i.jsxs("div",{"data-loc":"client/src/pages/Analytics.tsx:93",className:"text-center py-12",children:[i.jsx("div",{"data-loc":"client/src/pages/Analytics.tsx:94",className:"animate-spin rounded-full h-12 w-12 border-b-2 border-black dark:border-white mx-auto"}),i.jsx("p",{"data-loc":"client/src/pages/Analytics.tsx:95",className:"mt-4 text-gray-600 dark:text-gray-400",children:"Loading analytics..."})]}):i.jsxs(i.Fragment,{children:[i.jsxs("div",{"data-loc":"client/src/pages/Analytics.tsx:100",className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-12",children:[i.jsxs("div",{"data-loc":"client/src/pages/Analytics.tsx:101",className:"p-6 bg-gray-50 dark:bg-gray-900 rounded-lg",children:[i.jsxs("div",{"data-loc":"client/src/pages/Analytics.tsx:102",className:"flex items-center gap-3 mb-2",children:[i.jsx(VD,{"data-loc":"client/src/pages/Analytics.tsx:103",className:"h-5 w-5 text-blue-600 dark:text-blue-400"}),i.jsx("span",{"data-loc":"client/src/pages/Analytics.tsx:104",className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Page Views"})]}),i.jsx("div",{"data-loc":"client/src/pages/Analytics.tsx:106",className:"text-3xl font-bold text-black dark:text-white",children:a.pageViews.toLocaleString()})]}),i.jsxs("div",{"data-loc":"client/src/pages/Analytics.tsx:109",className:"p-6 bg-gray-50 dark:bg-gray-900 rounded-lg",children:[i.jsxs("div",{"data-loc":"client/src/pages/Analytics.tsx:110",className:"flex items-center gap-3 mb-2",children:[i.jsx(fr,{"data-loc":"client/src/pages/Analytics.tsx:111",className:"h-5 w-5 text-green-600 dark:text-green-400"}),i.jsx("span",{"data-loc":"client/src/pages/Analytics.tsx:112",className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Searches"})]}),i.jsx("div",{"data-loc":"client/src/pages/Analytics.tsx:114",className:"text-3xl font-bold text-black dark:text-white",children:a.searches.toLocaleString()})]}),i.jsxs("div",{"data-loc":"client/src/pages/Analytics.tsx:117",className:"p-6 bg-gray-50 dark:bg-gray-900 rounded-lg",children:[i.jsxs("div",{"data-loc":"client/src/pages/Analytics.tsx:118",className:"flex items-center gap-3 mb-2",children:[i.jsx(gl,{"data-loc":"client/src/pages/Analytics.tsx:119",className:"h-5 w-5 text-purple-600 dark:text-purple-400"}),i.jsx("span",{"data-loc":"client/src/pages/Analytics.tsx:120",className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Destination Views"})]}),i.jsx("div",{"data-loc":"client/src/pages/Analytics.tsx:122",className:"text-3xl font-bold text-black dark:text-white",children:a.destinationViews.toLocaleString()})]}),i.jsxs("div",{"data-loc":"client/src/pages/Analytics.tsx:125",className:"p-6 bg-gray-50 dark:bg-gray-900 rounded-lg",children:[i.jsxs("div",{"data-loc":"client/src/pages/Analytics.tsx:126",className:"flex items-center gap-3 mb-2",children:[i.jsx(qD,{"data-loc":"client/src/pages/Analytics.tsx:127",className:"h-5 w-5 text-orange-600 dark:text-orange-400"}),i.jsx("span",{"data-loc":"client/src/pages/Analytics.tsx:128",className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"User Actions"})]}),i.jsx("div",{"data-loc":"client/src/pages/Analytics.tsx:130",className:"text-3xl font-bold text-black dark:text-white",children:a.actions.toLocaleString()})]})]}),i.jsxs("div",{"data-loc":"client/src/pages/Analytics.tsx:134",className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[i.jsxs("div",{"data-loc":"client/src/pages/Analytics.tsx:136",className:"bg-gray-50 dark:bg-gray-900 rounded-lg p-6",children:[i.jsxs("div",{"data-loc":"client/src/pages/Analytics.tsx:137",className:"flex items-center justify-between mb-6",children:[i.jsx("h2",{"data-loc":"client/src/pages/Analytics.tsx:138",className:"text-xl font-bold text-black dark:text-white",children:"Popular Searches"}),i.jsx("button",{"data-loc":"client/src/pages/Analytics.tsx:139",onClick:()=>b(l,"popular-searches"),className:"text-sm text-gray-600 dark:text-gray-400 hover:text-black dark:hover:text-white transition-colors",children:"Export CSV"})]}),l.length>0?i.jsx("div",{"data-loc":"client/src/pages/Analytics.tsx:147",className:"space-y-3",children:l.map((N,w)=>i.jsxs("div",{"data-loc":"client/src/pages/Analytics.tsx:149",className:"flex items-center justify-between p-3 bg-white dark:bg-gray-800 rounded-lg",children:[i.jsxs("div",{"data-loc":"client/src/pages/Analytics.tsx:150",className:"flex items-center gap-3",children:[i.jsxs("span",{"data-loc":"client/src/pages/Analytics.tsx:151",className:"text-sm font-bold text-gray-400 dark:text-gray-500",children:["#",w+1]}),i.jsx("span",{"data-loc":"client/src/pages/Analytics.tsx:152",className:"text-base text-black dark:text-white",children:N.query})]}),i.jsxs("span",{"data-loc":"client/src/pages/Analytics.tsx:154",className:"text-sm text-gray-600 dark:text-gray-400",children:[N.count," searches"]})]},w))}):i.jsx("p",{"data-loc":"client/src/pages/Analytics.tsx:159",className:"text-gray-500 dark:text-gray-400",children:"No search data yet"})]}),i.jsxs("div",{"data-loc":"client/src/pages/Analytics.tsx:164",className:"bg-gray-50 dark:bg-gray-900 rounded-lg p-6",children:[i.jsxs("div",{"data-loc":"client/src/pages/Analytics.tsx:165",className:"flex items-center justify-between mb-6",children:[i.jsx("h2",{"data-loc":"client/src/pages/Analytics.tsx:166",className:"text-xl font-bold text-black dark:text-white",children:"Most Viewed Destinations"}),i.jsx("button",{"data-loc":"client/src/pages/Analytics.tsx:167",onClick:()=>b(p,"top-destinations"),className:"text-sm text-gray-600 dark:text-gray-400 hover:text-black dark:hover:text-white transition-colors",children:"Export CSV"})]}),p.length>0?i.jsx("div",{"data-loc":"client/src/pages/Analytics.tsx:175",className:"space-y-3",children:p.map((N,w)=>i.jsxs("div",{"data-loc":"client/src/pages/Analytics.tsx:177",className:"flex items-center justify-between p-3 bg-white dark:bg-gray-800 rounded-lg",children:[i.jsxs("div",{"data-loc":"client/src/pages/Analytics.tsx:178",className:"flex items-center gap-3",children:[i.jsxs("span",{"data-loc":"client/src/pages/Analytics.tsx:179",className:"text-sm font-bold text-gray-400 dark:text-gray-500",children:["#",w+1]}),i.jsx("span",{"data-loc":"client/src/pages/Analytics.tsx:180",className:"text-base text-black dark:text-white truncate",children:N.name})]}),i.jsxs("span",{"data-loc":"client/src/pages/Analytics.tsx:182",className:"text-sm text-gray-600 dark:text-gray-400",children:[N.views," views"]})]},w))}):i.jsx("p",{"data-loc":"client/src/pages/Analytics.tsx:187",className:"text-gray-500 dark:text-gray-400",children:"No destination views yet"})]}),i.jsxs("div",{"data-loc":"client/src/pages/Analytics.tsx:192",className:"bg-gray-50 dark:bg-gray-900 rounded-lg p-6 lg:col-span-2",children:[i.jsxs("div",{"data-loc":"client/src/pages/Analytics.tsx:193",className:"flex items-center justify-between mb-6",children:[i.jsxs("div",{"data-loc":"client/src/pages/Analytics.tsx:194",className:"flex items-center gap-3",children:[i.jsx(FD,{"data-loc":"client/src/pages/Analytics.tsx:195",className:"h-5 w-5 text-red-600 dark:text-red-400"}),i.jsx("h2",{"data-loc":"client/src/pages/Analytics.tsx:196",className:"text-xl font-bold text-black dark:text-white",children:"Zero Result Searches"})]}),i.jsx("button",{"data-loc":"client/src/pages/Analytics.tsx:198",onClick:()=>b(d,"zero-result-searches"),className:"text-sm text-gray-600 dark:text-gray-400 hover:text-black dark:hover:text-white transition-colors",children:"Export CSV"})]}),i.jsx("p",{"data-loc":"client/src/pages/Analytics.tsx:205",className:"text-sm text-gray-600 dark:text-gray-400 mb-4",children:"These searches returned no results. Consider adding content for these topics."}),d.length>0?i.jsx("div",{"data-loc":"client/src/pages/Analytics.tsx:209",className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:d.map((N,w)=>i.jsxs("div",{"data-loc":"client/src/pages/Analytics.tsx:211",className:"p-3 bg-white dark:bg-gray-800 rounded-lg",children:[i.jsx("div",{"data-loc":"client/src/pages/Analytics.tsx:212",className:"text-base text-black dark:text-white mb-1",children:N.query}),i.jsx("div",{"data-loc":"client/src/pages/Analytics.tsx:213",className:"text-xs text-gray-500 dark:text-gray-400",children:new Date(N.timestamp).toLocaleDateString()})]},w))}):i.jsx("p",{"data-loc":"client/src/pages/Analytics.tsx:220",className:"text-gray-500 dark:text-gray-400",children:"All searches returned results! "})]})]})]})]})}),i.jsx(Ze,{"data-loc":"client/src/pages/Analytics.tsx:229"})]})}function Zp({className:e,onKeyDown:t,onCompositionStart:a,onCompositionEnd:r,...l}){const c=Hm(),{onCompositionStart:d,onCompositionEnd:f,onKeyDown:p}=Uj({onKeyDown:m=>{const y=m.nativeEvent.isComposing||c.justEndedComposing();m.key==="Enter"&&!m.shiftKey&&y||t?.(m)},onCompositionStart:m=>{c.setComposing(!0),a?.(m)},onCompositionEnd:m=>{c.markCompositionEnd(),setTimeout(()=>{c.setComposing(!1)},100),r?.(m)}});return i.jsx("textarea",{"data-loc":"client/src/components/ui/textarea.tsx:53","data-slot":"textarea",className:Ye("border-input placeholder:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 flex field-sizing-content min-h-16 w-full rounded-md border bg-transparent px-3 py-2 text-base shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),onCompositionStart:d,onCompositionEnd:f,onKeyDown:p,...l})}const aS=6048e5,a8=864e5,Bb=Symbol.for("constructDateFrom");function Tn(e,t){return typeof e=="function"?e(t):e&&typeof e=="object"&&Bb in e?e[Bb](t):e instanceof Date?new e.constructor(t):new Date(t)}function Xs(e,t){return Tn(t||e,e)}let n8={};function ud(){return n8}function xl(e,t){const a=ud(),r=t?.weekStartsOn??t?.locale?.options?.weekStartsOn??a.weekStartsOn??a.locale?.options?.weekStartsOn??0,l=Xs(e,t?.in),c=l.getDay(),d=(c<r?7:0)+c-r;return l.setDate(l.getDate()-d),l.setHours(0,0,0,0),l}function Uu(e,t){return xl(e,{...t,weekStartsOn:1})}function nS(e,t){const a=Xs(e,t?.in),r=a.getFullYear(),l=Tn(a,0);l.setFullYear(r+1,0,4),l.setHours(0,0,0,0);const c=Uu(l),d=Tn(a,0);d.setFullYear(r,0,4),d.setHours(0,0,0,0);const f=Uu(d);return a.getTime()>=c.getTime()?r+1:a.getTime()>=f.getTime()?r:r-1}function Hb(e){const t=Xs(e),a=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return a.setUTCFullYear(t.getFullYear()),+e-+a}function r8(e,...t){const a=Tn.bind(null,t.find(r=>typeof r=="object"));return t.map(a)}function $b(e,t){const a=Xs(e,t?.in);return a.setHours(0,0,0,0),a}function i8(e,t,a){const[r,l]=r8(a?.in,e,t),c=$b(r),d=$b(l),f=+c-Hb(c),p=+d-Hb(d);return Math.round((f-p)/a8)}function o8(e,t){const a=nS(e,t),r=Tn(e,0);return r.setFullYear(a,0,4),r.setHours(0,0,0,0),Uu(r)}function l8(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function c8(e){return!(!l8(e)&&typeof e!="number"||isNaN(+Xs(e)))}function u8(e,t){const a=Xs(e,t?.in);return a.setFullYear(a.getFullYear(),0,1),a.setHours(0,0,0,0),a}const d8={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},f8=(e,t,a)=>{let r;const l=d8[e];return typeof l=="string"?r=l:t===1?r=l.one:r=l.other.replace("{{count}}",t.toString()),a?.addSuffix?a.comparison&&a.comparison>0?"in "+r:r+" ago":r};function ip(e){return(t={})=>{const a=t.width?String(t.width):e.defaultWidth;return e.formats[a]||e.formats[e.defaultWidth]}}const h8={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},p8={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},m8={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},g8={date:ip({formats:h8,defaultWidth:"full"}),time:ip({formats:p8,defaultWidth:"full"}),dateTime:ip({formats:m8,defaultWidth:"full"})},x8={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},y8=(e,t,a,r)=>x8[e];function Ko(e){return(t,a)=>{const r=a?.context?String(a.context):"standalone";let l;if(r==="formatting"&&e.formattingValues){const d=e.defaultFormattingWidth||e.defaultWidth,f=a?.width?String(a.width):d;l=e.formattingValues[f]||e.formattingValues[d]}else{const d=e.defaultWidth,f=a?.width?String(a.width):e.defaultWidth;l=e.values[f]||e.values[d]}const c=e.argumentCallback?e.argumentCallback(t):t;return l[c]}}const v8={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},b8={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},w8={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},j8={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},S8={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},_8={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},N8=(e,t)=>{const a=Number(e),r=a%100;if(r>20||r<10)switch(r%10){case 1:return a+"st";case 2:return a+"nd";case 3:return a+"rd"}return a+"th"},k8={ordinalNumber:N8,era:Ko({values:v8,defaultWidth:"wide"}),quarter:Ko({values:b8,defaultWidth:"wide",argumentCallback:e=>e-1}),month:Ko({values:w8,defaultWidth:"wide"}),day:Ko({values:j8,defaultWidth:"wide"}),dayPeriod:Ko({values:S8,defaultWidth:"wide",formattingValues:_8,defaultFormattingWidth:"wide"})};function Wo(e){return(t,a={})=>{const r=a.width,l=r&&e.matchPatterns[r]||e.matchPatterns[e.defaultMatchWidth],c=t.match(l);if(!c)return null;const d=c[0],f=r&&e.parsePatterns[r]||e.parsePatterns[e.defaultParseWidth],p=Array.isArray(f)?A8(f,x=>x.test(d)):E8(f,x=>x.test(d));let m;m=e.valueCallback?e.valueCallback(p):p,m=a.valueCallback?a.valueCallback(m):m;const y=t.slice(d.length);return{value:m,rest:y}}}function E8(e,t){for(const a in e)if(Object.prototype.hasOwnProperty.call(e,a)&&t(e[a]))return a}function A8(e,t){for(let a=0;a<e.length;a++)if(t(e[a]))return a}function C8(e){return(t,a={})=>{const r=t.match(e.matchPattern);if(!r)return null;const l=r[0],c=t.match(e.parsePattern);if(!c)return null;let d=e.valueCallback?e.valueCallback(c[0]):c[0];d=a.valueCallback?a.valueCallback(d):d;const f=t.slice(l.length);return{value:d,rest:f}}}const T8=/^(\d+)(th|st|nd|rd)?/i,O8=/\d+/i,D8={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},R8={any:[/^b/i,/^(a|c)/i]},P8={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},M8={any:[/1/i,/2/i,/3/i,/4/i]},L8={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},U8={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},I8={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},z8={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},q8={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},B8={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},H8={ordinalNumber:C8({matchPattern:T8,parsePattern:O8,valueCallback:e=>parseInt(e,10)}),era:Wo({matchPatterns:D8,defaultMatchWidth:"wide",parsePatterns:R8,defaultParseWidth:"any"}),quarter:Wo({matchPatterns:P8,defaultMatchWidth:"wide",parsePatterns:M8,defaultParseWidth:"any",valueCallback:e=>e+1}),month:Wo({matchPatterns:L8,defaultMatchWidth:"wide",parsePatterns:U8,defaultParseWidth:"any"}),day:Wo({matchPatterns:I8,defaultMatchWidth:"wide",parsePatterns:z8,defaultParseWidth:"any"}),dayPeriod:Wo({matchPatterns:q8,defaultMatchWidth:"any",parsePatterns:B8,defaultParseWidth:"any"})},$8={code:"en-US",formatDistance:f8,formatLong:g8,formatRelative:y8,localize:k8,match:H8,options:{weekStartsOn:0,firstWeekContainsDate:1}};function F8(e,t){const a=Xs(e,t?.in);return i8(a,u8(a))+1}function G8(e,t){const a=Xs(e,t?.in),r=+Uu(a)-+o8(a);return Math.round(r/aS)+1}function rS(e,t){const a=Xs(e,t?.in),r=a.getFullYear(),l=ud(),c=t?.firstWeekContainsDate??t?.locale?.options?.firstWeekContainsDate??l.firstWeekContainsDate??l.locale?.options?.firstWeekContainsDate??1,d=Tn(t?.in||e,0);d.setFullYear(r+1,0,c),d.setHours(0,0,0,0);const f=xl(d,t),p=Tn(t?.in||e,0);p.setFullYear(r,0,c),p.setHours(0,0,0,0);const m=xl(p,t);return+a>=+f?r+1:+a>=+m?r:r-1}function V8(e,t){const a=ud(),r=t?.firstWeekContainsDate??t?.locale?.options?.firstWeekContainsDate??a.firstWeekContainsDate??a.locale?.options?.firstWeekContainsDate??1,l=rS(e,t),c=Tn(t?.in||e,0);return c.setFullYear(l,0,r),c.setHours(0,0,0,0),xl(c,t)}function Q8(e,t){const a=Xs(e,t?.in),r=+xl(a,t)-+V8(a,t);return Math.round(r/aS)+1}function Fe(e,t){const a=e<0?"-":"",r=Math.abs(e).toString().padStart(t,"0");return a+r}const xn={y(e,t){const a=e.getFullYear(),r=a>0?a:1-a;return Fe(t==="yy"?r%100:r,t.length)},M(e,t){const a=e.getMonth();return t==="M"?String(a+1):Fe(a+1,2)},d(e,t){return Fe(e.getDate(),t.length)},a(e,t){const a=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return a.toUpperCase();case"aaa":return a;case"aaaaa":return a[0];case"aaaa":default:return a==="am"?"a.m.":"p.m."}},h(e,t){return Fe(e.getHours()%12||12,t.length)},H(e,t){return Fe(e.getHours(),t.length)},m(e,t){return Fe(e.getMinutes(),t.length)},s(e,t){return Fe(e.getSeconds(),t.length)},S(e,t){const a=t.length,r=e.getMilliseconds(),l=Math.trunc(r*Math.pow(10,a-3));return Fe(l,t.length)}},Ni={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},Fb={G:function(e,t,a){const r=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return a.era(r,{width:"abbreviated"});case"GGGGG":return a.era(r,{width:"narrow"});case"GGGG":default:return a.era(r,{width:"wide"})}},y:function(e,t,a){if(t==="yo"){const r=e.getFullYear(),l=r>0?r:1-r;return a.ordinalNumber(l,{unit:"year"})}return xn.y(e,t)},Y:function(e,t,a,r){const l=rS(e,r),c=l>0?l:1-l;if(t==="YY"){const d=c%100;return Fe(d,2)}return t==="Yo"?a.ordinalNumber(c,{unit:"year"}):Fe(c,t.length)},R:function(e,t){const a=nS(e);return Fe(a,t.length)},u:function(e,t){const a=e.getFullYear();return Fe(a,t.length)},Q:function(e,t,a){const r=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(r);case"QQ":return Fe(r,2);case"Qo":return a.ordinalNumber(r,{unit:"quarter"});case"QQQ":return a.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return a.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return a.quarter(r,{width:"wide",context:"formatting"})}},q:function(e,t,a){const r=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(r);case"qq":return Fe(r,2);case"qo":return a.ordinalNumber(r,{unit:"quarter"});case"qqq":return a.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return a.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return a.quarter(r,{width:"wide",context:"standalone"})}},M:function(e,t,a){const r=e.getMonth();switch(t){case"M":case"MM":return xn.M(e,t);case"Mo":return a.ordinalNumber(r+1,{unit:"month"});case"MMM":return a.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return a.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return a.month(r,{width:"wide",context:"formatting"})}},L:function(e,t,a){const r=e.getMonth();switch(t){case"L":return String(r+1);case"LL":return Fe(r+1,2);case"Lo":return a.ordinalNumber(r+1,{unit:"month"});case"LLL":return a.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return a.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return a.month(r,{width:"wide",context:"standalone"})}},w:function(e,t,a,r){const l=Q8(e,r);return t==="wo"?a.ordinalNumber(l,{unit:"week"}):Fe(l,t.length)},I:function(e,t,a){const r=G8(e);return t==="Io"?a.ordinalNumber(r,{unit:"week"}):Fe(r,t.length)},d:function(e,t,a){return t==="do"?a.ordinalNumber(e.getDate(),{unit:"date"}):xn.d(e,t)},D:function(e,t,a){const r=F8(e);return t==="Do"?a.ordinalNumber(r,{unit:"dayOfYear"}):Fe(r,t.length)},E:function(e,t,a){const r=e.getDay();switch(t){case"E":case"EE":case"EEE":return a.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return a.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return a.day(r,{width:"short",context:"formatting"});case"EEEE":default:return a.day(r,{width:"wide",context:"formatting"})}},e:function(e,t,a,r){const l=e.getDay(),c=(l-r.weekStartsOn+8)%7||7;switch(t){case"e":return String(c);case"ee":return Fe(c,2);case"eo":return a.ordinalNumber(c,{unit:"day"});case"eee":return a.day(l,{width:"abbreviated",context:"formatting"});case"eeeee":return a.day(l,{width:"narrow",context:"formatting"});case"eeeeee":return a.day(l,{width:"short",context:"formatting"});case"eeee":default:return a.day(l,{width:"wide",context:"formatting"})}},c:function(e,t,a,r){const l=e.getDay(),c=(l-r.weekStartsOn+8)%7||7;switch(t){case"c":return String(c);case"cc":return Fe(c,t.length);case"co":return a.ordinalNumber(c,{unit:"day"});case"ccc":return a.day(l,{width:"abbreviated",context:"standalone"});case"ccccc":return a.day(l,{width:"narrow",context:"standalone"});case"cccccc":return a.day(l,{width:"short",context:"standalone"});case"cccc":default:return a.day(l,{width:"wide",context:"standalone"})}},i:function(e,t,a){const r=e.getDay(),l=r===0?7:r;switch(t){case"i":return String(l);case"ii":return Fe(l,t.length);case"io":return a.ordinalNumber(l,{unit:"day"});case"iii":return a.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return a.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return a.day(r,{width:"short",context:"formatting"});case"iiii":default:return a.day(r,{width:"wide",context:"formatting"})}},a:function(e,t,a){const l=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return a.dayPeriod(l,{width:"abbreviated",context:"formatting"});case"aaa":return a.dayPeriod(l,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return a.dayPeriod(l,{width:"narrow",context:"formatting"});case"aaaa":default:return a.dayPeriod(l,{width:"wide",context:"formatting"})}},b:function(e,t,a){const r=e.getHours();let l;switch(r===12?l=Ni.noon:r===0?l=Ni.midnight:l=r/12>=1?"pm":"am",t){case"b":case"bb":return a.dayPeriod(l,{width:"abbreviated",context:"formatting"});case"bbb":return a.dayPeriod(l,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return a.dayPeriod(l,{width:"narrow",context:"formatting"});case"bbbb":default:return a.dayPeriod(l,{width:"wide",context:"formatting"})}},B:function(e,t,a){const r=e.getHours();let l;switch(r>=17?l=Ni.evening:r>=12?l=Ni.afternoon:r>=4?l=Ni.morning:l=Ni.night,t){case"B":case"BB":case"BBB":return a.dayPeriod(l,{width:"abbreviated",context:"formatting"});case"BBBBB":return a.dayPeriod(l,{width:"narrow",context:"formatting"});case"BBBB":default:return a.dayPeriod(l,{width:"wide",context:"formatting"})}},h:function(e,t,a){if(t==="ho"){let r=e.getHours()%12;return r===0&&(r=12),a.ordinalNumber(r,{unit:"hour"})}return xn.h(e,t)},H:function(e,t,a){return t==="Ho"?a.ordinalNumber(e.getHours(),{unit:"hour"}):xn.H(e,t)},K:function(e,t,a){const r=e.getHours()%12;return t==="Ko"?a.ordinalNumber(r,{unit:"hour"}):Fe(r,t.length)},k:function(e,t,a){let r=e.getHours();return r===0&&(r=24),t==="ko"?a.ordinalNumber(r,{unit:"hour"}):Fe(r,t.length)},m:function(e,t,a){return t==="mo"?a.ordinalNumber(e.getMinutes(),{unit:"minute"}):xn.m(e,t)},s:function(e,t,a){return t==="so"?a.ordinalNumber(e.getSeconds(),{unit:"second"}):xn.s(e,t)},S:function(e,t){return xn.S(e,t)},X:function(e,t,a){const r=e.getTimezoneOffset();if(r===0)return"Z";switch(t){case"X":return Vb(r);case"XXXX":case"XX":return lr(r);case"XXXXX":case"XXX":default:return lr(r,":")}},x:function(e,t,a){const r=e.getTimezoneOffset();switch(t){case"x":return Vb(r);case"xxxx":case"xx":return lr(r);case"xxxxx":case"xxx":default:return lr(r,":")}},O:function(e,t,a){const r=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+Gb(r,":");case"OOOO":default:return"GMT"+lr(r,":")}},z:function(e,t,a){const r=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+Gb(r,":");case"zzzz":default:return"GMT"+lr(r,":")}},t:function(e,t,a){const r=Math.trunc(+e/1e3);return Fe(r,t.length)},T:function(e,t,a){return Fe(+e,t.length)}};function Gb(e,t=""){const a=e>0?"-":"+",r=Math.abs(e),l=Math.trunc(r/60),c=r%60;return c===0?a+String(l):a+String(l)+t+Fe(c,2)}function Vb(e,t){return e%60===0?(e>0?"-":"+")+Fe(Math.abs(e)/60,2):lr(e,t)}function lr(e,t=""){const a=e>0?"-":"+",r=Math.abs(e),l=Fe(Math.trunc(r/60),2),c=Fe(r%60,2);return a+l+t+c}const Qb=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},iS=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},Y8=(e,t)=>{const a=e.match(/(P+)(p+)?/)||[],r=a[1],l=a[2];if(!l)return Qb(e,t);let c;switch(r){case"P":c=t.dateTime({width:"short"});break;case"PP":c=t.dateTime({width:"medium"});break;case"PPP":c=t.dateTime({width:"long"});break;case"PPPP":default:c=t.dateTime({width:"full"});break}return c.replace("{{date}}",Qb(r,t)).replace("{{time}}",iS(l,t))},K8={p:iS,P:Y8},W8=/^D+$/,X8=/^Y+$/,J8=["D","DD","YY","YYYY"];function Z8(e){return W8.test(e)}function eP(e){return X8.test(e)}function tP(e,t,a){const r=sP(e,t,a);if(console.warn(r),J8.includes(e))throw new RangeError(r)}function sP(e,t,a){const r=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${r} to the input \`${a}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const aP=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,nP=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,rP=/^'([^]*?)'?$/,iP=/''/g,oP=/[a-zA-Z]/;function em(e,t,a){const r=ud(),l=r.locale??$8,c=r.firstWeekContainsDate??r.locale?.options?.firstWeekContainsDate??1,d=r.weekStartsOn??r.locale?.options?.weekStartsOn??0,f=Xs(e,a?.in);if(!c8(f))throw new RangeError("Invalid time value");let p=t.match(nP).map(y=>{const x=y[0];if(x==="p"||x==="P"){const v=K8[x];return v(y,l.formatLong)}return y}).join("").match(aP).map(y=>{if(y==="''")return{isToken:!1,value:"'"};const x=y[0];if(x==="'")return{isToken:!1,value:lP(y)};if(Fb[x])return{isToken:!0,value:y};if(x.match(oP))throw new RangeError("Format string contains an unescaped latin alphabet character `"+x+"`");return{isToken:!1,value:y}});l.localize.preprocessor&&(p=l.localize.preprocessor(f,p));const m={firstWeekContainsDate:c,weekStartsOn:d,locale:l};return p.map(y=>{if(!y.isToken)return y.value;const x=y.value;(eP(x)||Z8(x))&&tP(x,t,String(e));const v=Fb[x[0]];return v(f,x,l.localize,m)}).join("")}function lP(e){const t=e.match(rP);return t?t[1].replace(iP,"'"):e}function cP(){const[,e]=ut(),{user:t,loading:a}=El({redirectOnUnauthenticated:!0}),[r,l]=j.useState(!1),[c,d]=j.useState({title:"",description:"",destination:"",startDate:"",endDate:""}),{data:f,isLoading:p,refetch:m}=Ut.trips.list.useQuery(void 0,{enabled:!!t}),y=Ut.trips.create.useMutation({onSuccess:_=>{le.success("Trip created successfully!"),l(!1),d({title:"",description:"",destination:"",startDate:"",endDate:""}),m(),_.insertId&&e(`/trip/${_.insertId}`)},onError:_=>{le.error(`Failed to create trip: ${_.message}`)}}),x=Ut.trips.delete.useMutation({onSuccess:()=>{le.success("Trip deleted successfully!"),m()},onError:_=>{le.error(`Failed to delete trip: ${_.message}`)}}),v=()=>{if(!c.title.trim()){le.error("Please enter a trip title");return}y.mutate(c)},b=(_,E)=>{confirm(`Are you sure you want to delete "${E}"?`)&&x.mutate({id:_})},N=_=>{switch(_){case"planning":return"bg-blue-500";case"upcoming":return"bg-green-500";case"ongoing":return"bg-purple-500";case"completed":return"bg-gray-500";default:return"bg-gray-500"}},w=_=>{if(!_)return null;try{return em(new Date(_),"MMM d, yyyy")}catch{return null}};return a||p?i.jsxs("div",{"data-loc":"client/src/pages/Trips.tsx:95",className:"min-h-screen bg-white dark:bg-gray-950 transition-colors duration-300",children:[i.jsx(Le,{"data-loc":"client/src/pages/Trips.tsx:96"}),i.jsx("main",{"data-loc":"client/src/pages/Trips.tsx:97",className:"px-6 md:px-10 py-12 dark:text-white",children:i.jsxs("div",{"data-loc":"client/src/pages/Trips.tsx:98",className:"max-w-7xl mx-auto",children:[i.jsxs("div",{"data-loc":"client/src/pages/Trips.tsx:100",className:"flex items-center justify-between mb-8",children:[i.jsxs("div",{"data-loc":"client/src/pages/Trips.tsx:101",children:[i.jsx("div",{"data-loc":"client/src/pages/Trips.tsx:102",className:"h-8 w-48 bg-gray-200 dark:bg-gray-800 rounded animate-shimmer mb-2"}),i.jsx("div",{"data-loc":"client/src/pages/Trips.tsx:103",className:"h-4 w-64 bg-gray-200 dark:bg-gray-800 rounded animate-shimmer"})]}),i.jsx("div",{"data-loc":"client/src/pages/Trips.tsx:105",className:"h-10 w-28 bg-gray-200 dark:bg-gray-800 rounded animate-shimmer"})]}),i.jsx("div",{"data-loc":"client/src/pages/Trips.tsx:109",className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:Array.from({length:6}).map((_,E)=>i.jsx("div",{"data-loc":"client/src/pages/Trips.tsx:111",className:"h-48 bg-gray-200 dark:bg-gray-800 rounded-lg animate-shimmer"},E))})]})})]}):i.jsxs("div",{"data-loc":"client/src/pages/Trips.tsx:121",className:"min-h-screen bg-white dark:bg-gray-950 transition-colors duration-300",children:[i.jsx(Le,{"data-loc":"client/src/pages/Trips.tsx:122"}),i.jsx("main",{"data-loc":"client/src/pages/Trips.tsx:124",className:"px-6 md:px-10 py-12 dark:text-white",children:i.jsxs("div",{"data-loc":"client/src/pages/Trips.tsx:125",className:"max-w-7xl mx-auto",children:[i.jsxs("div",{"data-loc":"client/src/pages/Trips.tsx:127",className:"flex items-center justify-between mb-8 animate-fade-in",children:[i.jsxs("div",{"data-loc":"client/src/pages/Trips.tsx:128",children:[i.jsx("h1",{"data-loc":"client/src/pages/Trips.tsx:129",className:"text-3xl font-bold mb-2 text-black dark:text-white",children:"My Trips"}),i.jsx("p",{"data-loc":"client/src/pages/Trips.tsx:130",className:"text-gray-600 dark:text-gray-400",children:"Plan and organize your travel itineraries"})]}),i.jsxs($m,{"data-loc":"client/src/pages/Trips.tsx:134",open:r,onOpenChange:l,children:[i.jsx(z6,{"data-loc":"client/src/pages/Trips.tsx:135",asChild:!0,children:i.jsxs(Re,{"data-loc":"client/src/pages/Trips.tsx:136",className:"flex items-center gap-2",children:[i.jsx(Cn,{"data-loc":"client/src/pages/Trips.tsx:137",className:"h-4 w-4"}),"New Trip"]})}),i.jsxs(Fm,{"data-loc":"client/src/pages/Trips.tsx:141",className:"sm:max-w-[500px]",children:[i.jsxs(Gm,{"data-loc":"client/src/pages/Trips.tsx:142",children:[i.jsx(Qm,{"data-loc":"client/src/pages/Trips.tsx:143",children:"Create New Trip"}),i.jsx(Ym,{"data-loc":"client/src/pages/Trips.tsx:144",children:"Plan a new adventure. You can add details and itinerary items later."})]}),i.jsxs("div",{"data-loc":"client/src/pages/Trips.tsx:148",className:"grid gap-4 py-4",children:[i.jsxs("div",{"data-loc":"client/src/pages/Trips.tsx:149",className:"grid gap-2",children:[i.jsx(pt,{"data-loc":"client/src/pages/Trips.tsx:150",htmlFor:"title",children:"Trip Title *"}),i.jsx(wt,{"data-loc":"client/src/pages/Trips.tsx:151",id:"title",placeholder:"e.g., Summer in Paris",value:c.title,onChange:_=>d({...c,title:_.target.value})})]}),i.jsxs("div",{"data-loc":"client/src/pages/Trips.tsx:158",className:"grid gap-2",children:[i.jsx(pt,{"data-loc":"client/src/pages/Trips.tsx:159",htmlFor:"destination",children:"Destination"}),i.jsx(wt,{"data-loc":"client/src/pages/Trips.tsx:160",id:"destination",placeholder:"e.g., Paris, France",value:c.destination,onChange:_=>d({...c,destination:_.target.value})})]}),i.jsxs("div",{"data-loc":"client/src/pages/Trips.tsx:167",className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{"data-loc":"client/src/pages/Trips.tsx:168",className:"grid gap-2",children:[i.jsx(pt,{"data-loc":"client/src/pages/Trips.tsx:169",htmlFor:"startDate",children:"Start Date"}),i.jsx(wt,{"data-loc":"client/src/pages/Trips.tsx:170",id:"startDate",type:"date",value:c.startDate,onChange:_=>d({...c,startDate:_.target.value})})]}),i.jsxs("div",{"data-loc":"client/src/pages/Trips.tsx:177",className:"grid gap-2",children:[i.jsx(pt,{"data-loc":"client/src/pages/Trips.tsx:178",htmlFor:"endDate",children:"End Date"}),i.jsx(wt,{"data-loc":"client/src/pages/Trips.tsx:179",id:"endDate",type:"date",value:c.endDate,onChange:_=>d({...c,endDate:_.target.value})})]})]}),i.jsxs("div",{"data-loc":"client/src/pages/Trips.tsx:187",className:"grid gap-2",children:[i.jsx(pt,{"data-loc":"client/src/pages/Trips.tsx:188",htmlFor:"description",children:"Description"}),i.jsx(Zp,{"data-loc":"client/src/pages/Trips.tsx:189",id:"description",placeholder:"What's this trip about?",value:c.description,onChange:_=>d({...c,description:_.target.value}),rows:3})]})]}),i.jsxs(Vm,{"data-loc":"client/src/pages/Trips.tsx:198",children:[i.jsx(Re,{"data-loc":"client/src/pages/Trips.tsx:199",variant:"outline",onClick:()=>l(!1),children:"Cancel"}),i.jsx(Re,{"data-loc":"client/src/pages/Trips.tsx:202",onClick:v,disabled:y.isPending,children:y.isPending?i.jsxs(i.Fragment,{children:[i.jsx(mr,{"data-loc":"client/src/pages/Trips.tsx:205",className:"h-4 w-4 mr-2 animate-spin"}),"Creating..."]}):"Create Trip"})]})]})]})]}),f&&f.length===0?i.jsxs("div",{"data-loc":"client/src/pages/Trips.tsx:219",className:"text-center py-20 animate-fade-in",style:{animationDelay:"100ms"},children:[i.jsx("div",{"data-loc":"client/src/pages/Trips.tsx:220",className:"mb-6",children:i.jsx(Gt,{"data-loc":"client/src/pages/Trips.tsx:221",className:"h-16 w-16 mx-auto text-gray-300 dark:text-gray-700"})}),i.jsx("h2",{"data-loc":"client/src/pages/Trips.tsx:223",className:"text-2xl font-semibold mb-2 text-black dark:text-white",children:"No trips yet"}),i.jsx("p",{"data-loc":"client/src/pages/Trips.tsx:224",className:"text-gray-600 dark:text-gray-400 mb-6",children:"Start planning your next adventure"}),i.jsxs(Re,{"data-loc":"client/src/pages/Trips.tsx:227",onClick:()=>l(!0),className:"bg-black dark:bg-white text-white dark:text-black hover:bg-gray-800 dark:hover:bg-gray-200",children:[i.jsx(Cn,{"data-loc":"client/src/pages/Trips.tsx:228",className:"h-4 w-4 mr-2"}),"Create Your First Trip"]})]}):i.jsx("div",{"data-loc":"client/src/pages/Trips.tsx:233",className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:f?.map((_,E)=>i.jsxs(kt,{"data-loc":"client/src/pages/Trips.tsx:235",className:"hover:shadow-lg transition-all duration-200 cursor-pointer group animate-scale-in dark:bg-gray-900 dark:border-gray-800",style:{animationDelay:`${Math.min(E*50,400)}ms`},children:[i.jsxs(Ht,{"data-loc":"client/src/pages/Trips.tsx:240",className:"pb-3",onClick:()=>e(`/trip/${_.id}`),children:[i.jsxs("div",{"data-loc":"client/src/pages/Trips.tsx:241",className:"flex items-start justify-between mb-2",children:[i.jsx(Ci,{"data-loc":"client/src/pages/Trips.tsx:242",className:N(_.status||"planning"),children:_.status||"planning"}),i.jsxs("div",{"data-loc":"client/src/pages/Trips.tsx:245",className:"flex gap-1 opacity-0 group-hover:opacity-100 transition-opacity",children:[i.jsx(Re,{"data-loc":"client/src/pages/Trips.tsx:246",variant:"ghost",size:"icon",className:"h-8 w-8",onClick:T=>{T.stopPropagation(),e(`/trip/${_.id}/edit`)},children:i.jsx(Um,{"data-loc":"client/src/pages/Trips.tsx:255",className:"h-4 w-4"})}),i.jsx(Re,{"data-loc":"client/src/pages/Trips.tsx:257",variant:"ghost",size:"icon",className:"h-8 w-8 text-red-500 hover:text-red-600",onClick:T=>{T.stopPropagation(),b(_.id,_.title)},children:i.jsx(kl,{"data-loc":"client/src/pages/Trips.tsx:266",className:"h-4 w-4"})})]})]}),i.jsx($t,{"data-loc":"client/src/pages/Trips.tsx:270",className:"line-clamp-1",children:_.title}),_.destination&&i.jsxs(Ma,{"data-loc":"client/src/pages/Trips.tsx:272",className:"flex items-center gap-1 mt-1",children:[i.jsx(Gt,{"data-loc":"client/src/pages/Trips.tsx:273",className:"h-3 w-3"}),_.destination]})]}),i.jsxs(Tt,{"data-loc":"client/src/pages/Trips.tsx:278",onClick:()=>e(`/trip/${_.id}`),children:[_.description&&i.jsx("p",{"data-loc":"client/src/pages/Trips.tsx:280",className:"text-sm text-gray-600 dark:text-gray-400 line-clamp-2 mb-3",children:_.description}),(_.startDate||_.endDate)&&i.jsxs("div",{"data-loc":"client/src/pages/Trips.tsx:285",className:"flex items-center gap-2 text-sm text-gray-500 dark:text-gray-500",children:[i.jsx(An,{"data-loc":"client/src/pages/Trips.tsx:286",className:"h-4 w-4"}),i.jsxs("span",{"data-loc":"client/src/pages/Trips.tsx:287",children:[w(_.startDate),_.endDate&&` - ${w(_.endDate)}`]})]})]}),i.jsxs(lR,{"data-loc":"client/src/pages/Trips.tsx:294",className:"text-xs text-gray-400 dark:text-gray-600",onClick:()=>e(`/trip/${_.id}`),children:["Created ",w(_.createdAt)]})]},_.id))})]})}),i.jsx(Ze,{"data-loc":"client/src/pages/Trips.tsx:304"})]})}function uP(){const[,e]=_l("/trip/:id"),[,t]=ut(),{user:a,loading:r}=El({redirectOnUnauthenticated:!0}),l=e?.id?parseInt(e.id):0,[c,d]=j.useState(!1),[f,p]=j.useState(null),[m,y]=j.useState({day:1,time:"",title:"",description:"",destinationSlug:""}),[x,v]=j.useState(!1),[b,N]=j.useState({title:"",description:"",destination:"",startDate:"",endDate:""}),{data:w,isLoading:_,refetch:E}=Ut.trips.get.useQuery({id:l},{enabled:!!a&&l>0}),T=Ut.trips.update.useMutation({onSuccess:()=>{le.success("Trip updated successfully!"),v(!1),E()},onError:R=>{le.error(`Failed to update trip: ${R.message}`)}}),A=Ut.trips.addItem.useMutation({onSuccess:()=>{le.success("Item added successfully!"),d(!1),y({day:1,time:"",title:"",description:"",destinationSlug:""}),E()},onError:R=>{le.error(`Failed to add item: ${R.message}`)}});Ut.trips.updateItem.useMutation({onSuccess:()=>{le.success("Item updated successfully!"),p(null),E()},onError:R=>{le.error(`Failed to update item: ${R.message}`)}});const I=Ut.trips.deleteItem.useMutation({onSuccess:()=>{le.success("Item deleted successfully!"),E()},onError:R=>{le.error(`Failed to delete item: ${R.message}`)}}),M=()=>{if(!b.title.trim()){le.error("Please enter a trip title");return}T.mutate({id:l,...b})},P=()=>{if(!m.title.trim()){le.error("Please enter an activity title");return}A.mutate({tripId:l,...m,orderIndex:w?.items.filter(R=>R.day===m.day).length||0})},O=(R,ee)=>{confirm(`Delete "${ee}"?`)&&I.mutate({id:R})},C=R=>{if(!R)return null;try{return em(new Date(R),"MMM d, yyyy")}catch{return null}},z=R=>{if(!R)return"";try{return em(new Date(R),"yyyy-MM-dd")}catch{return""}},G=w?.items.reduce((R,ee)=>(R[ee.day]||(R[ee.day]=[]),R[ee.day].push(ee),R),{}),X=Math.max(...w?.items.map(R=>R.day)||[0],1);if(r||_)return i.jsxs("div",{"data-loc":"client/src/pages/TripDetail.tsx:150",className:"min-h-screen bg-white dark:bg-gray-950",children:[i.jsx(Le,{"data-loc":"client/src/pages/TripDetail.tsx:151"}),i.jsx("div",{"data-loc":"client/src/pages/TripDetail.tsx:152",className:"flex items-center justify-center py-20",children:i.jsx(mr,{"data-loc":"client/src/pages/TripDetail.tsx:153",className:"h-8 w-8 animate-spin text-gray-400"})})]});if(!w)return i.jsxs("div",{"data-loc":"client/src/pages/TripDetail.tsx:161",className:"min-h-screen bg-white dark:bg-gray-950",children:[i.jsx(Le,{"data-loc":"client/src/pages/TripDetail.tsx:162"}),i.jsxs("div",{"data-loc":"client/src/pages/TripDetail.tsx:163",className:"flex flex-col items-center justify-center py-20",children:[i.jsx("h2",{"data-loc":"client/src/pages/TripDetail.tsx:164",className:"text-2xl font-semibold mb-4",children:"Trip not found"}),i.jsx(Re,{"data-loc":"client/src/pages/TripDetail.tsx:165",onClick:()=>t("/trips"),children:"Back to Trips"})]})]});const{trip:B,items:se}=w;return i.jsxs("div",{"data-loc":"client/src/pages/TripDetail.tsx:174",className:"min-h-screen bg-white dark:bg-gray-950 transition-colors duration-300",children:[i.jsx(Le,{"data-loc":"client/src/pages/TripDetail.tsx:175"}),i.jsx("main",{"data-loc":"client/src/pages/TripDetail.tsx:177",className:"px-6 md:px-10 py-12 dark:text-white",children:i.jsxs("div",{"data-loc":"client/src/pages/TripDetail.tsx:178",className:"max-w-5xl mx-auto",children:[i.jsxs(Re,{"data-loc":"client/src/pages/TripDetail.tsx:180",variant:"ghost",className:"mb-6",onClick:()=>t("/trips"),children:[i.jsx(BD,{"data-loc":"client/src/pages/TripDetail.tsx:185",className:"h-4 w-4 mr-2"}),"Back to Trips"]}),i.jsx(kt,{"data-loc":"client/src/pages/TripDetail.tsx:190",className:"mb-8",children:i.jsx(Ht,{"data-loc":"client/src/pages/TripDetail.tsx:191",children:x?i.jsxs("div",{"data-loc":"client/src/pages/TripDetail.tsx:193",className:"space-y-4",children:[i.jsxs("div",{"data-loc":"client/src/pages/TripDetail.tsx:194",className:"flex items-center justify-between",children:[i.jsx("h2",{"data-loc":"client/src/pages/TripDetail.tsx:195",className:"text-lg font-semibold",children:"Edit Trip Details"}),i.jsxs("div",{"data-loc":"client/src/pages/TripDetail.tsx:196",className:"flex gap-2",children:[i.jsxs(Re,{"data-loc":"client/src/pages/TripDetail.tsx:197",variant:"ghost",size:"sm",onClick:()=>v(!1),children:[i.jsx(ua,{"data-loc":"client/src/pages/TripDetail.tsx:202",className:"h-4 w-4 mr-1"}),"Cancel"]}),i.jsxs(Re,{"data-loc":"client/src/pages/TripDetail.tsx:205",size:"sm",onClick:M,disabled:T.isPending,children:[i.jsx(rj,{"data-loc":"client/src/pages/TripDetail.tsx:210",className:"h-4 w-4 mr-1"}),"Save"]})]})]}),i.jsxs("div",{"data-loc":"client/src/pages/TripDetail.tsx:215",className:"grid gap-4",children:[i.jsxs("div",{"data-loc":"client/src/pages/TripDetail.tsx:216",children:[i.jsx(pt,{"data-loc":"client/src/pages/TripDetail.tsx:217",htmlFor:"edit-title",children:"Trip Title"}),i.jsx(wt,{"data-loc":"client/src/pages/TripDetail.tsx:218",id:"edit-title",value:b.title,onChange:R=>N({...b,title:R.target.value})})]}),i.jsxs("div",{"data-loc":"client/src/pages/TripDetail.tsx:224",children:[i.jsx(pt,{"data-loc":"client/src/pages/TripDetail.tsx:225",htmlFor:"edit-destination",children:"Destination"}),i.jsx(wt,{"data-loc":"client/src/pages/TripDetail.tsx:226",id:"edit-destination",value:b.destination||"",onChange:R=>N({...b,destination:R.target.value})})]}),i.jsxs("div",{"data-loc":"client/src/pages/TripDetail.tsx:232",className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{"data-loc":"client/src/pages/TripDetail.tsx:233",children:[i.jsx(pt,{"data-loc":"client/src/pages/TripDetail.tsx:234",htmlFor:"edit-start",children:"Start Date"}),i.jsx(wt,{"data-loc":"client/src/pages/TripDetail.tsx:235",id:"edit-start",type:"date",value:b.startDate,onChange:R=>N({...b,startDate:R.target.value})})]}),i.jsxs("div",{"data-loc":"client/src/pages/TripDetail.tsx:242",children:[i.jsx(pt,{"data-loc":"client/src/pages/TripDetail.tsx:243",htmlFor:"edit-end",children:"End Date"}),i.jsx(wt,{"data-loc":"client/src/pages/TripDetail.tsx:244",id:"edit-end",type:"date",value:b.endDate,onChange:R=>N({...b,endDate:R.target.value})})]})]}),i.jsxs("div",{"data-loc":"client/src/pages/TripDetail.tsx:252",children:[i.jsx(pt,{"data-loc":"client/src/pages/TripDetail.tsx:253",htmlFor:"edit-description",children:"Description"}),i.jsx(Zp,{"data-loc":"client/src/pages/TripDetail.tsx:254",id:"edit-description",value:b.description||"",onChange:R=>N({...b,description:R.target.value}),rows:3})]})]})]}):i.jsxs(i.Fragment,{children:[i.jsxs("div",{"data-loc":"client/src/pages/TripDetail.tsx:265",className:"flex items-start justify-between",children:[i.jsxs("div",{"data-loc":"client/src/pages/TripDetail.tsx:266",className:"flex-1",children:[i.jsxs("div",{"data-loc":"client/src/pages/TripDetail.tsx:267",className:"flex items-center gap-3 mb-2",children:[i.jsx($t,{"data-loc":"client/src/pages/TripDetail.tsx:268",className:"text-3xl",children:B.title}),i.jsx(Ci,{"data-loc":"client/src/pages/TripDetail.tsx:269",children:B.status||"planning"})]}),B.destination&&i.jsxs("div",{"data-loc":"client/src/pages/TripDetail.tsx:272",className:"flex items-center gap-2 text-gray-600 dark:text-gray-400 mb-2",children:[i.jsx(Gt,{"data-loc":"client/src/pages/TripDetail.tsx:273",className:"h-4 w-4"}),i.jsx("span",{"data-loc":"client/src/pages/TripDetail.tsx:274",children:B.destination})]}),(B.startDate||B.endDate)&&i.jsxs("div",{"data-loc":"client/src/pages/TripDetail.tsx:278",className:"flex items-center gap-2 text-gray-600 dark:text-gray-400",children:[i.jsx(An,{"data-loc":"client/src/pages/TripDetail.tsx:279",className:"h-4 w-4"}),i.jsxs("span",{"data-loc":"client/src/pages/TripDetail.tsx:280",children:[C(B.startDate),B.endDate&&` - ${C(B.endDate)}`]})]})]}),i.jsxs(Re,{"data-loc":"client/src/pages/TripDetail.tsx:287",variant:"outline",size:"sm",onClick:()=>{N({title:B.title,description:B.description||"",destination:B.destination||"",startDate:z(B.startDate),endDate:z(B.endDate)}),v(!0)},children:[i.jsx(Um,{"data-loc":"client/src/pages/TripDetail.tsx:301",className:"h-4 w-4 mr-1"}),"Edit"]})]}),B.description&&i.jsx("p",{"data-loc":"client/src/pages/TripDetail.tsx:306",className:"text-gray-600 dark:text-gray-400 mt-4",children:B.description})]})})}),i.jsxs("div",{"data-loc":"client/src/pages/TripDetail.tsx:316",className:"space-y-6",children:[i.jsxs("div",{"data-loc":"client/src/pages/TripDetail.tsx:317",className:"flex items-center justify-between",children:[i.jsx("h2",{"data-loc":"client/src/pages/TripDetail.tsx:318",className:"text-2xl font-semibold",children:"Itinerary"}),i.jsxs($m,{"data-loc":"client/src/pages/TripDetail.tsx:319",open:c,onOpenChange:d,children:[i.jsxs(Re,{"data-loc":"client/src/pages/TripDetail.tsx:320",onClick:()=>d(!0),children:[i.jsx(Cn,{"data-loc":"client/src/pages/TripDetail.tsx:321",className:"h-4 w-4 mr-2"}),"Add Activity"]}),i.jsxs(Fm,{"data-loc":"client/src/pages/TripDetail.tsx:324",children:[i.jsxs(Gm,{"data-loc":"client/src/pages/TripDetail.tsx:325",children:[i.jsx(Qm,{"data-loc":"client/src/pages/TripDetail.tsx:326",children:"Add Activity"}),i.jsx(Ym,{"data-loc":"client/src/pages/TripDetail.tsx:327",children:"Add a new activity to your trip itinerary"})]}),i.jsxs("div",{"data-loc":"client/src/pages/TripDetail.tsx:331",className:"grid gap-4 py-4",children:[i.jsxs("div",{"data-loc":"client/src/pages/TripDetail.tsx:332",className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{"data-loc":"client/src/pages/TripDetail.tsx:333",children:[i.jsx(pt,{"data-loc":"client/src/pages/TripDetail.tsx:334",htmlFor:"day",children:"Day"}),i.jsx(wt,{"data-loc":"client/src/pages/TripDetail.tsx:335",id:"day",type:"number",min:"1",value:m.day,onChange:R=>y({...m,day:parseInt(R.target.value)||1})})]}),i.jsxs("div",{"data-loc":"client/src/pages/TripDetail.tsx:343",children:[i.jsx(pt,{"data-loc":"client/src/pages/TripDetail.tsx:344",htmlFor:"time",children:"Time"}),i.jsx(wt,{"data-loc":"client/src/pages/TripDetail.tsx:345",id:"time",placeholder:"e.g., 9:00 AM",value:m.time,onChange:R=>y({...m,time:R.target.value})})]})]}),i.jsxs("div",{"data-loc":"client/src/pages/TripDetail.tsx:353",children:[i.jsx(pt,{"data-loc":"client/src/pages/TripDetail.tsx:354",htmlFor:"activity-title",children:"Activity Title *"}),i.jsx(wt,{"data-loc":"client/src/pages/TripDetail.tsx:355",id:"activity-title",placeholder:"e.g., Visit Eiffel Tower",value:m.title,onChange:R=>y({...m,title:R.target.value})})]}),i.jsxs("div",{"data-loc":"client/src/pages/TripDetail.tsx:362",children:[i.jsx(pt,{"data-loc":"client/src/pages/TripDetail.tsx:363",htmlFor:"activity-description",children:"Description"}),i.jsx(Zp,{"data-loc":"client/src/pages/TripDetail.tsx:364",id:"activity-description",placeholder:"Add details about this activity...",value:m.description,onChange:R=>y({...m,description:R.target.value}),rows:3})]})]}),i.jsxs(Vm,{"data-loc":"client/src/pages/TripDetail.tsx:373",children:[i.jsx(Re,{"data-loc":"client/src/pages/TripDetail.tsx:374",variant:"outline",onClick:()=>d(!1),children:"Cancel"}),i.jsx(Re,{"data-loc":"client/src/pages/TripDetail.tsx:377",onClick:P,disabled:A.isPending,children:A.isPending?"Adding...":"Add Activity"})]})]})]})]}),se.length===0?i.jsx(kt,{"data-loc":"client/src/pages/TripDetail.tsx:386",children:i.jsxs(Tt,{"data-loc":"client/src/pages/TripDetail.tsx:387",className:"py-12 text-center",children:[i.jsx(An,{"data-loc":"client/src/pages/TripDetail.tsx:388",className:"h-12 w-12 mx-auto mb-4 text-gray-300 dark:text-gray-700"}),i.jsx("h3",{"data-loc":"client/src/pages/TripDetail.tsx:389",className:"text-lg font-semibold mb-2",children:"No activities yet"}),i.jsx("p",{"data-loc":"client/src/pages/TripDetail.tsx:390",className:"text-gray-600 dark:text-gray-400 mb-4",children:"Start building your itinerary by adding activities"}),i.jsxs(Re,{"data-loc":"client/src/pages/TripDetail.tsx:393",onClick:()=>d(!0),children:[i.jsx(Cn,{"data-loc":"client/src/pages/TripDetail.tsx:394",className:"h-4 w-4 mr-2"}),"Add First Activity"]})]})}):Array.from({length:X}).map((R,ee)=>{const D=ee+1,Y=G?.[D]||[];return i.jsxs("div",{"data-loc":"client/src/pages/TripDetail.tsx:405",children:[i.jsxs("h3",{"data-loc":"client/src/pages/TripDetail.tsx:406",className:"text-lg font-semibold mb-3 flex items-center gap-2",children:[i.jsx("div",{"data-loc":"client/src/pages/TripDetail.tsx:407",className:"h-8 w-8 rounded-full bg-black dark:bg-white text-white dark:text-black flex items-center justify-center text-sm font-bold",children:D}),"Day ",D]}),i.jsx("div",{"data-loc":"client/src/pages/TripDetail.tsx:412",className:"space-y-3 ml-12",children:Y.length===0?i.jsx(kt,{"data-loc":"client/src/pages/TripDetail.tsx:414",className:"border-dashed",children:i.jsx(Tt,{"data-loc":"client/src/pages/TripDetail.tsx:415",className:"py-6 text-center text-sm text-gray-500",children:"No activities for this day"})}):Y.map(H=>i.jsx(kt,{"data-loc":"client/src/pages/TripDetail.tsx:421",className:"hover:shadow-md transition-shadow",children:i.jsx(Tt,{"data-loc":"client/src/pages/TripDetail.tsx:422",className:"p-4",children:i.jsxs("div",{"data-loc":"client/src/pages/TripDetail.tsx:423",className:"flex items-start justify-between",children:[i.jsxs("div",{"data-loc":"client/src/pages/TripDetail.tsx:424",className:"flex-1",children:[H.time&&i.jsx("div",{"data-loc":"client/src/pages/TripDetail.tsx:426",className:"text-sm text-gray-500 dark:text-gray-400 mb-1",children:H.time}),i.jsx("h4",{"data-loc":"client/src/pages/TripDetail.tsx:430",className:"font-semibold mb-1",children:H.title}),H.description&&i.jsx("p",{"data-loc":"client/src/pages/TripDetail.tsx:432",className:"text-sm text-gray-600 dark:text-gray-400",children:H.description}),H.notes&&i.jsxs("p",{"data-loc":"client/src/pages/TripDetail.tsx:437",className:"text-sm text-gray-500 dark:text-gray-500 italic mt-2",children:["Note: ",H.notes]})]}),i.jsx("div",{"data-loc":"client/src/pages/TripDetail.tsx:442",className:"flex gap-1 ml-4",children:i.jsx(Re,{"data-loc":"client/src/pages/TripDetail.tsx:443",variant:"ghost",size:"icon",className:"h-8 w-8 text-red-500 hover:text-red-600",onClick:()=>O(H.id,H.title),children:i.jsx(kl,{"data-loc":"client/src/pages/TripDetail.tsx:449",className:"h-4 w-4"})})})]})})},H.id))})]},D)})]})]})}),i.jsx(Ze,{"data-loc":"client/src/pages/TripDetail.tsx:466"})]})}function dP(){const[,e]=ut(),{loading:t}=El({redirectOnUnauthenticated:!0}),[a,r]=j.useState(""),[l,c]=j.useState(3),[d,f]=j.useState([]),[p,m]=j.useState(""),[y,x]=j.useState(null),[v,b]=j.useState(!1),N=Ut.trips.createFromAI.useMutation({onSuccess:A=>{le.success("Trip created successfully!"),e(`/trip/${A.tripId}`)},onError:A=>{le.error(`Failed to create trip: ${A.message}`)}}),w=()=>{p.trim()&&!d.includes(p.trim())&&(f([...d,p.trim()]),m(""))},_=A=>{f(d.filter(I=>I!==A))},E=async()=>{if(!a.trim()){le.error("Please enter a city");return}b(!0);try{const{data:A}=await re.from("destinations").select("*").order("name");if(!A){le.error("Failed to load destinations");return}const I=await fetch("/api/trpc/ai.generateItinerary",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({city:a.toLowerCase().replace(/\s+/g,"-"),days:l,interests:d.length>0?d:["sightseeing","dining"],destinations:A.map(P=>({name:P.name,slug:P.slug,category:P.category,city:P.city,description:P.description||P.content,michelinStars:P.michelin_stars}))})});if(!I.ok)throw new Error("Failed to generate itinerary");const M=await I.json();x(M.result.data),le.success("Itinerary generated!")}catch(A){console.error(A),le.error("Failed to generate itinerary. Please try again.")}finally{b(!1)}},T=()=>{y&&N.mutate({title:y.title,description:y.description,destination:a,days:y.days})};return t?i.jsxs("div",{"data-loc":"client/src/pages/CreateTripWithAI.tsx:114",className:"min-h-screen bg-white dark:bg-gray-950",children:[i.jsx(Le,{"data-loc":"client/src/pages/CreateTripWithAI.tsx:115"}),i.jsx("div",{"data-loc":"client/src/pages/CreateTripWithAI.tsx:116",className:"flex items-center justify-center py-20",children:i.jsx(mr,{"data-loc":"client/src/pages/CreateTripWithAI.tsx:117",className:"h-8 w-8 animate-spin text-gray-400"})})]}):i.jsxs("div",{"data-loc":"client/src/pages/CreateTripWithAI.tsx:124",className:"min-h-screen bg-white dark:bg-gray-950 transition-colors duration-300",children:[i.jsx(Le,{"data-loc":"client/src/pages/CreateTripWithAI.tsx:125"}),i.jsx("main",{"data-loc":"client/src/pages/CreateTripWithAI.tsx:127",className:"px-6 md:px-10 py-12 dark:text-white",children:i.jsxs("div",{"data-loc":"client/src/pages/CreateTripWithAI.tsx:128",className:"max-w-4xl mx-auto",children:[i.jsxs("div",{"data-loc":"client/src/pages/CreateTripWithAI.tsx:130",className:"mb-8",children:[i.jsxs("h1",{"data-loc":"client/src/pages/CreateTripWithAI.tsx:131",className:"text-3xl font-bold mb-2 flex items-center gap-2",children:[i.jsx(Ru,{"data-loc":"client/src/pages/CreateTripWithAI.tsx:132",className:"h-8 w-8"}),"Create Trip with AI"]}),i.jsx("p",{"data-loc":"client/src/pages/CreateTripWithAI.tsx:135",className:"text-gray-600 dark:text-gray-400",children:"Let AI help you create the perfect itinerary based on your preferences"})]}),y?i.jsx("div",{"data-loc":"client/src/pages/CreateTripWithAI.tsx:230",className:"space-y-6",children:i.jsxs(kt,{"data-loc":"client/src/pages/CreateTripWithAI.tsx:232",children:[i.jsx(Ht,{"data-loc":"client/src/pages/CreateTripWithAI.tsx:233",children:i.jsxs("div",{"data-loc":"client/src/pages/CreateTripWithAI.tsx:234",className:"flex items-start justify-between",children:[i.jsxs("div",{"data-loc":"client/src/pages/CreateTripWithAI.tsx:235",children:[i.jsx($t,{"data-loc":"client/src/pages/CreateTripWithAI.tsx:236",className:"text-2xl",children:y.title}),i.jsx(Ma,{"data-loc":"client/src/pages/CreateTripWithAI.tsx:237",className:"mt-2",children:y.description})]}),i.jsx(Re,{"data-loc":"client/src/pages/CreateTripWithAI.tsx:241",onClick:()=>x(null),variant:"outline",children:"Start Over"})]})}),i.jsxs(Tt,{"data-loc":"client/src/pages/CreateTripWithAI.tsx:246",className:"space-y-6",children:[y.days.map(A=>i.jsxs("div",{"data-loc":"client/src/pages/CreateTripWithAI.tsx:248",className:"border-l-2 border-gray-300 dark:border-gray-700 pl-6",children:[i.jsxs("h3",{"data-loc":"client/src/pages/CreateTripWithAI.tsx:249",className:"text-lg font-semibold mb-3 flex items-center gap-2",children:[i.jsx("div",{"data-loc":"client/src/pages/CreateTripWithAI.tsx:250",className:"h-8 w-8 rounded-full bg-black dark:bg-white text-white dark:text-black flex items-center justify-center text-sm font-bold -ml-10",children:A.day}),A.title]}),i.jsx("div",{"data-loc":"client/src/pages/CreateTripWithAI.tsx:255",className:"space-y-3",children:A.activities.map((I,M)=>i.jsxs("div",{"data-loc":"client/src/pages/CreateTripWithAI.tsx:257",className:"bg-gray-50 dark:bg-gray-900 p-4 rounded-lg",children:[i.jsx("div",{"data-loc":"client/src/pages/CreateTripWithAI.tsx:261",className:"text-sm text-gray-500 dark:text-gray-400 mb-1",children:I.time}),i.jsx("h4",{"data-loc":"client/src/pages/CreateTripWithAI.tsx:264",className:"font-semibold mb-1",children:I.destination}),i.jsx("p",{"data-loc":"client/src/pages/CreateTripWithAI.tsx:265",className:"text-sm text-gray-600 dark:text-gray-400",children:I.description})]},M))})]},A.day)),y.tips&&y.tips.length>0&&i.jsxs("div",{"data-loc":"client/src/pages/CreateTripWithAI.tsx:275",className:"mt-8 p-6 bg-blue-50 dark:bg-blue-950 rounded-lg",children:[i.jsx("h3",{"data-loc":"client/src/pages/CreateTripWithAI.tsx:276",className:"text-lg font-semibold mb-3",children:"Travel Tips"}),i.jsx("ul",{"data-loc":"client/src/pages/CreateTripWithAI.tsx:277",className:"list-disc list-inside space-y-2 text-sm text-gray-700 dark:text-gray-300",children:y.tips.map((A,I)=>i.jsx("li",{"data-loc":"client/src/pages/CreateTripWithAI.tsx:279",children:A},I))})]}),i.jsx("div",{"data-loc":"client/src/pages/CreateTripWithAI.tsx:285",className:"flex gap-3 pt-6",children:i.jsx(Re,{"data-loc":"client/src/pages/CreateTripWithAI.tsx:286",onClick:T,disabled:N.isPending,className:"flex-1",children:N.isPending?i.jsxs(i.Fragment,{children:[i.jsx(mr,{"data-loc":"client/src/pages/CreateTripWithAI.tsx:293",className:"h-4 w-4 mr-2 animate-spin"}),"Saving..."]}):i.jsxs(i.Fragment,{children:[i.jsx(An,{"data-loc":"client/src/pages/CreateTripWithAI.tsx:298",className:"h-4 w-4 mr-2"}),"Save as Trip"]})})})]})]})}):i.jsxs(kt,{"data-loc":"client/src/pages/CreateTripWithAI.tsx:141",children:[i.jsxs(Ht,{"data-loc":"client/src/pages/CreateTripWithAI.tsx:142",children:[i.jsx($t,{"data-loc":"client/src/pages/CreateTripWithAI.tsx:143",children:"Trip Details"}),i.jsx(Ma,{"data-loc":"client/src/pages/CreateTripWithAI.tsx:144",children:"Tell us about your trip and we'll generate a personalized itinerary"})]}),i.jsxs(Tt,{"data-loc":"client/src/pages/CreateTripWithAI.tsx:148",className:"space-y-6",children:[i.jsxs("div",{"data-loc":"client/src/pages/CreateTripWithAI.tsx:149",className:"grid gap-2",children:[i.jsx(pt,{"data-loc":"client/src/pages/CreateTripWithAI.tsx:150",htmlFor:"city",children:"Destination City *"}),i.jsx(wt,{"data-loc":"client/src/pages/CreateTripWithAI.tsx:151",id:"city",placeholder:"e.g., Paris, Tokyo, New York",value:a,onChange:A=>r(A.target.value)})]}),i.jsxs("div",{"data-loc":"client/src/pages/CreateTripWithAI.tsx:159",className:"grid gap-2",children:[i.jsx(pt,{"data-loc":"client/src/pages/CreateTripWithAI.tsx:160",htmlFor:"days",children:"Number of Days"}),i.jsx(wt,{"data-loc":"client/src/pages/CreateTripWithAI.tsx:161",id:"days",type:"number",min:"1",max:"14",value:l,onChange:A=>c(parseInt(A.target.value)||1)})]}),i.jsxs("div",{"data-loc":"client/src/pages/CreateTripWithAI.tsx:171",className:"grid gap-2",children:[i.jsx(pt,{"data-loc":"client/src/pages/CreateTripWithAI.tsx:172",htmlFor:"interests",children:"Interests (Optional)"}),i.jsxs("div",{"data-loc":"client/src/pages/CreateTripWithAI.tsx:173",className:"flex gap-2",children:[i.jsx(wt,{"data-loc":"client/src/pages/CreateTripWithAI.tsx:174",id:"interests",placeholder:"e.g., food, art, history, shopping",value:p,onChange:A=>m(A.target.value),onKeyPress:A=>{A.key==="Enter"&&(A.preventDefault(),w())}}),i.jsx(Re,{"data-loc":"client/src/pages/CreateTripWithAI.tsx:186",type:"button",onClick:w,variant:"outline",children:"Add"})]}),d.length>0&&i.jsx("div",{"data-loc":"client/src/pages/CreateTripWithAI.tsx:191",className:"flex flex-wrap gap-2 mt-2",children:d.map(A=>i.jsxs("span",{"data-loc":"client/src/pages/CreateTripWithAI.tsx:193",className:"px-3 py-1 bg-gray-100 dark:bg-gray-800 rounded-full text-sm flex items-center gap-2",children:[A,i.jsx("button",{"data-loc":"client/src/pages/CreateTripWithAI.tsx:198",onClick:()=>_(A),className:"hover:text-red-500",children:""})]},A))})]}),i.jsx(Re,{"data-loc":"client/src/pages/CreateTripWithAI.tsx:210",onClick:E,disabled:v||!a.trim(),className:"w-full",children:v?i.jsxs(i.Fragment,{children:[i.jsx(mr,{"data-loc":"client/src/pages/CreateTripWithAI.tsx:217",className:"h-4 w-4 mr-2 animate-spin"}),"Generating Your Itinerary..."]}):i.jsxs(i.Fragment,{children:[i.jsx(Ru,{"data-loc":"client/src/pages/CreateTripWithAI.tsx:222",className:"h-4 w-4 mr-2"}),"Generate Itinerary with AI"]})})]})]})]})}),i.jsx(Ze,{"data-loc":"client/src/pages/CreateTripWithAI.tsx:311"})]})}function fP(){return i.jsxs(l3,{"data-loc":"client/src/App.tsx:32",children:[i.jsx(st,{"data-loc":"client/src/App.tsx:33",path:"/",component:X6}),i.jsx(st,{"data-loc":"client/src/App.tsx:34",path:"/auth/login",component:oR}),i.jsx(st,{"data-loc":"client/src/App.tsx:35",path:"/destination/:slug",component:tR}),i.jsx(st,{"data-loc":"client/src/App.tsx:36",path:"/cities",component:nR}),i.jsx(st,{"data-loc":"client/src/App.tsx:37",path:"/city/:city",component:iR}),i.jsx(st,{"data-loc":"client/src/App.tsx:38",path:"/saved",component:sR}),i.jsx(st,{"data-loc":"client/src/App.tsx:39",path:"/preferences",component:zb}),i.jsx(st,{"data-loc":"client/src/App.tsx:40",path:"/account",component:zb}),i.jsx(st,{"data-loc":"client/src/App.tsx:41",path:"/user/:username",component:LR}),i.jsx(st,{"data-loc":"client/src/App.tsx:42",path:"/lists",component:UR}),i.jsx(st,{"data-loc":"client/src/App.tsx:43",path:"/list/:id",component:BR}),i.jsx(st,{"data-loc":"client/src/App.tsx:44",path:"/feed",component:$R}),i.jsx(st,{"data-loc":"client/src/App.tsx:45",path:"/explore",component:FR}),i.jsx(st,{"data-loc":"client/src/App.tsx:46",path:"/privacy",component:GR}),i.jsx(st,{"data-loc":"client/src/App.tsx:47",path:"/brand/:slug",component:YR}),i.jsx(st,{"data-loc":"client/src/App.tsx:48",path:"/designer/:slug",component:XR}),i.jsx(st,{"data-loc":"client/src/App.tsx:49",path:"/showcase/:slug",component:e8}),i.jsx(st,{"data-loc":"client/src/App.tsx:50",path:"/editorial",component:t8}),i.jsx(st,{"data-loc":"client/src/App.tsx:51",path:"/analytics",component:s8}),i.jsx(st,{"data-loc":"client/src/App.tsx:52",path:"/trips",component:cP}),i.jsx(st,{"data-loc":"client/src/App.tsx:53",path:"/trip/:id",component:uP}),i.jsx(st,{"data-loc":"client/src/App.tsx:54",path:"/trips/create-with-ai",component:dP}),i.jsx(st,{"data-loc":"client/src/App.tsx:55",path:"/404",component:jb}),i.jsx(st,{"data-loc":"client/src/App.tsx:57",component:jb})]})}function hP(){return i.jsx(x5,{"data-loc":"client/src/App.tsx:69",children:i.jsx(p5,{"data-loc":"client/src/App.tsx:70",defaultTheme:"light",switchable:!0,children:i.jsxs(q4,{"data-loc":"client/src/App.tsx:74",children:[i.jsx(GA,{"data-loc":"client/src/App.tsx:75"}),i.jsx(fP,{"data-loc":"client/src/App.tsx:76"})]})})})}/*! Capacitor: https://capacitorjs.com/ - MIT License */var zi;(function(e){e.Unimplemented="UNIMPLEMENTED",e.Unavailable="UNAVAILABLE"})(zi||(zi={}));class op extends Error{constructor(t,a,r){super(t),this.message=t,this.code=a,this.data=r}}const pP=e=>{var t,a;return e?.androidBridge?"android":!((a=(t=e?.webkit)===null||t===void 0?void 0:t.messageHandlers)===null||a===void 0)&&a.bridge?"ios":"web"},mP=e=>{const t=e.CapacitorCustomPlatform||null,a=e.Capacitor||{},r=a.Plugins=a.Plugins||{},l=()=>t!==null?t.name:pP(e),c=()=>l()!=="web",d=x=>{const v=m.get(x);return!!(v?.platforms.has(l())||f(x))},f=x=>{var v;return(v=a.PluginHeaders)===null||v===void 0?void 0:v.find(b=>b.name===x)},p=x=>e.console.error(x),m=new Map,y=(x,v={})=>{const b=m.get(x);if(b)return console.warn(`Capacitor plugin "${x}" already registered. Cannot register plugins twice.`),b.proxy;const N=l(),w=f(x);let _;const E=async()=>(!_&&N in v?_=typeof v[N]=="function"?_=await v[N]():_=v[N]:t!==null&&!_&&"web"in v&&(_=typeof v.web=="function"?_=await v.web():_=v.web),_),T=(C,z)=>{var G,X;if(w){const B=w?.methods.find(se=>z===se.name);if(B)return B.rtype==="promise"?se=>a.nativePromise(x,z.toString(),se):(se,R)=>a.nativeCallback(x,z.toString(),se,R);if(C)return(G=C[z])===null||G===void 0?void 0:G.bind(C)}else{if(C)return(X=C[z])===null||X===void 0?void 0:X.bind(C);throw new op(`"${x}" plugin is not implemented on ${N}`,zi.Unimplemented)}},A=C=>{let z;const G=(...X)=>{const B=E().then(se=>{const R=T(se,C);if(R){const ee=R(...X);return z=ee?.remove,ee}else throw new op(`"${x}.${C}()" is not implemented on ${N}`,zi.Unimplemented)});return C==="addListener"&&(B.remove=async()=>z()),B};return G.toString=()=>`${C.toString()}() { [capacitor code] }`,Object.defineProperty(G,"name",{value:C,writable:!1,configurable:!1}),G},I=A("addListener"),M=A("removeListener"),P=(C,z)=>{const G=I({eventName:C},z),X=async()=>{const se=await G;M({eventName:C,callbackId:se},z)},B=new Promise(se=>G.then(()=>se({remove:X})));return B.remove=async()=>{console.warn("Using addListener() without 'await' is deprecated."),await X()},B},O=new Proxy({},{get(C,z){switch(z){case"$$typeof":return;case"toJSON":return()=>({});case"addListener":return w?P:I;case"removeListener":return M;default:return A(z)}}});return r[x]=O,m.set(x,{name:x,proxy:O,platforms:new Set([...Object.keys(v),...w?[N]:[]])}),O};return a.convertFileSrc||(a.convertFileSrc=x=>x),a.getPlatform=l,a.handleError=p,a.isNativePlatform=c,a.isPluginAvailable=d,a.registerPlugin=y,a.Exception=op,a.DEBUG=!!a.DEBUG,a.isLoggingEnabled=!!a.isLoggingEnabled,a},gP=e=>e.Capacitor=mP(e),yl=gP(typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{}),kr=yl.registerPlugin;class oS{constructor(){this.listeners={},this.retainedEventArguments={},this.windowListeners={}}addListener(t,a){let r=!1;this.listeners[t]||(this.listeners[t]=[],r=!0),this.listeners[t].push(a);const c=this.windowListeners[t];c&&!c.registered&&this.addWindowListener(c),r&&this.sendRetainedArgumentsForEvent(t);const d=async()=>this.removeListener(t,a);return Promise.resolve({remove:d})}async removeAllListeners(){this.listeners={};for(const t in this.windowListeners)this.removeWindowListener(this.windowListeners[t]);this.windowListeners={}}notifyListeners(t,a,r){const l=this.listeners[t];if(!l){if(r){let c=this.retainedEventArguments[t];c||(c=[]),c.push(a),this.retainedEventArguments[t]=c}return}l.forEach(c=>c(a))}hasListeners(t){var a;return!!(!((a=this.listeners[t])===null||a===void 0)&&a.length)}registerWindowListener(t,a){this.windowListeners[a]={registered:!1,windowEventName:t,pluginEventName:a,handler:r=>{this.notifyListeners(a,r)}}}unimplemented(t="not implemented"){return new yl.Exception(t,zi.Unimplemented)}unavailable(t="not available"){return new yl.Exception(t,zi.Unavailable)}async removeListener(t,a){const r=this.listeners[t];if(!r)return;const l=r.indexOf(a);this.listeners[t].splice(l,1),this.listeners[t].length||this.removeWindowListener(this.windowListeners[t])}addWindowListener(t){window.addEventListener(t.windowEventName,t.handler),t.registered=!0}removeWindowListener(t){t&&(window.removeEventListener(t.windowEventName,t.handler),t.registered=!1)}sendRetainedArgumentsForEvent(t){const a=this.retainedEventArguments[t];a&&(delete this.retainedEventArguments[t],a.forEach(r=>{this.notifyListeners(t,r)}))}}const Yb=e=>encodeURIComponent(e).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape),Kb=e=>e.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent);class xP extends oS{async getCookies(){const t=document.cookie,a={};return t.split(";").forEach(r=>{if(r.length<=0)return;let[l,c]=r.replace(/=/,"CAP_COOKIE").split("CAP_COOKIE");l=Kb(l).trim(),c=Kb(c).trim(),a[l]=c}),a}async setCookie(t){try{const a=Yb(t.key),r=Yb(t.value),l=`; expires=${(t.expires||"").replace("expires=","")}`,c=(t.path||"/").replace("path=",""),d=t.url!=null&&t.url.length>0?`domain=${t.url}`:"";document.cookie=`${a}=${r||""}${l}; path=${c}; ${d};`}catch(a){return Promise.reject(a)}}async deleteCookie(t){try{document.cookie=`${t.key}=; Max-Age=0`}catch(a){return Promise.reject(a)}}async clearCookies(){try{const t=document.cookie.split(";")||[];for(const a of t)document.cookie=a.replace(/^ +/,"").replace(/=.*/,`=;expires=${new Date().toUTCString()};path=/`)}catch(t){return Promise.reject(t)}}async clearAllCookies(){try{await this.clearCookies()}catch(t){return Promise.reject(t)}}}kr("CapacitorCookies",{web:()=>new xP});const yP=async e=>new Promise((t,a)=>{const r=new FileReader;r.onload=()=>{const l=r.result;t(l.indexOf(",")>=0?l.split(",")[1]:l)},r.onerror=l=>a(l),r.readAsDataURL(e)}),vP=(e={})=>{const t=Object.keys(e);return Object.keys(e).map(l=>l.toLocaleLowerCase()).reduce((l,c,d)=>(l[c]=e[t[d]],l),{})},bP=(e,t=!0)=>e?Object.entries(e).reduce((r,l)=>{const[c,d]=l;let f,p;return Array.isArray(d)?(p="",d.forEach(m=>{f=t?encodeURIComponent(m):m,p+=`${c}=${f}&`}),p.slice(0,-1)):(f=t?encodeURIComponent(d):d,p=`${c}=${f}`),`${r}&${p}`},"").substr(1):null,wP=(e,t={})=>{const a=Object.assign({method:e.method||"GET",headers:e.headers},t),l=vP(e.headers)["content-type"]||"";if(typeof e.data=="string")a.body=e.data;else if(l.includes("application/x-www-form-urlencoded")){const c=new URLSearchParams;for(const[d,f]of Object.entries(e.data||{}))c.set(d,f);a.body=c.toString()}else if(l.includes("multipart/form-data")||e.data instanceof FormData){const c=new FormData;if(e.data instanceof FormData)e.data.forEach((f,p)=>{c.append(p,f)});else for(const f of Object.keys(e.data))c.append(f,e.data[f]);a.body=c;const d=new Headers(a.headers);d.delete("content-type"),a.headers=d}else(l.includes("application/json")||typeof e.data=="object")&&(a.body=JSON.stringify(e.data));return a};class jP extends oS{async request(t){const a=wP(t,t.webFetchExtra),r=bP(t.params,t.shouldEncodeUrlParams),l=r?`${t.url}?${r}`:t.url,c=await fetch(l,a),d=c.headers.get("content-type")||"";let{responseType:f="text"}=c.ok?t:{};d.includes("application/json")&&(f="json");let p,m;switch(f){case"arraybuffer":case"blob":m=await c.blob(),p=await yP(m);break;case"json":p=await c.json();break;case"document":case"text":default:p=await c.text()}const y={};return c.headers.forEach((x,v)=>{y[v]=x}),{data:p,headers:y,status:c.status,url:c.url}}async get(t){return this.request(Object.assign(Object.assign({},t),{method:"GET"}))}async post(t){return this.request(Object.assign(Object.assign({},t),{method:"POST"}))}async put(t){return this.request(Object.assign(Object.assign({},t),{method:"PUT"}))}async patch(t){return this.request(Object.assign(Object.assign({},t),{method:"PATCH"}))}async delete(t){return this.request(Object.assign(Object.assign({},t),{method:"DELETE"}))}}kr("CapacitorHttp",{web:()=>new jP});var tm;(function(e){e.Dark="DARK",e.Light="LIGHT",e.Default="DEFAULT"})(tm||(tm={}));var Wb;(function(e){e.None="NONE",e.Slide="SLIDE",e.Fade="FADE"})(Wb||(Wb={}));const Xb=kr("StatusBar"),SP=kr("SplashScreen",{web:()=>qa(()=>import("./web-ESst6uhD.js"),[]).then(e=>new e.SplashScreenWeb)}),lp=kr("App",{web:()=>qa(()=>import("./web-DoU9WXkW.js"),[]).then(e=>new e.AppWeb)});var Jb;(function(e){e.Heavy="HEAVY",e.Medium="MEDIUM",e.Light="LIGHT"})(Jb||(Jb={}));var Zb;(function(e){e.Success="SUCCESS",e.Warning="WARNING",e.Error="ERROR"})(Zb||(Zb={}));kr("Haptics",{web:()=>qa(()=>import("./web-BD59tR-U.js"),[]).then(e=>new e.HapticsWeb)});var ew;(function(e){e.Dark="DARK",e.Light="LIGHT",e.Default="DEFAULT"})(ew||(ew={}));var tw;(function(e){e.Body="body",e.Ionic="ionic",e.Native="native",e.None="none"})(tw||(tw={}));const sw=kr("Keyboard"),_P=yl.isNativePlatform();yl.getPlatform();async function NP(){if(_P)try{await Xb.setStyle({style:tm.Light}),await Xb.setBackgroundColor({color:"#f5f1e8"}),await SP.hide(),lp.addListener("appStateChange",({isActive:e})=>{}),lp.addListener("backButton",({canGoBack:e})=>{e?window.history.back():lp.exitApp()}),sw.addListener("keyboardWillShow",e=>{}),sw.addListener("keyboardWillHide",()=>{})}catch(e){console.error("Error initializing native features:",e)}}NP();const Iu=new QN,lS=e=>{!(e instanceof Ri)||typeof window>"u"||!(e.message===AE)||(window.location.href=Ij())};Iu.getQueryCache().subscribe(e=>{if(e.type==="updated"&&e.action.type==="error"){const t=e.query.state.error;lS(t),console.error("[API Query Error]",t)}});Iu.getMutationCache().subscribe(e=>{if(e.type==="updated"&&e.action.type==="error"){const t=e.mutation.state.error;lS(t),console.error("[API Mutation Error]",t)}});const kP=Ut.createClient({links:[tE({url:"/api/trpc",transformer:za,fetch(e,t){return globalThis.fetch(e,{...t??{},credentials:"include"})}})]});document.readyState==="loading"?document.addEventListener("DOMContentLoaded",aw):aw();function aw(){PE.createRoot(document.getElementById("root")).render(i.jsx(Ut.Provider,{"data-loc":"client/src/main.tsx:68",client:kP,queryClient:Iu,children:i.jsx(KN,{"data-loc":"client/src/main.tsx:69",client:Iu,children:i.jsx(hP,{"data-loc":"client/src/main.tsx:70"})})}))}export{Jb as I,Zb as N,oS as W};
